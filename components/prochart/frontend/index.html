<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>prochart</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <style>
      html, body { height: 100%; margin: 0; background: transparent; }
      #root { width: 100%; height: 100%; position: relative; }
      #chart { position: absolute; inset: 0; }
      #overlay { position: absolute; inset: 0; pointer-events: auto; }
      .toolbox {
        position: absolute; top: 10px; left: 10px;
        display: flex; flex-direction: column; gap: 6px;
        background: rgba(20,20,20,0.65); padding: 6px; border-radius: 8px; z-index: 10;
        -webkit-user-select: none; user-select: none;
      }
      .btn { border: 1px solid rgba(255,255,255,0.25); background: rgba(40,40,40,0.9);
             padding: 6px 8px; color: #e6f7ff; font: 12px/1.1 system-ui, sans-serif; border-radius: 6px; cursor: pointer; }
      .btn.active { outline: 2px solid #00E5FF; }
      .row { display: flex; gap: 6px; }
      .sep { height: 1px; background: rgba(255,255,255,0.12); margin: 4px 0; }
      .label-input { position:absolute; z-index:11; padding:4px 6px; border-radius:6px;
                     background:#0b1220; color:#e6f7ff; border:1px solid rgba(255,255,255,0.25);
                     font: 12px/1.2 system-ui, sans-serif; }
    </style>
    <!-- Local libraries: MUST be before bundle.js -->
    <script src="./streamlit-component-lib.js"></script>
    <script src="./lightweight-charts.standalone.production.js"></script>
  </head>
  <body>
    <div id="root">
      <div id="chart"></div>
      <canvas id="overlay"></canvas>
      <div class="toolbox" id="toolbox">
        <div class="row">
          <div class="btn" data-tool="cursor">Cursor</div>
          <div class="btn" data-tool="pan">Pan</div>
          <div class="btn" data-tool="zoom">Zoom</div>
        </div>
        <div class="sep"></div>
        <div class="row">
          <div class="btn" data-tool="trendline">Trendline</div>
          <div class="btn" data-tool="hline">H-Line</div>
          <div class="btn" data-tool="rect">Rect</div>
          <div class="btn" data-tool="path">Path</div>
          <div class="btn" data-tool="text">Text</div>
          <div class="btn" data-tool="fib">Fibo</div>
        </div>
        <div class="sep"></div>
        <div class="row">
          <div class="btn" data-tool="erase">Erase</div>
        </div>
      </div>
    </div>
    <!-- Your component code last -->
    <script src="bundle.js"></script>
  </body>
</html>
