(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}})();function bc(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Rm={exports:{}},ka={},Am={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yo=Symbol.for("react.element"),yw=Symbol.for("react.portal"),vw=Symbol.for("react.fragment"),gw=Symbol.for("react.strict_mode"),ww=Symbol.for("react.profiler"),bw=Symbol.for("react.provider"),_w=Symbol.for("react.context"),Sw=Symbol.for("react.forward_ref"),xw=Symbol.for("react.suspense"),Mw=Symbol.for("react.memo"),Iw=Symbol.for("react.lazy"),ad=Symbol.iterator;function Cw(i){return i===null||typeof i!="object"?null:(i=ad&&i[ad]||i["@@iterator"],typeof i=="function"?i:null)}var Pm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$m=Object.assign,Vm={};function nr(i,t,e){this.props=i,this.context=t,this.refs=Vm,this.updater=e||Pm}nr.prototype.isReactComponent={};nr.prototype.setState=function(i,t){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,t,"setState")};nr.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function Um(){}Um.prototype=nr.prototype;function _c(i,t,e){this.props=i,this.context=t,this.refs=Vm,this.updater=e||Pm}var Sc=_c.prototype=new Um;Sc.constructor=_c;$m(Sc,nr.prototype);Sc.isPureReactComponent=!0;var ud=Array.isArray,jm=Object.prototype.hasOwnProperty,xc={current:null},Wm={key:!0,ref:!0,__self:!0,__source:!0};function Hm(i,t,e){var n,s={},r=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(r=""+t.key),t)jm.call(t,n)&&!Wm.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=e;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(i&&i.defaultProps)for(n in l=i.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:yo,type:i,key:r,ref:o,props:s,_owner:xc.current}}function Ew(i,t){return{$$typeof:yo,type:i.type,key:t,ref:i.ref,props:i.props,_owner:i._owner}}function Mc(i){return typeof i=="object"&&i!==null&&i.$$typeof===yo}function kw(i){var t={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(e){return t[e]})}var hd=/\/+/g;function hu(i,t){return typeof i=="object"&&i!==null&&i.key!=null?kw(""+i.key):t.toString(36)}function ll(i,t,e,n,s){var r=typeof i;(r==="undefined"||r==="boolean")&&(i=null);var o=!1;if(i===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(i.$$typeof){case yo:case yw:o=!0}}if(o)return o=i,s=s(o),i=n===""?"."+hu(o,0):n,ud(s)?(e="",i!=null&&(e=i.replace(hd,"$&/")+"/"),ll(s,t,e,"",function(u){return u})):s!=null&&(Mc(s)&&(s=Ew(s,e+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(hd,"$&/")+"/")+i)),t.push(s)),1;if(o=0,n=n===""?".":n+":",ud(i))for(var l=0;l<i.length;l++){r=i[l];var a=n+hu(r,l);o+=ll(r,t,e,a,s)}else if(a=Cw(i),typeof a=="function")for(i=a.call(i),l=0;!(r=i.next()).done;)r=r.value,a=n+hu(r,l++),o+=ll(r,t,e,a,s);else if(r==="object")throw t=String(i),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Oo(i,t,e){if(i==null)return i;var n=[],s=0;return ll(i,n,"","",function(r){return t.call(e,r,s++)}),n}function Nw(i){if(i._status===-1){var t=i._result;t=t(),t.then(function(e){(i._status===0||i._status===-1)&&(i._status=1,i._result=e)},function(e){(i._status===0||i._status===-1)&&(i._status=2,i._result=e)}),i._status===-1&&(i._status=0,i._result=t)}if(i._status===1)return i._result.default;throw i._result}var ne={current:null},al={transition:null},Tw={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:al,ReactCurrentOwner:xc};function Km(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:Oo,forEach:function(i,t,e){Oo(i,function(){t.apply(this,arguments)},e)},count:function(i){var t=0;return Oo(i,function(){t++}),t},toArray:function(i){return Oo(i,function(t){return t})||[]},only:function(i){if(!Mc(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};G.Component=nr;G.Fragment=vw;G.Profiler=ww;G.PureComponent=_c;G.StrictMode=gw;G.Suspense=xw;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tw;G.act=Km;G.cloneElement=function(i,t,e){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var n=$m({},i.props),s=i.key,r=i.ref,o=i._owner;if(t!=null){if(t.ref!==void 0&&(r=t.ref,o=xc.current),t.key!==void 0&&(s=""+t.key),i.type&&i.type.defaultProps)var l=i.type.defaultProps;for(a in t)jm.call(t,a)&&!Wm.hasOwnProperty(a)&&(n[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)n.children=e;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:yo,type:i.type,key:s,ref:r,props:n,_owner:o}};G.createContext=function(i){return i={$$typeof:_w,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:bw,_context:i},i.Consumer=i};G.createElement=Hm;G.createFactory=function(i){var t=Hm.bind(null,i);return t.type=i,t};G.createRef=function(){return{current:null}};G.forwardRef=function(i){return{$$typeof:Sw,render:i}};G.isValidElement=Mc;G.lazy=function(i){return{$$typeof:Iw,_payload:{_status:-1,_result:i},_init:Nw}};G.memo=function(i,t){return{$$typeof:Mw,type:i,compare:t===void 0?null:t}};G.startTransition=function(i){var t=al.transition;al.transition={};try{i()}finally{al.transition=t}};G.unstable_act=Km;G.useCallback=function(i,t){return ne.current.useCallback(i,t)};G.useContext=function(i){return ne.current.useContext(i)};G.useDebugValue=function(){};G.useDeferredValue=function(i){return ne.current.useDeferredValue(i)};G.useEffect=function(i,t){return ne.current.useEffect(i,t)};G.useId=function(){return ne.current.useId()};G.useImperativeHandle=function(i,t,e){return ne.current.useImperativeHandle(i,t,e)};G.useInsertionEffect=function(i,t){return ne.current.useInsertionEffect(i,t)};G.useLayoutEffect=function(i,t){return ne.current.useLayoutEffect(i,t)};G.useMemo=function(i,t){return ne.current.useMemo(i,t)};G.useReducer=function(i,t,e){return ne.current.useReducer(i,t,e)};G.useRef=function(i){return ne.current.useRef(i)};G.useState=function(i){return ne.current.useState(i)};G.useSyncExternalStore=function(i,t,e){return ne.current.useSyncExternalStore(i,t,e)};G.useTransition=function(){return ne.current.useTransition()};G.version="18.3.1";Am.exports=G;var ft=Am.exports;const us=bc(ft);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ow=ft,Bw=Symbol.for("react.element"),zw=Symbol.for("react.fragment"),Dw=Object.prototype.hasOwnProperty,Lw=Ow.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fw={key:!0,ref:!0,__self:!0,__source:!0};function Ym(i,t,e){var n,s={},r=null,o=null;e!==void 0&&(r=""+e),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Dw.call(t,n)&&!Fw.hasOwnProperty(n)&&(s[n]=t[n]);if(i&&i.defaultProps)for(n in t=i.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Bw,type:i,key:r,ref:o,props:s,_owner:Lw.current}}ka.Fragment=zw;ka.jsx=Ym;ka.jsxs=Ym;Rm.exports=ka;var Dt=Rm.exports,Xm={exports:{}},Te={},Qm={exports:{}},Jm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function t(_,S){var I=_.length;_.push(S);t:for(;0<I;){var L=I-1>>>1,J=_[L];if(0<s(J,S))_[L]=S,_[I]=J,I=L;else break t}}function e(_){return _.length===0?null:_[0]}function n(_){if(_.length===0)return null;var S=_[0],I=_.pop();if(I!==S){_[0]=I;t:for(var L=0,J=_.length,Kt=J>>>1;L<Kt;){var zt=2*(L+1)-1,we=_[zt],be=zt+1,To=_[be];if(0>s(we,I))be<J&&0>s(To,we)?(_[L]=To,_[be]=I,L=be):(_[L]=we,_[zt]=I,L=zt);else if(be<J&&0>s(To,I))_[L]=To,_[be]=I,L=be;else break t}}return S}function s(_,S){var I=_.sortIndex-S.sortIndex;return I!==0?I:_.id-S.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;i.unstable_now=function(){return r.now()}}else{var o=Date,l=o.now();i.unstable_now=function(){return o.now()-l}}var a=[],u=[],h=1,c=null,f=3,d=!1,y=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(_){for(var S=e(u);S!==null;){if(S.callback===null)n(u);else if(S.startTime<=_)n(u),S.sortIndex=S.expirationTime,t(a,S);else break;S=e(u)}}function b(_){if(v=!1,g(_),!y)if(e(a)!==null)y=!0,tt(E);else{var S=e(u);S!==null&&vt(b,S.startTime-_)}}function E(_,S){y=!1,v&&(v=!1,p(O),O=-1),d=!0;var I=f;try{for(g(S),c=e(a);c!==null&&(!(c.expirationTime>S)||_&&!N());){var L=c.callback;if(typeof L=="function"){c.callback=null,f=c.priorityLevel;var J=L(c.expirationTime<=S);S=i.unstable_now(),typeof J=="function"?c.callback=J:c===e(a)&&n(a),g(S)}else n(a);c=e(a)}if(c!==null)var Kt=!0;else{var zt=e(u);zt!==null&&vt(b,zt.startTime-S),Kt=!1}return Kt}finally{c=null,f=I,d=!1}}var B=!1,T=null,O=-1,it=5,A=-1;function N(){return!(i.unstable_now()-A<it)}function F(){if(T!==null){var _=i.unstable_now();A=_;var S=!0;try{S=T(!0,_)}finally{S?D():(B=!1,T=null)}}else B=!1}var D;if(typeof m=="function")D=function(){m(F)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,rt=k.port2;k.port1.onmessage=F,D=function(){rt.postMessage(null)}}else D=function(){x(F,0)};function tt(_){T=_,B||(B=!0,D())}function vt(_,S){O=x(function(){_(i.unstable_now())},S)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(_){_.callback=null},i.unstable_continueExecution=function(){y||d||(y=!0,tt(E))},i.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):it=0<_?Math.floor(1e3/_):5},i.unstable_getCurrentPriorityLevel=function(){return f},i.unstable_getFirstCallbackNode=function(){return e(a)},i.unstable_next=function(_){switch(f){case 1:case 2:case 3:var S=3;break;default:S=f}var I=f;f=S;try{return _()}finally{f=I}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(_,S){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var I=f;f=_;try{return S()}finally{f=I}},i.unstable_scheduleCallback=function(_,S,I){var L=i.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?L+I:L):I=L,_){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=I+J,_={id:h++,callback:S,priorityLevel:_,startTime:I,expirationTime:J,sortIndex:-1},I>L?(_.sortIndex=I,t(u,_),e(a)===null&&_===e(u)&&(v?(p(O),O=-1):v=!0,vt(b,I-L))):(_.sortIndex=J,t(a,_),y||d||(y=!0,tt(E))),_},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(_){var S=f;return function(){var I=f;f=S;try{return _.apply(this,arguments)}finally{f=I}}}})(Jm);Qm.exports=Jm;var Rw=Qm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw=ft,Ee=Rw;function C(i){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+i,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+i+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gm=new Set,$r={};function ns(i,t){Vs(i,t),Vs(i+"Capture",t)}function Vs(i,t){for($r[i]=t,i=0;i<t.length;i++)Gm.add(t[i])}var $i=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ah=Object.prototype.hasOwnProperty,Pw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cd={},fd={};function $w(i){return ah.call(fd,i)?!0:ah.call(cd,i)?!1:Pw.test(i)?fd[i]=!0:(cd[i]=!0,!1)}function Vw(i,t,e,n){if(e!==null&&e.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:e!==null?!e.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function Uw(i,t,e,n){if(t===null||typeof t>"u"||Vw(i,t,e,n))return!0;if(n)return!1;if(e!==null)switch(e.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function se(i,t,e,n,s,r,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=e,this.propertyName=i,this.type=t,this.sanitizeURL=r,this.removeEmptyString=o}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){Ht[i]=new se(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var t=i[0];Ht[t]=new se(t,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){Ht[i]=new se(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){Ht[i]=new se(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){Ht[i]=new se(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){Ht[i]=new se(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){Ht[i]=new se(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){Ht[i]=new se(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){Ht[i]=new se(i,5,!1,i.toLowerCase(),null,!1,!1)});var Ic=/[\-:]([a-z])/g;function Cc(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var t=i.replace(Ic,Cc);Ht[t]=new se(t,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var t=i.replace(Ic,Cc);Ht[t]=new se(t,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var t=i.replace(Ic,Cc);Ht[t]=new se(t,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){Ht[i]=new se(i,1,!1,i.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new se("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){Ht[i]=new se(i,1,!1,i.toLowerCase(),null,!0,!0)});function Ec(i,t,e,n){var s=Ht.hasOwnProperty(t)?Ht[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Uw(t,e,s,n)&&(e=null),n||s===null?$w(t)&&(e===null?i.removeAttribute(t):i.setAttribute(t,""+e)):s.mustUseProperty?i[s.propertyName]=e===null?s.type===3?!1:"":e:(t=s.attributeName,n=s.attributeNamespace,e===null?i.removeAttribute(t):(s=s.type,e=s===3||s===4&&e===!0?"":""+e,n?i.setAttributeNS(n,t,e):i.setAttribute(t,e))))}var Hi=Aw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bo=Symbol.for("react.element"),ps=Symbol.for("react.portal"),ms=Symbol.for("react.fragment"),kc=Symbol.for("react.strict_mode"),uh=Symbol.for("react.profiler"),qm=Symbol.for("react.provider"),Zm=Symbol.for("react.context"),Nc=Symbol.for("react.forward_ref"),hh=Symbol.for("react.suspense"),ch=Symbol.for("react.suspense_list"),Tc=Symbol.for("react.memo"),Gi=Symbol.for("react.lazy"),ty=Symbol.for("react.offscreen"),dd=Symbol.iterator;function ar(i){return i===null||typeof i!="object"?null:(i=dd&&i[dd]||i["@@iterator"],typeof i=="function"?i:null)}var Et=Object.assign,cu;function gr(i){if(cu===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);cu=t&&t[1]||""}return`
`+cu+i}var fu=!1;function du(i,t){if(!i||fu)return"";fu=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(i,[],t)}else{try{t.call()}catch(u){n=u}i.call(t.prototype)}else{try{throw Error()}catch(u){n=u}i()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),r=n.stack.split(`
`),o=s.length-1,l=r.length-1;1<=o&&0<=l&&s[o]!==r[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==r[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==r[l]){var a=`
`+s[o].replace(" at new "," at ");return i.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",i.displayName)),a}while(1<=o&&0<=l);break}}}finally{fu=!1,Error.prepareStackTrace=e}return(i=i?i.displayName||i.name:"")?gr(i):""}function jw(i){switch(i.tag){case 5:return gr(i.type);case 16:return gr("Lazy");case 13:return gr("Suspense");case 19:return gr("SuspenseList");case 0:case 2:case 15:return i=du(i.type,!1),i;case 11:return i=du(i.type.render,!1),i;case 1:return i=du(i.type,!0),i;default:return""}}function fh(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case ms:return"Fragment";case ps:return"Portal";case uh:return"Profiler";case kc:return"StrictMode";case hh:return"Suspense";case ch:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Zm:return(i.displayName||"Context")+".Consumer";case qm:return(i._context.displayName||"Context")+".Provider";case Nc:var t=i.render;return i=i.displayName,i||(i=t.displayName||t.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Tc:return t=i.displayName||null,t!==null?t:fh(i.type)||"Memo";case Gi:t=i._payload,i=i._init;try{return fh(i(t))}catch{}}return null}function Ww(i){var t=i.type;switch(i.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=t.render,i=i.displayName||i.name||"",t.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fh(t);case 8:return t===kc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pn(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ey(i){var t=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Hw(i){var t=ey(i)?"checked":"value",e=Object.getOwnPropertyDescriptor(i.constructor.prototype,t),n=""+i[t];if(!i.hasOwnProperty(t)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var s=e.get,r=e.set;return Object.defineProperty(i,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,r.call(this,o)}}),Object.defineProperty(i,t,{enumerable:e.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){i._valueTracker=null,delete i[t]}}}}function zo(i){i._valueTracker||(i._valueTracker=Hw(i))}function iy(i){if(!i)return!1;var t=i._valueTracker;if(!t)return!0;var e=t.getValue(),n="";return i&&(n=ey(i)?i.checked?"true":"false":i.value),i=n,i!==e?(t.setValue(i),!0):!1}function El(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function dh(i,t){var e=t.checked;return Et({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e??i._wrapperState.initialChecked})}function pd(i,t){var e=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;e=pn(t.value!=null?t.value:e),i._wrapperState={initialChecked:n,initialValue:e,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ny(i,t){t=t.checked,t!=null&&Ec(i,"checked",t,!1)}function ph(i,t){ny(i,t);var e=pn(t.value),n=t.type;if(e!=null)n==="number"?(e===0&&i.value===""||i.value!=e)&&(i.value=""+e):i.value!==""+e&&(i.value=""+e);else if(n==="submit"||n==="reset"){i.removeAttribute("value");return}t.hasOwnProperty("value")?mh(i,t.type,e):t.hasOwnProperty("defaultValue")&&mh(i,t.type,pn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(i.defaultChecked=!!t.defaultChecked)}function md(i,t,e){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+i._wrapperState.initialValue,e||t===i.value||(i.value=t),i.defaultValue=t}e=i.name,e!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,e!==""&&(i.name=e)}function mh(i,t,e){(t!=="number"||El(i.ownerDocument)!==i)&&(e==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+e&&(i.defaultValue=""+e))}var wr=Array.isArray;function Ns(i,t,e,n){if(i=i.options,t){t={};for(var s=0;s<e.length;s++)t["$"+e[s]]=!0;for(e=0;e<i.length;e++)s=t.hasOwnProperty("$"+i[e].value),i[e].selected!==s&&(i[e].selected=s),s&&n&&(i[e].defaultSelected=!0)}else{for(e=""+pn(e),t=null,s=0;s<i.length;s++){if(i[s].value===e){i[s].selected=!0,n&&(i[s].defaultSelected=!0);return}t!==null||i[s].disabled||(t=i[s])}t!==null&&(t.selected=!0)}}function yh(i,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return Et({},t,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function yd(i,t){var e=t.value;if(e==null){if(e=t.children,t=t.defaultValue,e!=null){if(t!=null)throw Error(C(92));if(wr(e)){if(1<e.length)throw Error(C(93));e=e[0]}t=e}t==null&&(t=""),e=t}i._wrapperState={initialValue:pn(e)}}function sy(i,t){var e=pn(t.value),n=pn(t.defaultValue);e!=null&&(e=""+e,e!==i.value&&(i.value=e),t.defaultValue==null&&i.defaultValue!==e&&(i.defaultValue=e)),n!=null&&(i.defaultValue=""+n)}function vd(i){var t=i.textContent;t===i._wrapperState.initialValue&&t!==""&&t!==null&&(i.value=t)}function ry(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vh(i,t){return i==null||i==="http://www.w3.org/1999/xhtml"?ry(t):i==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Do,oy=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,e,n,s){MSApp.execUnsafeLocalFunction(function(){return i(t,e,n,s)})}:i}(function(i,t){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=t;else{for(Do=Do||document.createElement("div"),Do.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Do.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;t.firstChild;)i.appendChild(t.firstChild)}});function Vr(i,t){if(t){var e=i.firstChild;if(e&&e===i.lastChild&&e.nodeType===3){e.nodeValue=t;return}}i.textContent=t}var Mr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kw=["Webkit","ms","Moz","O"];Object.keys(Mr).forEach(function(i){Kw.forEach(function(t){t=t+i.charAt(0).toUpperCase()+i.substring(1),Mr[t]=Mr[i]})});function ly(i,t,e){return t==null||typeof t=="boolean"||t===""?"":e||typeof t!="number"||t===0||Mr.hasOwnProperty(i)&&Mr[i]?(""+t).trim():t+"px"}function ay(i,t){i=i.style;for(var e in t)if(t.hasOwnProperty(e)){var n=e.indexOf("--")===0,s=ly(e,t[e],n);e==="float"&&(e="cssFloat"),n?i.setProperty(e,s):i[e]=s}}var Yw=Et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gh(i,t){if(t){if(Yw[i]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,i));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function wh(i,t){if(i.indexOf("-")===-1)return typeof t.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bh=null;function Oc(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var _h=null,Ts=null,Os=null;function gd(i){if(i=wo(i)){if(typeof _h!="function")throw Error(C(280));var t=i.stateNode;t&&(t=za(t),_h(i.stateNode,i.type,t))}}function uy(i){Ts?Os?Os.push(i):Os=[i]:Ts=i}function hy(){if(Ts){var i=Ts,t=Os;if(Os=Ts=null,gd(i),t)for(i=0;i<t.length;i++)gd(t[i])}}function cy(i,t){return i(t)}function fy(){}var pu=!1;function dy(i,t,e){if(pu)return i(t,e);pu=!0;try{return cy(i,t,e)}finally{pu=!1,(Ts!==null||Os!==null)&&(fy(),hy())}}function Ur(i,t){var e=i.stateNode;if(e===null)return null;var n=za(e);if(n===null)return null;e=n[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(i=i.type,n=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!n;break t;default:i=!1}if(i)return null;if(e&&typeof e!="function")throw Error(C(231,t,typeof e));return e}var Sh=!1;if($i)try{var ur={};Object.defineProperty(ur,"passive",{get:function(){Sh=!0}}),window.addEventListener("test",ur,ur),window.removeEventListener("test",ur,ur)}catch{Sh=!1}function Xw(i,t,e,n,s,r,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(e,u)}catch(h){this.onError(h)}}var Ir=!1,kl=null,Nl=!1,xh=null,Qw={onError:function(i){Ir=!0,kl=i}};function Jw(i,t,e,n,s,r,o,l,a){Ir=!1,kl=null,Xw.apply(Qw,arguments)}function Gw(i,t,e,n,s,r,o,l,a){if(Jw.apply(this,arguments),Ir){if(Ir){var u=kl;Ir=!1,kl=null}else throw Error(C(198));Nl||(Nl=!0,xh=u)}}function ss(i){var t=i,e=i;if(i.alternate)for(;t.return;)t=t.return;else{i=t;do t=i,t.flags&4098&&(e=t.return),i=t.return;while(i)}return t.tag===3?e:null}function py(i){if(i.tag===13){var t=i.memoizedState;if(t===null&&(i=i.alternate,i!==null&&(t=i.memoizedState)),t!==null)return t.dehydrated}return null}function wd(i){if(ss(i)!==i)throw Error(C(188))}function qw(i){var t=i.alternate;if(!t){if(t=ss(i),t===null)throw Error(C(188));return t!==i?null:i}for(var e=i,n=t;;){var s=e.return;if(s===null)break;var r=s.alternate;if(r===null){if(n=s.return,n!==null){e=n;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===e)return wd(s),i;if(r===n)return wd(s),t;r=r.sibling}throw Error(C(188))}if(e.return!==n.return)e=s,n=r;else{for(var o=!1,l=s.child;l;){if(l===e){o=!0,e=s,n=r;break}if(l===n){o=!0,n=s,e=r;break}l=l.sibling}if(!o){for(l=r.child;l;){if(l===e){o=!0,e=r,n=s;break}if(l===n){o=!0,n=r,e=s;break}l=l.sibling}if(!o)throw Error(C(189))}}if(e.alternate!==n)throw Error(C(190))}if(e.tag!==3)throw Error(C(188));return e.stateNode.current===e?i:t}function my(i){return i=qw(i),i!==null?yy(i):null}function yy(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var t=yy(i);if(t!==null)return t;i=i.sibling}return null}var vy=Ee.unstable_scheduleCallback,bd=Ee.unstable_cancelCallback,Zw=Ee.unstable_shouldYield,t1=Ee.unstable_requestPaint,Nt=Ee.unstable_now,e1=Ee.unstable_getCurrentPriorityLevel,Bc=Ee.unstable_ImmediatePriority,gy=Ee.unstable_UserBlockingPriority,Tl=Ee.unstable_NormalPriority,i1=Ee.unstable_LowPriority,wy=Ee.unstable_IdlePriority,Na=null,bi=null;function n1(i){if(bi&&typeof bi.onCommitFiberRoot=="function")try{bi.onCommitFiberRoot(Na,i,void 0,(i.current.flags&128)===128)}catch{}}var Ge=Math.clz32?Math.clz32:o1,s1=Math.log,r1=Math.LN2;function o1(i){return i>>>=0,i===0?32:31-(s1(i)/r1|0)|0}var Lo=64,Fo=4194304;function br(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Ol(i,t){var e=i.pendingLanes;if(e===0)return 0;var n=0,s=i.suspendedLanes,r=i.pingedLanes,o=e&268435455;if(o!==0){var l=o&~s;l!==0?n=br(l):(r&=o,r!==0&&(n=br(r)))}else o=e&~s,o!==0?n=br(o):r!==0&&(n=br(r));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,r=t&-t,s>=r||s===16&&(r&4194240)!==0))return t;if(n&4&&(n|=e&16),t=i.entangledLanes,t!==0)for(i=i.entanglements,t&=n;0<t;)e=31-Ge(t),s=1<<e,n|=i[e],t&=~s;return n}function l1(i,t){switch(i){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function a1(i,t){for(var e=i.suspendedLanes,n=i.pingedLanes,s=i.expirationTimes,r=i.pendingLanes;0<r;){var o=31-Ge(r),l=1<<o,a=s[o];a===-1?(!(l&e)||l&n)&&(s[o]=l1(l,t)):a<=t&&(i.expiredLanes|=l),r&=~l}}function Mh(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function by(){var i=Lo;return Lo<<=1,!(Lo&4194240)&&(Lo=64),i}function mu(i){for(var t=[],e=0;31>e;e++)t.push(i);return t}function vo(i,t,e){i.pendingLanes|=t,t!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,t=31-Ge(t),i[t]=e}function u1(i,t){var e=i.pendingLanes&~t;i.pendingLanes=t,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=t,i.mutableReadLanes&=t,i.entangledLanes&=t,t=i.entanglements;var n=i.eventTimes;for(i=i.expirationTimes;0<e;){var s=31-Ge(e),r=1<<s;t[s]=0,n[s]=-1,i[s]=-1,e&=~r}}function zc(i,t){var e=i.entangledLanes|=t;for(i=i.entanglements;e;){var n=31-Ge(e),s=1<<n;s&t|i[n]&t&&(i[n]|=t),e&=~s}}var ht=0;function _y(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Sy,Dc,xy,My,Iy,Ih=!1,Ro=[],on=null,ln=null,an=null,jr=new Map,Wr=new Map,en=[],h1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _d(i,t){switch(i){case"focusin":case"focusout":on=null;break;case"dragenter":case"dragleave":ln=null;break;case"mouseover":case"mouseout":an=null;break;case"pointerover":case"pointerout":jr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wr.delete(t.pointerId)}}function hr(i,t,e,n,s,r){return i===null||i.nativeEvent!==r?(i={blockedOn:t,domEventName:e,eventSystemFlags:n,nativeEvent:r,targetContainers:[s]},t!==null&&(t=wo(t),t!==null&&Dc(t)),i):(i.eventSystemFlags|=n,t=i.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),i)}function c1(i,t,e,n,s){switch(t){case"focusin":return on=hr(on,i,t,e,n,s),!0;case"dragenter":return ln=hr(ln,i,t,e,n,s),!0;case"mouseover":return an=hr(an,i,t,e,n,s),!0;case"pointerover":var r=s.pointerId;return jr.set(r,hr(jr.get(r)||null,i,t,e,n,s)),!0;case"gotpointercapture":return r=s.pointerId,Wr.set(r,hr(Wr.get(r)||null,i,t,e,n,s)),!0}return!1}function Cy(i){var t=zn(i.target);if(t!==null){var e=ss(t);if(e!==null){if(t=e.tag,t===13){if(t=py(e),t!==null){i.blockedOn=t,Iy(i.priority,function(){xy(e)});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){i.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ul(i){if(i.blockedOn!==null)return!1;for(var t=i.targetContainers;0<t.length;){var e=Ch(i.domEventName,i.eventSystemFlags,t[0],i.nativeEvent);if(e===null){e=i.nativeEvent;var n=new e.constructor(e.type,e);bh=n,e.target.dispatchEvent(n),bh=null}else return t=wo(e),t!==null&&Dc(t),i.blockedOn=e,!1;t.shift()}return!0}function Sd(i,t,e){ul(i)&&e.delete(t)}function f1(){Ih=!1,on!==null&&ul(on)&&(on=null),ln!==null&&ul(ln)&&(ln=null),an!==null&&ul(an)&&(an=null),jr.forEach(Sd),Wr.forEach(Sd)}function cr(i,t){i.blockedOn===t&&(i.blockedOn=null,Ih||(Ih=!0,Ee.unstable_scheduleCallback(Ee.unstable_NormalPriority,f1)))}function Hr(i){function t(s){return cr(s,i)}if(0<Ro.length){cr(Ro[0],i);for(var e=1;e<Ro.length;e++){var n=Ro[e];n.blockedOn===i&&(n.blockedOn=null)}}for(on!==null&&cr(on,i),ln!==null&&cr(ln,i),an!==null&&cr(an,i),jr.forEach(t),Wr.forEach(t),e=0;e<en.length;e++)n=en[e],n.blockedOn===i&&(n.blockedOn=null);for(;0<en.length&&(e=en[0],e.blockedOn===null);)Cy(e),e.blockedOn===null&&en.shift()}var Bs=Hi.ReactCurrentBatchConfig,Bl=!0;function d1(i,t,e,n){var s=ht,r=Bs.transition;Bs.transition=null;try{ht=1,Lc(i,t,e,n)}finally{ht=s,Bs.transition=r}}function p1(i,t,e,n){var s=ht,r=Bs.transition;Bs.transition=null;try{ht=4,Lc(i,t,e,n)}finally{ht=s,Bs.transition=r}}function Lc(i,t,e,n){if(Bl){var s=Ch(i,t,e,n);if(s===null)Iu(i,t,n,zl,e),_d(i,n);else if(c1(s,i,t,e,n))n.stopPropagation();else if(_d(i,n),t&4&&-1<h1.indexOf(i)){for(;s!==null;){var r=wo(s);if(r!==null&&Sy(r),r=Ch(i,t,e,n),r===null&&Iu(i,t,n,zl,e),r===s)break;s=r}s!==null&&n.stopPropagation()}else Iu(i,t,n,null,e)}}var zl=null;function Ch(i,t,e,n){if(zl=null,i=Oc(n),i=zn(i),i!==null)if(t=ss(i),t===null)i=null;else if(e=t.tag,e===13){if(i=py(t),i!==null)return i;i=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;i=null}else t!==i&&(i=null);return zl=i,null}function Ey(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(e1()){case Bc:return 1;case gy:return 4;case Tl:case i1:return 16;case wy:return 536870912;default:return 16}default:return 16}}var sn=null,Fc=null,hl=null;function ky(){if(hl)return hl;var i,t=Fc,e=t.length,n,s="value"in sn?sn.value:sn.textContent,r=s.length;for(i=0;i<e&&t[i]===s[i];i++);var o=e-i;for(n=1;n<=o&&t[e-n]===s[r-n];n++);return hl=s.slice(i,1<n?1-n:void 0)}function cl(i){var t=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&t===13&&(i=13)):i=t,i===10&&(i=13),32<=i||i===13?i:0}function Ao(){return!0}function xd(){return!1}function Oe(i){function t(e,n,s,r,o){this._reactName=e,this._targetInst=s,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var l in i)i.hasOwnProperty(l)&&(e=i[l],this[l]=e?e(r):r[l]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Ao:xd,this.isPropagationStopped=xd,this}return Et(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=Ao)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=Ao)},persist:function(){},isPersistent:Ao}),t}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rc=Oe(sr),go=Et({},sr,{view:0,detail:0}),m1=Oe(go),yu,vu,fr,Ta=Et({},go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ac,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==fr&&(fr&&i.type==="mousemove"?(yu=i.screenX-fr.screenX,vu=i.screenY-fr.screenY):vu=yu=0,fr=i),yu)},movementY:function(i){return"movementY"in i?i.movementY:vu}}),Md=Oe(Ta),y1=Et({},Ta,{dataTransfer:0}),v1=Oe(y1),g1=Et({},go,{relatedTarget:0}),gu=Oe(g1),w1=Et({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),b1=Oe(w1),_1=Et({},sr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),S1=Oe(_1),x1=Et({},sr,{data:0}),Id=Oe(x1),M1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},I1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E1(i){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(i):(i=C1[i])?!!t[i]:!1}function Ac(){return E1}var k1=Et({},go,{key:function(i){if(i.key){var t=M1[i.key]||i.key;if(t!=="Unidentified")return t}return i.type==="keypress"?(i=cl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?I1[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ac,charCode:function(i){return i.type==="keypress"?cl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?cl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),N1=Oe(k1),T1=Et({},Ta,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cd=Oe(T1),O1=Et({},go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ac}),B1=Oe(O1),z1=Et({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),D1=Oe(z1),L1=Et({},Ta,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),F1=Oe(L1),R1=[9,13,27,32],Pc=$i&&"CompositionEvent"in window,Cr=null;$i&&"documentMode"in document&&(Cr=document.documentMode);var A1=$i&&"TextEvent"in window&&!Cr,Ny=$i&&(!Pc||Cr&&8<Cr&&11>=Cr),Ed=" ",kd=!1;function Ty(i,t){switch(i){case"keyup":return R1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oy(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var ys=!1;function P1(i,t){switch(i){case"compositionend":return Oy(t);case"keypress":return t.which!==32?null:(kd=!0,Ed);case"textInput":return i=t.data,i===Ed&&kd?null:i;default:return null}}function $1(i,t){if(ys)return i==="compositionend"||!Pc&&Ty(i,t)?(i=ky(),hl=Fc=sn=null,ys=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ny&&t.locale!=="ko"?null:t.data;default:return null}}var V1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nd(i){var t=i&&i.nodeName&&i.nodeName.toLowerCase();return t==="input"?!!V1[i.type]:t==="textarea"}function By(i,t,e,n){uy(n),t=Dl(t,"onChange"),0<t.length&&(e=new Rc("onChange","change",null,e,n),i.push({event:e,listeners:t}))}var Er=null,Kr=null;function U1(i){jy(i,0)}function Oa(i){var t=ws(i);if(iy(t))return i}function j1(i,t){if(i==="change")return t}var zy=!1;if($i){var wu;if($i){var bu="oninput"in document;if(!bu){var Td=document.createElement("div");Td.setAttribute("oninput","return;"),bu=typeof Td.oninput=="function"}wu=bu}else wu=!1;zy=wu&&(!document.documentMode||9<document.documentMode)}function Od(){Er&&(Er.detachEvent("onpropertychange",Dy),Kr=Er=null)}function Dy(i){if(i.propertyName==="value"&&Oa(Kr)){var t=[];By(t,Kr,i,Oc(i)),dy(U1,t)}}function W1(i,t,e){i==="focusin"?(Od(),Er=t,Kr=e,Er.attachEvent("onpropertychange",Dy)):i==="focusout"&&Od()}function H1(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Oa(Kr)}function K1(i,t){if(i==="click")return Oa(t)}function Y1(i,t){if(i==="input"||i==="change")return Oa(t)}function X1(i,t){return i===t&&(i!==0||1/i===1/t)||i!==i&&t!==t}var ti=typeof Object.is=="function"?Object.is:X1;function Yr(i,t){if(ti(i,t))return!0;if(typeof i!="object"||i===null||typeof t!="object"||t===null)return!1;var e=Object.keys(i),n=Object.keys(t);if(e.length!==n.length)return!1;for(n=0;n<e.length;n++){var s=e[n];if(!ah.call(t,s)||!ti(i[s],t[s]))return!1}return!0}function Bd(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function zd(i,t){var e=Bd(i);i=0;for(var n;e;){if(e.nodeType===3){if(n=i+e.textContent.length,i<=t&&n>=t)return{node:e,offset:t-i};i=n}t:{for(;e;){if(e.nextSibling){e=e.nextSibling;break t}e=e.parentNode}e=void 0}e=Bd(e)}}function Ly(i,t){return i&&t?i===t?!0:i&&i.nodeType===3?!1:t&&t.nodeType===3?Ly(i,t.parentNode):"contains"in i?i.contains(t):i.compareDocumentPosition?!!(i.compareDocumentPosition(t)&16):!1:!1}function Fy(){for(var i=window,t=El();t instanceof i.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)i=t.contentWindow;else break;t=El(i.document)}return t}function $c(i){var t=i&&i.nodeName&&i.nodeName.toLowerCase();return t&&(t==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||t==="textarea"||i.contentEditable==="true")}function Q1(i){var t=Fy(),e=i.focusedElem,n=i.selectionRange;if(t!==e&&e&&e.ownerDocument&&Ly(e.ownerDocument.documentElement,e)){if(n!==null&&$c(e)){if(t=n.start,i=n.end,i===void 0&&(i=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(i,e.value.length);else if(i=(t=e.ownerDocument||document)&&t.defaultView||window,i.getSelection){i=i.getSelection();var s=e.textContent.length,r=Math.min(n.start,s);n=n.end===void 0?r:Math.min(n.end,s),!i.extend&&r>n&&(s=n,n=r,r=s),s=zd(e,r);var o=zd(e,n);s&&o&&(i.rangeCount!==1||i.anchorNode!==s.node||i.anchorOffset!==s.offset||i.focusNode!==o.node||i.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),i.removeAllRanges(),r>n?(i.addRange(t),i.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),i.addRange(t)))}}for(t=[],i=e;i=i.parentNode;)i.nodeType===1&&t.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)i=t[e],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var J1=$i&&"documentMode"in document&&11>=document.documentMode,vs=null,Eh=null,kr=null,kh=!1;function Dd(i,t,e){var n=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;kh||vs==null||vs!==El(n)||(n=vs,"selectionStart"in n&&$c(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),kr&&Yr(kr,n)||(kr=n,n=Dl(Eh,"onSelect"),0<n.length&&(t=new Rc("onSelect","select",null,t,e),i.push({event:t,listeners:n}),t.target=vs)))}function Po(i,t){var e={};return e[i.toLowerCase()]=t.toLowerCase(),e["Webkit"+i]="webkit"+t,e["Moz"+i]="moz"+t,e}var gs={animationend:Po("Animation","AnimationEnd"),animationiteration:Po("Animation","AnimationIteration"),animationstart:Po("Animation","AnimationStart"),transitionend:Po("Transition","TransitionEnd")},_u={},Ry={};$i&&(Ry=document.createElement("div").style,"AnimationEvent"in window||(delete gs.animationend.animation,delete gs.animationiteration.animation,delete gs.animationstart.animation),"TransitionEvent"in window||delete gs.transitionend.transition);function Ba(i){if(_u[i])return _u[i];if(!gs[i])return i;var t=gs[i],e;for(e in t)if(t.hasOwnProperty(e)&&e in Ry)return _u[i]=t[e];return i}var Ay=Ba("animationend"),Py=Ba("animationiteration"),$y=Ba("animationstart"),Vy=Ba("transitionend"),Uy=new Map,Ld="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xn(i,t){Uy.set(i,t),ns(t,[i])}for(var Su=0;Su<Ld.length;Su++){var xu=Ld[Su],G1=xu.toLowerCase(),q1=xu[0].toUpperCase()+xu.slice(1);xn(G1,"on"+q1)}xn(Ay,"onAnimationEnd");xn(Py,"onAnimationIteration");xn($y,"onAnimationStart");xn("dblclick","onDoubleClick");xn("focusin","onFocus");xn("focusout","onBlur");xn(Vy,"onTransitionEnd");Vs("onMouseEnter",["mouseout","mouseover"]);Vs("onMouseLeave",["mouseout","mouseover"]);Vs("onPointerEnter",["pointerout","pointerover"]);Vs("onPointerLeave",["pointerout","pointerover"]);ns("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ns("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ns("onBeforeInput",["compositionend","keypress","textInput","paste"]);ns("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ns("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ns("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _r="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z1=new Set("cancel close invalid load scroll toggle".split(" ").concat(_r));function Fd(i,t,e){var n=i.type||"unknown-event";i.currentTarget=e,Gw(n,t,void 0,i),i.currentTarget=null}function jy(i,t){t=(t&4)!==0;for(var e=0;e<i.length;e++){var n=i[e],s=n.event;n=n.listeners;t:{var r=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==r&&s.isPropagationStopped())break t;Fd(s,l,u),r=a}else for(o=0;o<n.length;o++){if(l=n[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==r&&s.isPropagationStopped())break t;Fd(s,l,u),r=a}}}if(Nl)throw i=xh,Nl=!1,xh=null,i}function gt(i,t){var e=t[zh];e===void 0&&(e=t[zh]=new Set);var n=i+"__bubble";e.has(n)||(Wy(t,i,2,!1),e.add(n))}function Mu(i,t,e){var n=0;t&&(n|=4),Wy(e,i,n,t)}var $o="_reactListening"+Math.random().toString(36).slice(2);function Xr(i){if(!i[$o]){i[$o]=!0,Gm.forEach(function(e){e!=="selectionchange"&&(Z1.has(e)||Mu(e,!1,i),Mu(e,!0,i))});var t=i.nodeType===9?i:i.ownerDocument;t===null||t[$o]||(t[$o]=!0,Mu("selectionchange",!1,t))}}function Wy(i,t,e,n){switch(Ey(t)){case 1:var s=d1;break;case 4:s=p1;break;default:s=Lc}e=s.bind(null,t,e,i),s=void 0,!Sh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?i.addEventListener(t,e,{capture:!0,passive:s}):i.addEventListener(t,e,!0):s!==void 0?i.addEventListener(t,e,{passive:s}):i.addEventListener(t,e,!1)}function Iu(i,t,e,n,s){var r=n;if(!(t&1)&&!(t&2)&&n!==null)t:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=zn(l),o===null)return;if(a=o.tag,a===5||a===6){n=r=o;continue t}l=l.parentNode}}n=n.return}dy(function(){var u=r,h=Oc(e),c=[];t:{var f=Uy.get(i);if(f!==void 0){var d=Rc,y=i;switch(i){case"keypress":if(cl(e)===0)break t;case"keydown":case"keyup":d=N1;break;case"focusin":y="focus",d=gu;break;case"focusout":y="blur",d=gu;break;case"beforeblur":case"afterblur":d=gu;break;case"click":if(e.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Md;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=v1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=B1;break;case Ay:case Py:case $y:d=b1;break;case Vy:d=D1;break;case"scroll":d=m1;break;case"wheel":d=F1;break;case"copy":case"cut":case"paste":d=S1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Cd}var v=(t&4)!==0,x=!v&&i==="scroll",p=v?f!==null?f+"Capture":null:f;v=[];for(var m=u,g;m!==null;){g=m;var b=g.stateNode;if(g.tag===5&&b!==null&&(g=b,p!==null&&(b=Ur(m,p),b!=null&&v.push(Qr(m,b,g)))),x)break;m=m.return}0<v.length&&(f=new d(f,y,null,e,h),c.push({event:f,listeners:v}))}}if(!(t&7)){t:{if(f=i==="mouseover"||i==="pointerover",d=i==="mouseout"||i==="pointerout",f&&e!==bh&&(y=e.relatedTarget||e.fromElement)&&(zn(y)||y[Vi]))break t;if((d||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,d?(y=e.relatedTarget||e.toElement,d=u,y=y?zn(y):null,y!==null&&(x=ss(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(d=null,y=u),d!==y)){if(v=Md,b="onMouseLeave",p="onMouseEnter",m="mouse",(i==="pointerout"||i==="pointerover")&&(v=Cd,b="onPointerLeave",p="onPointerEnter",m="pointer"),x=d==null?f:ws(d),g=y==null?f:ws(y),f=new v(b,m+"leave",d,e,h),f.target=x,f.relatedTarget=g,b=null,zn(h)===u&&(v=new v(p,m+"enter",y,e,h),v.target=g,v.relatedTarget=x,b=v),x=b,d&&y)e:{for(v=d,p=y,m=0,g=v;g;g=os(g))m++;for(g=0,b=p;b;b=os(b))g++;for(;0<m-g;)v=os(v),m--;for(;0<g-m;)p=os(p),g--;for(;m--;){if(v===p||p!==null&&v===p.alternate)break e;v=os(v),p=os(p)}v=null}else v=null;d!==null&&Rd(c,f,d,v,!1),y!==null&&x!==null&&Rd(c,x,y,v,!0)}}t:{if(f=u?ws(u):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var E=j1;else if(Nd(f))if(zy)E=Y1;else{E=H1;var B=W1}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=K1);if(E&&(E=E(i,u))){By(c,E,e,h);break t}B&&B(i,f,u),i==="focusout"&&(B=f._wrapperState)&&B.controlled&&f.type==="number"&&mh(f,"number",f.value)}switch(B=u?ws(u):window,i){case"focusin":(Nd(B)||B.contentEditable==="true")&&(vs=B,Eh=u,kr=null);break;case"focusout":kr=Eh=vs=null;break;case"mousedown":kh=!0;break;case"contextmenu":case"mouseup":case"dragend":kh=!1,Dd(c,e,h);break;case"selectionchange":if(J1)break;case"keydown":case"keyup":Dd(c,e,h)}var T;if(Pc)t:{switch(i){case"compositionstart":var O="onCompositionStart";break t;case"compositionend":O="onCompositionEnd";break t;case"compositionupdate":O="onCompositionUpdate";break t}O=void 0}else ys?Ty(i,e)&&(O="onCompositionEnd"):i==="keydown"&&e.keyCode===229&&(O="onCompositionStart");O&&(Ny&&e.locale!=="ko"&&(ys||O!=="onCompositionStart"?O==="onCompositionEnd"&&ys&&(T=ky()):(sn=h,Fc="value"in sn?sn.value:sn.textContent,ys=!0)),B=Dl(u,O),0<B.length&&(O=new Id(O,i,null,e,h),c.push({event:O,listeners:B}),T?O.data=T:(T=Oy(e),T!==null&&(O.data=T)))),(T=A1?P1(i,e):$1(i,e))&&(u=Dl(u,"onBeforeInput"),0<u.length&&(h=new Id("onBeforeInput","beforeinput",null,e,h),c.push({event:h,listeners:u}),h.data=T))}jy(c,t)})}function Qr(i,t,e){return{instance:i,listener:t,currentTarget:e}}function Dl(i,t){for(var e=t+"Capture",n=[];i!==null;){var s=i,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=Ur(i,e),r!=null&&n.unshift(Qr(i,r,s)),r=Ur(i,t),r!=null&&n.push(Qr(i,r,s))),i=i.return}return n}function os(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Rd(i,t,e,n,s){for(var r=t._reactName,o=[];e!==null&&e!==n;){var l=e,a=l.alternate,u=l.stateNode;if(a!==null&&a===n)break;l.tag===5&&u!==null&&(l=u,s?(a=Ur(e,r),a!=null&&o.unshift(Qr(e,a,l))):s||(a=Ur(e,r),a!=null&&o.push(Qr(e,a,l)))),e=e.return}o.length!==0&&i.push({event:t,listeners:o})}var tb=/\r\n?/g,eb=/\u0000|\uFFFD/g;function Ad(i){return(typeof i=="string"?i:""+i).replace(tb,`
`).replace(eb,"")}function Vo(i,t,e){if(t=Ad(t),Ad(i)!==t&&e)throw Error(C(425))}function Ll(){}var Nh=null,Th=null;function Oh(i,t){return i==="textarea"||i==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bh=typeof setTimeout=="function"?setTimeout:void 0,ib=typeof clearTimeout=="function"?clearTimeout:void 0,Pd=typeof Promise=="function"?Promise:void 0,nb=typeof queueMicrotask=="function"?queueMicrotask:typeof Pd<"u"?function(i){return Pd.resolve(null).then(i).catch(sb)}:Bh;function sb(i){setTimeout(function(){throw i})}function Cu(i,t){var e=t,n=0;do{var s=e.nextSibling;if(i.removeChild(e),s&&s.nodeType===8)if(e=s.data,e==="/$"){if(n===0){i.removeChild(s),Hr(t);return}n--}else e!=="$"&&e!=="$?"&&e!=="$!"||n++;e=s}while(e);Hr(t)}function un(i){for(;i!=null;i=i.nextSibling){var t=i.nodeType;if(t===1||t===3)break;if(t===8){if(t=i.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return i}function $d(i){i=i.previousSibling;for(var t=0;i;){if(i.nodeType===8){var e=i.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return i;t--}else e==="/$"&&t++}i=i.previousSibling}return null}var rr=Math.random().toString(36).slice(2),hi="__reactFiber$"+rr,Jr="__reactProps$"+rr,Vi="__reactContainer$"+rr,zh="__reactEvents$"+rr,rb="__reactListeners$"+rr,ob="__reactHandles$"+rr;function zn(i){var t=i[hi];if(t)return t;for(var e=i.parentNode;e;){if(t=e[Vi]||e[hi]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(i=$d(i);i!==null;){if(e=i[hi])return e;i=$d(i)}return t}i=e,e=i.parentNode}return null}function wo(i){return i=i[hi]||i[Vi],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ws(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(C(33))}function za(i){return i[Jr]||null}var Dh=[],bs=-1;function Mn(i){return{current:i}}function bt(i){0>bs||(i.current=Dh[bs],Dh[bs]=null,bs--)}function yt(i,t){bs++,Dh[bs]=i.current,i.current=t}var mn={},Jt=Mn(mn),ce=Mn(!1),Yn=mn;function Us(i,t){var e=i.type.contextTypes;if(!e)return mn;var n=i.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in e)s[r]=t[r];return n&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=t,i.__reactInternalMemoizedMaskedChildContext=s),s}function fe(i){return i=i.childContextTypes,i!=null}function Fl(){bt(ce),bt(Jt)}function Vd(i,t,e){if(Jt.current!==mn)throw Error(C(168));yt(Jt,t),yt(ce,e)}function Hy(i,t,e){var n=i.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return e;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(C(108,Ww(i)||"Unknown",s));return Et({},e,n)}function Rl(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||mn,Yn=Jt.current,yt(Jt,i),yt(ce,ce.current),!0}function Ud(i,t,e){var n=i.stateNode;if(!n)throw Error(C(169));e?(i=Hy(i,t,Yn),n.__reactInternalMemoizedMergedChildContext=i,bt(ce),bt(Jt),yt(Jt,i)):bt(ce),yt(ce,e)}var Ti=null,Da=!1,Eu=!1;function Ky(i){Ti===null?Ti=[i]:Ti.push(i)}function lb(i){Da=!0,Ky(i)}function In(){if(!Eu&&Ti!==null){Eu=!0;var i=0,t=ht;try{var e=Ti;for(ht=1;i<e.length;i++){var n=e[i];do n=n(!0);while(n!==null)}Ti=null,Da=!1}catch(s){throw Ti!==null&&(Ti=Ti.slice(i+1)),vy(Bc,In),s}finally{ht=t,Eu=!1}}return null}var _s=[],Ss=0,Al=null,Pl=0,Fe=[],Re=0,Xn=null,zi=1,Di="";function On(i,t){_s[Ss++]=Pl,_s[Ss++]=Al,Al=i,Pl=t}function Yy(i,t,e){Fe[Re++]=zi,Fe[Re++]=Di,Fe[Re++]=Xn,Xn=i;var n=zi;i=Di;var s=32-Ge(n)-1;n&=~(1<<s),e+=1;var r=32-Ge(t)+s;if(30<r){var o=s-s%5;r=(n&(1<<o)-1).toString(32),n>>=o,s-=o,zi=1<<32-Ge(t)+s|e<<s|n,Di=r+i}else zi=1<<r|e<<s|n,Di=i}function Vc(i){i.return!==null&&(On(i,1),Yy(i,1,0))}function Uc(i){for(;i===Al;)Al=_s[--Ss],_s[Ss]=null,Pl=_s[--Ss],_s[Ss]=null;for(;i===Xn;)Xn=Fe[--Re],Fe[Re]=null,Di=Fe[--Re],Fe[Re]=null,zi=Fe[--Re],Fe[Re]=null}var Ce=null,Ie=null,St=!1,Qe=null;function Xy(i,t){var e=$e(5,null,null,0);e.elementType="DELETED",e.stateNode=t,e.return=i,t=i.deletions,t===null?(i.deletions=[e],i.flags|=16):t.push(e)}function jd(i,t){switch(i.tag){case 5:var e=i.type;return t=t.nodeType!==1||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(i.stateNode=t,Ce=i,Ie=un(t.firstChild),!0):!1;case 6:return t=i.pendingProps===""||t.nodeType!==3?null:t,t!==null?(i.stateNode=t,Ce=i,Ie=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(e=Xn!==null?{id:zi,overflow:Di}:null,i.memoizedState={dehydrated:t,treeContext:e,retryLane:1073741824},e=$e(18,null,null,0),e.stateNode=t,e.return=i,i.child=e,Ce=i,Ie=null,!0):!1;default:return!1}}function Lh(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Fh(i){if(St){var t=Ie;if(t){var e=t;if(!jd(i,t)){if(Lh(i))throw Error(C(418));t=un(e.nextSibling);var n=Ce;t&&jd(i,t)?Xy(n,e):(i.flags=i.flags&-4097|2,St=!1,Ce=i)}}else{if(Lh(i))throw Error(C(418));i.flags=i.flags&-4097|2,St=!1,Ce=i}}}function Wd(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Ce=i}function Uo(i){if(i!==Ce)return!1;if(!St)return Wd(i),St=!0,!1;var t;if((t=i.tag!==3)&&!(t=i.tag!==5)&&(t=i.type,t=t!=="head"&&t!=="body"&&!Oh(i.type,i.memoizedProps)),t&&(t=Ie)){if(Lh(i))throw Qy(),Error(C(418));for(;t;)Xy(i,t),t=un(t.nextSibling)}if(Wd(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));t:{for(i=i.nextSibling,t=0;i;){if(i.nodeType===8){var e=i.data;if(e==="/$"){if(t===0){Ie=un(i.nextSibling);break t}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++}i=i.nextSibling}Ie=null}}else Ie=Ce?un(i.stateNode.nextSibling):null;return!0}function Qy(){for(var i=Ie;i;)i=un(i.nextSibling)}function js(){Ie=Ce=null,St=!1}function jc(i){Qe===null?Qe=[i]:Qe.push(i)}var ab=Hi.ReactCurrentBatchConfig;function dr(i,t,e){if(i=e.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(C(309));var n=e.stateNode}if(!n)throw Error(C(147,i));var s=n,r=""+i;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===r?t.ref:(t=function(o){var l=s.refs;o===null?delete l[r]:l[r]=o},t._stringRef=r,t)}if(typeof i!="string")throw Error(C(284));if(!e._owner)throw Error(C(290,i))}return i}function jo(i,t){throw i=Object.prototype.toString.call(t),Error(C(31,i==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":i))}function Hd(i){var t=i._init;return t(i._payload)}function Jy(i){function t(p,m){if(i){var g=p.deletions;g===null?(p.deletions=[m],p.flags|=16):g.push(m)}}function e(p,m){if(!i)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function n(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function s(p,m){return p=dn(p,m),p.index=0,p.sibling=null,p}function r(p,m,g){return p.index=g,i?(g=p.alternate,g!==null?(g=g.index,g<m?(p.flags|=2,m):g):(p.flags|=2,m)):(p.flags|=1048576,m)}function o(p){return i&&p.alternate===null&&(p.flags|=2),p}function l(p,m,g,b){return m===null||m.tag!==6?(m=Du(g,p.mode,b),m.return=p,m):(m=s(m,g),m.return=p,m)}function a(p,m,g,b){var E=g.type;return E===ms?h(p,m,g.props.children,b,g.key):m!==null&&(m.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Gi&&Hd(E)===m.type)?(b=s(m,g.props),b.ref=dr(p,m,g),b.return=p,b):(b=gl(g.type,g.key,g.props,null,p.mode,b),b.ref=dr(p,m,g),b.return=p,b)}function u(p,m,g,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=Lu(g,p.mode,b),m.return=p,m):(m=s(m,g.children||[]),m.return=p,m)}function h(p,m,g,b,E){return m===null||m.tag!==7?(m=jn(g,p.mode,b,E),m.return=p,m):(m=s(m,g),m.return=p,m)}function c(p,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Du(""+m,p.mode,g),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Bo:return g=gl(m.type,m.key,m.props,null,p.mode,g),g.ref=dr(p,null,m),g.return=p,g;case ps:return m=Lu(m,p.mode,g),m.return=p,m;case Gi:var b=m._init;return c(p,b(m._payload),g)}if(wr(m)||ar(m))return m=jn(m,p.mode,g,null),m.return=p,m;jo(p,m)}return null}function f(p,m,g,b){var E=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return E!==null?null:l(p,m,""+g,b);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Bo:return g.key===E?a(p,m,g,b):null;case ps:return g.key===E?u(p,m,g,b):null;case Gi:return E=g._init,f(p,m,E(g._payload),b)}if(wr(g)||ar(g))return E!==null?null:h(p,m,g,b,null);jo(p,g)}return null}function d(p,m,g,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return p=p.get(g)||null,l(m,p,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Bo:return p=p.get(b.key===null?g:b.key)||null,a(m,p,b,E);case ps:return p=p.get(b.key===null?g:b.key)||null,u(m,p,b,E);case Gi:var B=b._init;return d(p,m,g,B(b._payload),E)}if(wr(b)||ar(b))return p=p.get(g)||null,h(m,p,b,E,null);jo(m,b)}return null}function y(p,m,g,b){for(var E=null,B=null,T=m,O=m=0,it=null;T!==null&&O<g.length;O++){T.index>O?(it=T,T=null):it=T.sibling;var A=f(p,T,g[O],b);if(A===null){T===null&&(T=it);break}i&&T&&A.alternate===null&&t(p,T),m=r(A,m,O),B===null?E=A:B.sibling=A,B=A,T=it}if(O===g.length)return e(p,T),St&&On(p,O),E;if(T===null){for(;O<g.length;O++)T=c(p,g[O],b),T!==null&&(m=r(T,m,O),B===null?E=T:B.sibling=T,B=T);return St&&On(p,O),E}for(T=n(p,T);O<g.length;O++)it=d(T,p,O,g[O],b),it!==null&&(i&&it.alternate!==null&&T.delete(it.key===null?O:it.key),m=r(it,m,O),B===null?E=it:B.sibling=it,B=it);return i&&T.forEach(function(N){return t(p,N)}),St&&On(p,O),E}function v(p,m,g,b){var E=ar(g);if(typeof E!="function")throw Error(C(150));if(g=E.call(g),g==null)throw Error(C(151));for(var B=E=null,T=m,O=m=0,it=null,A=g.next();T!==null&&!A.done;O++,A=g.next()){T.index>O?(it=T,T=null):it=T.sibling;var N=f(p,T,A.value,b);if(N===null){T===null&&(T=it);break}i&&T&&N.alternate===null&&t(p,T),m=r(N,m,O),B===null?E=N:B.sibling=N,B=N,T=it}if(A.done)return e(p,T),St&&On(p,O),E;if(T===null){for(;!A.done;O++,A=g.next())A=c(p,A.value,b),A!==null&&(m=r(A,m,O),B===null?E=A:B.sibling=A,B=A);return St&&On(p,O),E}for(T=n(p,T);!A.done;O++,A=g.next())A=d(T,p,O,A.value,b),A!==null&&(i&&A.alternate!==null&&T.delete(A.key===null?O:A.key),m=r(A,m,O),B===null?E=A:B.sibling=A,B=A);return i&&T.forEach(function(F){return t(p,F)}),St&&On(p,O),E}function x(p,m,g,b){if(typeof g=="object"&&g!==null&&g.type===ms&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Bo:t:{for(var E=g.key,B=m;B!==null;){if(B.key===E){if(E=g.type,E===ms){if(B.tag===7){e(p,B.sibling),m=s(B,g.props.children),m.return=p,p=m;break t}}else if(B.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Gi&&Hd(E)===B.type){e(p,B.sibling),m=s(B,g.props),m.ref=dr(p,B,g),m.return=p,p=m;break t}e(p,B);break}else t(p,B);B=B.sibling}g.type===ms?(m=jn(g.props.children,p.mode,b,g.key),m.return=p,p=m):(b=gl(g.type,g.key,g.props,null,p.mode,b),b.ref=dr(p,m,g),b.return=p,p=b)}return o(p);case ps:t:{for(B=g.key;m!==null;){if(m.key===B)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){e(p,m.sibling),m=s(m,g.children||[]),m.return=p,p=m;break t}else{e(p,m);break}else t(p,m);m=m.sibling}m=Lu(g,p.mode,b),m.return=p,p=m}return o(p);case Gi:return B=g._init,x(p,m,B(g._payload),b)}if(wr(g))return y(p,m,g,b);if(ar(g))return v(p,m,g,b);jo(p,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(e(p,m.sibling),m=s(m,g),m.return=p,p=m):(e(p,m),m=Du(g,p.mode,b),m.return=p,p=m),o(p)):e(p,m)}return x}var Ws=Jy(!0),Gy=Jy(!1),$l=Mn(null),Vl=null,xs=null,Wc=null;function Hc(){Wc=xs=Vl=null}function Kc(i){var t=$l.current;bt($l),i._currentValue=t}function Rh(i,t,e){for(;i!==null;){var n=i.alternate;if((i.childLanes&t)!==t?(i.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),i===e)break;i=i.return}}function zs(i,t){Vl=i,Wc=xs=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&t&&(he=!0),i.firstContext=null)}function Ue(i){var t=i._currentValue;if(Wc!==i)if(i={context:i,memoizedValue:t,next:null},xs===null){if(Vl===null)throw Error(C(308));xs=i,Vl.dependencies={lanes:0,firstContext:i}}else xs=xs.next=i;return t}var Dn=null;function Yc(i){Dn===null?Dn=[i]:Dn.push(i)}function qy(i,t,e,n){var s=t.interleaved;return s===null?(e.next=e,Yc(t)):(e.next=s.next,s.next=e),t.interleaved=e,Ui(i,n)}function Ui(i,t){i.lanes|=t;var e=i.alternate;for(e!==null&&(e.lanes|=t),e=i,i=i.return;i!==null;)i.childLanes|=t,e=i.alternate,e!==null&&(e.childLanes|=t),e=i,i=i.return;return e.tag===3?e.stateNode:null}var qi=!1;function Xc(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Zy(i,t){i=i.updateQueue,t.updateQueue===i&&(t.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function Ri(i,t){return{eventTime:i,lane:t,tag:0,payload:null,callback:null,next:null}}function hn(i,t,e){var n=i.updateQueue;if(n===null)return null;if(n=n.shared,et&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Ui(i,e)}return s=n.interleaved,s===null?(t.next=t,Yc(n)):(t.next=s.next,s.next=t),n.interleaved=t,Ui(i,e)}function fl(i,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194240)!==0)){var n=t.lanes;n&=i.pendingLanes,e|=n,t.lanes=e,zc(i,e)}}function Kd(i,t){var e=i.updateQueue,n=i.alternate;if(n!==null&&(n=n.updateQueue,e===n)){var s=null,r=null;if(e=e.firstBaseUpdate,e!==null){do{var o={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};r===null?s=r=o:r=r.next=o,e=e.next}while(e!==null);r===null?s=r=t:r=r.next=t}else s=r=t;e={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:n.shared,effects:n.effects},i.updateQueue=e;return}i=e.lastBaseUpdate,i===null?e.firstBaseUpdate=t:i.next=t,e.lastBaseUpdate=t}function Ul(i,t,e,n){var s=i.updateQueue;qi=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?r=u:o.next=u,o=a;var h=i.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=a))}if(r!==null){var c=s.baseState;o=0,h=u=a=null,l=r;do{var f=l.lane,d=l.eventTime;if((n&f)===f){h!==null&&(h=h.next={eventTime:d,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});t:{var y=i,v=l;switch(f=t,d=e,v.tag){case 1:if(y=v.payload,typeof y=="function"){c=y.call(d,c,f);break t}c=y;break t;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,f=typeof y=="function"?y.call(d,c,f):y,f==null)break t;c=Et({},c,f);break t;case 2:qi=!0}}l.callback!==null&&l.lane!==0&&(i.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else d={eventTime:d,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=d,a=c):h=h.next=d,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(a=c),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else r===null&&(s.shared.lanes=0);Jn|=o,i.lanes=o,i.memoizedState=c}}function Yd(i,t,e){if(i=t.effects,t.effects=null,i!==null)for(t=0;t<i.length;t++){var n=i[t],s=n.callback;if(s!==null){if(n.callback=null,n=e,typeof s!="function")throw Error(C(191,s));s.call(n)}}}var bo={},_i=Mn(bo),Gr=Mn(bo),qr=Mn(bo);function Ln(i){if(i===bo)throw Error(C(174));return i}function Qc(i,t){switch(yt(qr,t),yt(Gr,i),yt(_i,bo),i=t.nodeType,i){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:vh(null,"");break;default:i=i===8?t.parentNode:t,t=i.namespaceURI||null,i=i.tagName,t=vh(t,i)}bt(_i),yt(_i,t)}function Hs(){bt(_i),bt(Gr),bt(qr)}function tv(i){Ln(qr.current);var t=Ln(_i.current),e=vh(t,i.type);t!==e&&(yt(Gr,i),yt(_i,e))}function Jc(i){Gr.current===i&&(bt(_i),bt(Gr))}var Mt=Mn(0);function jl(i){for(var t=i;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break;for(;t.sibling===null;){if(t.return===null||t.return===i)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ku=[];function Gc(){for(var i=0;i<ku.length;i++)ku[i]._workInProgressVersionPrimary=null;ku.length=0}var dl=Hi.ReactCurrentDispatcher,Nu=Hi.ReactCurrentBatchConfig,Qn=0,Ct=null,Lt=null,Pt=null,Wl=!1,Nr=!1,Zr=0,ub=0;function Yt(){throw Error(C(321))}function qc(i,t){if(t===null)return!1;for(var e=0;e<t.length&&e<i.length;e++)if(!ti(i[e],t[e]))return!1;return!0}function Zc(i,t,e,n,s,r){if(Qn=r,Ct=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,dl.current=i===null||i.memoizedState===null?db:pb,i=e(n,s),Nr){r=0;do{if(Nr=!1,Zr=0,25<=r)throw Error(C(301));r+=1,Pt=Lt=null,t.updateQueue=null,dl.current=mb,i=e(n,s)}while(Nr)}if(dl.current=Hl,t=Lt!==null&&Lt.next!==null,Qn=0,Pt=Lt=Ct=null,Wl=!1,t)throw Error(C(300));return i}function tf(){var i=Zr!==0;return Zr=0,i}function li(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?Ct.memoizedState=Pt=i:Pt=Pt.next=i,Pt}function je(){if(Lt===null){var i=Ct.alternate;i=i!==null?i.memoizedState:null}else i=Lt.next;var t=Pt===null?Ct.memoizedState:Pt.next;if(t!==null)Pt=t,Lt=i;else{if(i===null)throw Error(C(310));Lt=i,i={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},Pt===null?Ct.memoizedState=Pt=i:Pt=Pt.next=i}return Pt}function to(i,t){return typeof t=="function"?t(i):t}function Tu(i){var t=je(),e=t.queue;if(e===null)throw Error(C(311));e.lastRenderedReducer=i;var n=Lt,s=n.baseQueue,r=e.pending;if(r!==null){if(s!==null){var o=s.next;s.next=r.next,r.next=o}n.baseQueue=s=r,e.pending=null}if(s!==null){r=s.next,n=n.baseState;var l=o=null,a=null,u=r;do{var h=u.lane;if((Qn&h)===h)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:i(n,u.action);else{var c={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=c,o=n):a=a.next=c,Ct.lanes|=h,Jn|=h}u=u.next}while(u!==null&&u!==r);a===null?o=n:a.next=l,ti(n,t.memoizedState)||(he=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=a,e.lastRenderedState=n}if(i=e.interleaved,i!==null){s=i;do r=s.lane,Ct.lanes|=r,Jn|=r,s=s.next;while(s!==i)}else s===null&&(e.lanes=0);return[t.memoizedState,e.dispatch]}function Ou(i){var t=je(),e=t.queue;if(e===null)throw Error(C(311));e.lastRenderedReducer=i;var n=e.dispatch,s=e.pending,r=t.memoizedState;if(s!==null){e.pending=null;var o=s=s.next;do r=i(r,o.action),o=o.next;while(o!==s);ti(r,t.memoizedState)||(he=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),e.lastRenderedState=r}return[r,n]}function ev(){}function iv(i,t){var e=Ct,n=je(),s=t(),r=!ti(n.memoizedState,s);if(r&&(n.memoizedState=s,he=!0),n=n.queue,ef(rv.bind(null,e,n,i),[i]),n.getSnapshot!==t||r||Pt!==null&&Pt.memoizedState.tag&1){if(e.flags|=2048,eo(9,sv.bind(null,e,n,s,t),void 0,null),$t===null)throw Error(C(349));Qn&30||nv(e,t,s)}return s}function nv(i,t,e){i.flags|=16384,i={getSnapshot:t,value:e},t=Ct.updateQueue,t===null?(t={lastEffect:null,stores:null},Ct.updateQueue=t,t.stores=[i]):(e=t.stores,e===null?t.stores=[i]:e.push(i))}function sv(i,t,e,n){t.value=e,t.getSnapshot=n,ov(t)&&lv(i)}function rv(i,t,e){return e(function(){ov(t)&&lv(i)})}function ov(i){var t=i.getSnapshot;i=i.value;try{var e=t();return!ti(i,e)}catch{return!0}}function lv(i){var t=Ui(i,1);t!==null&&qe(t,i,1,-1)}function Xd(i){var t=li();return typeof i=="function"&&(i=i()),t.memoizedState=t.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:to,lastRenderedState:i},t.queue=i,i=i.dispatch=fb.bind(null,Ct,i),[t.memoizedState,i]}function eo(i,t,e,n){return i={tag:i,create:t,destroy:e,deps:n,next:null},t=Ct.updateQueue,t===null?(t={lastEffect:null,stores:null},Ct.updateQueue=t,t.lastEffect=i.next=i):(e=t.lastEffect,e===null?t.lastEffect=i.next=i:(n=e.next,e.next=i,i.next=n,t.lastEffect=i)),i}function av(){return je().memoizedState}function pl(i,t,e,n){var s=li();Ct.flags|=i,s.memoizedState=eo(1|t,e,void 0,n===void 0?null:n)}function La(i,t,e,n){var s=je();n=n===void 0?null:n;var r=void 0;if(Lt!==null){var o=Lt.memoizedState;if(r=o.destroy,n!==null&&qc(n,o.deps)){s.memoizedState=eo(t,e,r,n);return}}Ct.flags|=i,s.memoizedState=eo(1|t,e,r,n)}function Qd(i,t){return pl(8390656,8,i,t)}function ef(i,t){return La(2048,8,i,t)}function uv(i,t){return La(4,2,i,t)}function hv(i,t){return La(4,4,i,t)}function cv(i,t){if(typeof t=="function")return i=i(),t(i),function(){t(null)};if(t!=null)return i=i(),t.current=i,function(){t.current=null}}function fv(i,t,e){return e=e!=null?e.concat([i]):null,La(4,4,cv.bind(null,t,i),e)}function nf(){}function dv(i,t){var e=je();t=t===void 0?null:t;var n=e.memoizedState;return n!==null&&t!==null&&qc(t,n[1])?n[0]:(e.memoizedState=[i,t],i)}function pv(i,t){var e=je();t=t===void 0?null:t;var n=e.memoizedState;return n!==null&&t!==null&&qc(t,n[1])?n[0]:(i=i(),e.memoizedState=[i,t],i)}function mv(i,t,e){return Qn&21?(ti(e,t)||(e=by(),Ct.lanes|=e,Jn|=e,i.baseState=!0),t):(i.baseState&&(i.baseState=!1,he=!0),i.memoizedState=e)}function hb(i,t){var e=ht;ht=e!==0&&4>e?e:4,i(!0);var n=Nu.transition;Nu.transition={};try{i(!1),t()}finally{ht=e,Nu.transition=n}}function yv(){return je().memoizedState}function cb(i,t,e){var n=fn(i);if(e={lane:n,action:e,hasEagerState:!1,eagerState:null,next:null},vv(i))gv(t,e);else if(e=qy(i,t,e,n),e!==null){var s=ee();qe(e,i,n,s),wv(e,t,n)}}function fb(i,t,e){var n=fn(i),s={lane:n,action:e,hasEagerState:!1,eagerState:null,next:null};if(vv(i))gv(t,s);else{var r=i.alternate;if(i.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var o=t.lastRenderedState,l=r(o,e);if(s.hasEagerState=!0,s.eagerState=l,ti(l,o)){var a=t.interleaved;a===null?(s.next=s,Yc(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}e=qy(i,t,s,n),e!==null&&(s=ee(),qe(e,i,n,s),wv(e,t,n))}}function vv(i){var t=i.alternate;return i===Ct||t!==null&&t===Ct}function gv(i,t){Nr=Wl=!0;var e=i.pending;e===null?t.next=t:(t.next=e.next,e.next=t),i.pending=t}function wv(i,t,e){if(e&4194240){var n=t.lanes;n&=i.pendingLanes,e|=n,t.lanes=e,zc(i,e)}}var Hl={readContext:Ue,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},db={readContext:Ue,useCallback:function(i,t){return li().memoizedState=[i,t===void 0?null:t],i},useContext:Ue,useEffect:Qd,useImperativeHandle:function(i,t,e){return e=e!=null?e.concat([i]):null,pl(4194308,4,cv.bind(null,t,i),e)},useLayoutEffect:function(i,t){return pl(4194308,4,i,t)},useInsertionEffect:function(i,t){return pl(4,2,i,t)},useMemo:function(i,t){var e=li();return t=t===void 0?null:t,i=i(),e.memoizedState=[i,t],i},useReducer:function(i,t,e){var n=li();return t=e!==void 0?e(t):t,n.memoizedState=n.baseState=t,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:t},n.queue=i,i=i.dispatch=cb.bind(null,Ct,i),[n.memoizedState,i]},useRef:function(i){var t=li();return i={current:i},t.memoizedState=i},useState:Xd,useDebugValue:nf,useDeferredValue:function(i){return li().memoizedState=i},useTransition:function(){var i=Xd(!1),t=i[0];return i=hb.bind(null,i[1]),li().memoizedState=i,[t,i]},useMutableSource:function(){},useSyncExternalStore:function(i,t,e){var n=Ct,s=li();if(St){if(e===void 0)throw Error(C(407));e=e()}else{if(e=t(),$t===null)throw Error(C(349));Qn&30||nv(n,t,e)}s.memoizedState=e;var r={value:e,getSnapshot:t};return s.queue=r,Qd(rv.bind(null,n,r,i),[i]),n.flags|=2048,eo(9,sv.bind(null,n,r,e,t),void 0,null),e},useId:function(){var i=li(),t=$t.identifierPrefix;if(St){var e=Di,n=zi;e=(n&~(1<<32-Ge(n)-1)).toString(32)+e,t=":"+t+"R"+e,e=Zr++,0<e&&(t+="H"+e.toString(32)),t+=":"}else e=ub++,t=":"+t+"r"+e.toString(32)+":";return i.memoizedState=t},unstable_isNewReconciler:!1},pb={readContext:Ue,useCallback:dv,useContext:Ue,useEffect:ef,useImperativeHandle:fv,useInsertionEffect:uv,useLayoutEffect:hv,useMemo:pv,useReducer:Tu,useRef:av,useState:function(){return Tu(to)},useDebugValue:nf,useDeferredValue:function(i){var t=je();return mv(t,Lt.memoizedState,i)},useTransition:function(){var i=Tu(to)[0],t=je().memoizedState;return[i,t]},useMutableSource:ev,useSyncExternalStore:iv,useId:yv,unstable_isNewReconciler:!1},mb={readContext:Ue,useCallback:dv,useContext:Ue,useEffect:ef,useImperativeHandle:fv,useInsertionEffect:uv,useLayoutEffect:hv,useMemo:pv,useReducer:Ou,useRef:av,useState:function(){return Ou(to)},useDebugValue:nf,useDeferredValue:function(i){var t=je();return Lt===null?t.memoizedState=i:mv(t,Lt.memoizedState,i)},useTransition:function(){var i=Ou(to)[0],t=je().memoizedState;return[i,t]},useMutableSource:ev,useSyncExternalStore:iv,useId:yv,unstable_isNewReconciler:!1};function Ke(i,t){if(i&&i.defaultProps){t=Et({},t),i=i.defaultProps;for(var e in i)t[e]===void 0&&(t[e]=i[e]);return t}return t}function Ah(i,t,e,n){t=i.memoizedState,e=e(n,t),e=e==null?t:Et({},t,e),i.memoizedState=e,i.lanes===0&&(i.updateQueue.baseState=e)}var Fa={isMounted:function(i){return(i=i._reactInternals)?ss(i)===i:!1},enqueueSetState:function(i,t,e){i=i._reactInternals;var n=ee(),s=fn(i),r=Ri(n,s);r.payload=t,e!=null&&(r.callback=e),t=hn(i,r,s),t!==null&&(qe(t,i,s,n),fl(t,i,s))},enqueueReplaceState:function(i,t,e){i=i._reactInternals;var n=ee(),s=fn(i),r=Ri(n,s);r.tag=1,r.payload=t,e!=null&&(r.callback=e),t=hn(i,r,s),t!==null&&(qe(t,i,s,n),fl(t,i,s))},enqueueForceUpdate:function(i,t){i=i._reactInternals;var e=ee(),n=fn(i),s=Ri(e,n);s.tag=2,t!=null&&(s.callback=t),t=hn(i,s,n),t!==null&&(qe(t,i,n,e),fl(t,i,n))}};function Jd(i,t,e,n,s,r,o){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(n,r,o):t.prototype&&t.prototype.isPureReactComponent?!Yr(e,n)||!Yr(s,r):!0}function bv(i,t,e){var n=!1,s=mn,r=t.contextType;return typeof r=="object"&&r!==null?r=Ue(r):(s=fe(t)?Yn:Jt.current,n=t.contextTypes,r=(n=n!=null)?Us(i,s):mn),t=new t(e,r),i.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Fa,i.stateNode=t,t._reactInternals=i,n&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=r),t}function Gd(i,t,e,n){i=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,n),t.state!==i&&Fa.enqueueReplaceState(t,t.state,null)}function Ph(i,t,e,n){var s=i.stateNode;s.props=e,s.state=i.memoizedState,s.refs={},Xc(i);var r=t.contextType;typeof r=="object"&&r!==null?s.context=Ue(r):(r=fe(t)?Yn:Jt.current,s.context=Us(i,r)),s.state=i.memoizedState,r=t.getDerivedStateFromProps,typeof r=="function"&&(Ah(i,t,r,e),s.state=i.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Fa.enqueueReplaceState(s,s.state,null),Ul(i,e,s,n),s.state=i.memoizedState),typeof s.componentDidMount=="function"&&(i.flags|=4194308)}function Ks(i,t){try{var e="",n=t;do e+=jw(n),n=n.return;while(n);var s=e}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:i,source:t,stack:s,digest:null}}function Bu(i,t,e){return{value:i,source:null,stack:e??null,digest:t??null}}function $h(i,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var yb=typeof WeakMap=="function"?WeakMap:Map;function _v(i,t,e){e=Ri(-1,e),e.tag=3,e.payload={element:null};var n=t.value;return e.callback=function(){Yl||(Yl=!0,Jh=n),$h(i,t)},e}function Sv(i,t,e){e=Ri(-1,e),e.tag=3;var n=i.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;e.payload=function(){return n(s)},e.callback=function(){$h(i,t)}}var r=i.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){$h(i,t),typeof n!="function"&&(cn===null?cn=new Set([this]):cn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),e}function qd(i,t,e){var n=i.pingCache;if(n===null){n=i.pingCache=new yb;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(e)||(s.add(e),i=Tb.bind(null,i,t,e),t.then(i,i))}function Zd(i){do{var t;if((t=i.tag===13)&&(t=i.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return i;i=i.return}while(i!==null);return null}function tp(i,t,e,n,s){return i.mode&1?(i.flags|=65536,i.lanes=s,i):(i===t?i.flags|=65536:(i.flags|=128,e.flags|=131072,e.flags&=-52805,e.tag===1&&(e.alternate===null?e.tag=17:(t=Ri(-1,1),t.tag=2,hn(e,t,1))),e.lanes|=1),i)}var vb=Hi.ReactCurrentOwner,he=!1;function Gt(i,t,e,n){t.child=i===null?Gy(t,null,e,n):Ws(t,i.child,e,n)}function ep(i,t,e,n,s){e=e.render;var r=t.ref;return zs(t,s),n=Zc(i,t,e,n,r,s),e=tf(),i!==null&&!he?(t.updateQueue=i.updateQueue,t.flags&=-2053,i.lanes&=~s,ji(i,t,s)):(St&&e&&Vc(t),t.flags|=1,Gt(i,t,n,s),t.child)}function ip(i,t,e,n,s){if(i===null){var r=e.type;return typeof r=="function"&&!cf(r)&&r.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(t.tag=15,t.type=r,xv(i,t,r,n,s)):(i=gl(e.type,null,n,t,t.mode,s),i.ref=t.ref,i.return=t,t.child=i)}if(r=i.child,!(i.lanes&s)){var o=r.memoizedProps;if(e=e.compare,e=e!==null?e:Yr,e(o,n)&&i.ref===t.ref)return ji(i,t,s)}return t.flags|=1,i=dn(r,n),i.ref=t.ref,i.return=t,t.child=i}function xv(i,t,e,n,s){if(i!==null){var r=i.memoizedProps;if(Yr(r,n)&&i.ref===t.ref)if(he=!1,t.pendingProps=n=r,(i.lanes&s)!==0)i.flags&131072&&(he=!0);else return t.lanes=i.lanes,ji(i,t,s)}return Vh(i,t,e,n,s)}function Mv(i,t,e){var n=t.pendingProps,s=n.children,r=i!==null?i.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(Is,Se),Se|=e;else{if(!(e&1073741824))return i=r!==null?r.baseLanes|e:e,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:i,cachePool:null,transitions:null},t.updateQueue=null,yt(Is,Se),Se|=i,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=r!==null?r.baseLanes:e,yt(Is,Se),Se|=n}else r!==null?(n=r.baseLanes|e,t.memoizedState=null):n=e,yt(Is,Se),Se|=n;return Gt(i,t,s,e),t.child}function Iv(i,t){var e=t.ref;(i===null&&e!==null||i!==null&&i.ref!==e)&&(t.flags|=512,t.flags|=2097152)}function Vh(i,t,e,n,s){var r=fe(e)?Yn:Jt.current;return r=Us(t,r),zs(t,s),e=Zc(i,t,e,n,r,s),n=tf(),i!==null&&!he?(t.updateQueue=i.updateQueue,t.flags&=-2053,i.lanes&=~s,ji(i,t,s)):(St&&n&&Vc(t),t.flags|=1,Gt(i,t,e,s),t.child)}function np(i,t,e,n,s){if(fe(e)){var r=!0;Rl(t)}else r=!1;if(zs(t,s),t.stateNode===null)ml(i,t),bv(t,e,n),Ph(t,e,n,s),n=!0;else if(i===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=e.contextType;typeof u=="object"&&u!==null?u=Ue(u):(u=fe(e)?Yn:Jt.current,u=Us(t,u));var h=e.getDerivedStateFromProps,c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||a!==u)&&Gd(t,o,n,u),qi=!1;var f=t.memoizedState;o.state=f,Ul(t,n,o,s),a=t.memoizedState,l!==n||f!==a||ce.current||qi?(typeof h=="function"&&(Ah(t,e,h,n),a=t.memoizedState),(l=qi||Jd(t,e,l,n,f,a,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=a),o.props=n,o.state=a,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Zy(i,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ke(t.type,l),o.props=u,c=t.pendingProps,f=o.context,a=e.contextType,typeof a=="object"&&a!==null?a=Ue(a):(a=fe(e)?Yn:Jt.current,a=Us(t,a));var d=e.getDerivedStateFromProps;(h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==c||f!==a)&&Gd(t,o,n,a),qi=!1,f=t.memoizedState,o.state=f,Ul(t,n,o,s);var y=t.memoizedState;l!==c||f!==y||ce.current||qi?(typeof d=="function"&&(Ah(t,e,d,n),y=t.memoizedState),(u=qi||Jd(t,e,u,n,f,y,a)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===i.memoizedProps&&f===i.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===i.memoizedProps&&f===i.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=a,n=u):(typeof o.componentDidUpdate!="function"||l===i.memoizedProps&&f===i.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===i.memoizedProps&&f===i.memoizedState||(t.flags|=1024),n=!1)}return Uh(i,t,e,n,r,s)}function Uh(i,t,e,n,s,r){Iv(i,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Ud(t,e,!1),ji(i,t,r);n=t.stateNode,vb.current=t;var l=o&&typeof e.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,i!==null&&o?(t.child=Ws(t,i.child,null,r),t.child=Ws(t,null,l,r)):Gt(i,t,l,r),t.memoizedState=n.state,s&&Ud(t,e,!0),t.child}function Cv(i){var t=i.stateNode;t.pendingContext?Vd(i,t.pendingContext,t.pendingContext!==t.context):t.context&&Vd(i,t.context,!1),Qc(i,t.containerInfo)}function sp(i,t,e,n,s){return js(),jc(s),t.flags|=256,Gt(i,t,e,n),t.child}var jh={dehydrated:null,treeContext:null,retryLane:0};function Wh(i){return{baseLanes:i,cachePool:null,transitions:null}}function Ev(i,t,e){var n=t.pendingProps,s=Mt.current,r=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=i!==null&&i.memoizedState===null?!1:(s&2)!==0),l?(r=!0,t.flags&=-129):(i===null||i.memoizedState!==null)&&(s|=1),yt(Mt,s&1),i===null)return Fh(t),i=t.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(t.mode&1?i.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,i=n.fallback,r?(n=t.mode,r=t.child,o={mode:"hidden",children:o},!(n&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=Pa(o,n,0,null),i=jn(i,n,e,null),r.return=t,i.return=t,r.sibling=i,t.child=r,t.child.memoizedState=Wh(e),t.memoizedState=jh,i):sf(t,o));if(s=i.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return gb(i,t,o,n,l,s,e);if(r){r=n.fallback,o=t.mode,s=i.child,l=s.sibling;var a={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=a,t.deletions=null):(n=dn(s,a),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?r=dn(l,r):(r=jn(r,o,e,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,n=r,r=t.child,o=i.child.memoizedState,o=o===null?Wh(e):{baseLanes:o.baseLanes|e,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=i.childLanes&~e,t.memoizedState=jh,n}return r=i.child,i=r.sibling,n=dn(r,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=e),n.return=t,n.sibling=null,i!==null&&(e=t.deletions,e===null?(t.deletions=[i],t.flags|=16):e.push(i)),t.child=n,t.memoizedState=null,n}function sf(i,t){return t=Pa({mode:"visible",children:t},i.mode,0,null),t.return=i,i.child=t}function Wo(i,t,e,n){return n!==null&&jc(n),Ws(t,i.child,null,e),i=sf(t,t.pendingProps.children),i.flags|=2,t.memoizedState=null,i}function gb(i,t,e,n,s,r,o){if(e)return t.flags&256?(t.flags&=-257,n=Bu(Error(C(422))),Wo(i,t,o,n)):t.memoizedState!==null?(t.child=i.child,t.flags|=128,null):(r=n.fallback,s=t.mode,n=Pa({mode:"visible",children:n.children},s,0,null),r=jn(r,s,o,null),r.flags|=2,n.return=t,r.return=t,n.sibling=r,t.child=n,t.mode&1&&Ws(t,i.child,null,o),t.child.memoizedState=Wh(o),t.memoizedState=jh,r);if(!(t.mode&1))return Wo(i,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,r=Error(C(419)),n=Bu(r,n,void 0),Wo(i,t,o,n)}if(l=(o&i.childLanes)!==0,he||l){if(n=$t,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,Ui(i,s),qe(n,i,s,-1))}return hf(),n=Bu(Error(C(421))),Wo(i,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=i.child,t=Ob.bind(null,i),s._reactRetry=t,null):(i=r.treeContext,Ie=un(s.nextSibling),Ce=t,St=!0,Qe=null,i!==null&&(Fe[Re++]=zi,Fe[Re++]=Di,Fe[Re++]=Xn,zi=i.id,Di=i.overflow,Xn=t),t=sf(t,n.children),t.flags|=4096,t)}function rp(i,t,e){i.lanes|=t;var n=i.alternate;n!==null&&(n.lanes|=t),Rh(i.return,t,e)}function zu(i,t,e,n,s){var r=i.memoizedState;r===null?i.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:e,tailMode:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=n,r.tail=e,r.tailMode=s)}function kv(i,t,e){var n=t.pendingProps,s=n.revealOrder,r=n.tail;if(Gt(i,t,n.children,e),n=Mt.current,n&2)n=n&1|2,t.flags|=128;else{if(i!==null&&i.flags&128)t:for(i=t.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&rp(i,e,t);else if(i.tag===19)rp(i,e,t);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break t;for(;i.sibling===null;){if(i.return===null||i.return===t)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}n&=1}if(yt(Mt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(e=t.child,s=null;e!==null;)i=e.alternate,i!==null&&jl(i)===null&&(s=e),e=e.sibling;e=s,e===null?(s=t.child,t.child=null):(s=e.sibling,e.sibling=null),zu(t,!1,s,e,r);break;case"backwards":for(e=null,s=t.child,t.child=null;s!==null;){if(i=s.alternate,i!==null&&jl(i)===null){t.child=s;break}i=s.sibling,s.sibling=e,e=s,s=i}zu(t,!0,e,null,r);break;case"together":zu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ml(i,t){!(t.mode&1)&&i!==null&&(i.alternate=null,t.alternate=null,t.flags|=2)}function ji(i,t,e){if(i!==null&&(t.dependencies=i.dependencies),Jn|=t.lanes,!(e&t.childLanes))return null;if(i!==null&&t.child!==i.child)throw Error(C(153));if(t.child!==null){for(i=t.child,e=dn(i,i.pendingProps),t.child=e,e.return=t;i.sibling!==null;)i=i.sibling,e=e.sibling=dn(i,i.pendingProps),e.return=t;e.sibling=null}return t.child}function wb(i,t,e){switch(t.tag){case 3:Cv(t),js();break;case 5:tv(t);break;case 1:fe(t.type)&&Rl(t);break;case 4:Qc(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;yt($l,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(yt(Mt,Mt.current&1),t.flags|=128,null):e&t.child.childLanes?Ev(i,t,e):(yt(Mt,Mt.current&1),i=ji(i,t,e),i!==null?i.sibling:null);yt(Mt,Mt.current&1);break;case 19:if(n=(e&t.childLanes)!==0,i.flags&128){if(n)return kv(i,t,e);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),yt(Mt,Mt.current),n)break;return null;case 22:case 23:return t.lanes=0,Mv(i,t,e)}return ji(i,t,e)}var Nv,Hh,Tv,Ov;Nv=function(i,t){for(var e=t.child;e!==null;){if(e.tag===5||e.tag===6)i.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};Hh=function(){};Tv=function(i,t,e,n){var s=i.memoizedProps;if(s!==n){i=t.stateNode,Ln(_i.current);var r=null;switch(e){case"input":s=dh(i,s),n=dh(i,n),r=[];break;case"select":s=Et({},s,{value:void 0}),n=Et({},n,{value:void 0}),r=[];break;case"textarea":s=yh(i,s),n=yh(i,n),r=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(i.onclick=Ll)}gh(e,n);var o;e=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(e||(e={}),e[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($r.hasOwnProperty(u)?r||(r=[]):(r=r||[]).push(u,null));for(u in n){var a=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(e||(e={}),e[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(e||(e={}),e[o]=a[o])}else e||(r||(r=[]),r.push(u,e)),e=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(r=r||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(r=r||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($r.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&gt("scroll",i),r||l===a||(r=[])):(r=r||[]).push(u,a))}e&&(r=r||[]).push("style",e);var u=r;(t.updateQueue=u)&&(t.flags|=4)}};Ov=function(i,t,e,n){e!==n&&(t.flags|=4)};function pr(i,t){if(!St)switch(i.tailMode){case"hidden":t=i.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?i.tail=null:e.sibling=null;break;case"collapsed":e=i.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t||i.tail===null?i.tail=null:i.tail.sibling=null:n.sibling=null}}function Xt(i){var t=i.alternate!==null&&i.alternate.child===i.child,e=0,n=0;if(t)for(var s=i.child;s!==null;)e|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=i,s=s.sibling;else for(s=i.child;s!==null;)e|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=i,s=s.sibling;return i.subtreeFlags|=n,i.childLanes=e,t}function bb(i,t,e){var n=t.pendingProps;switch(Uc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(t),null;case 1:return fe(t.type)&&Fl(),Xt(t),null;case 3:return n=t.stateNode,Hs(),bt(ce),bt(Jt),Gc(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(i===null||i.child===null)&&(Uo(t)?t.flags|=4:i===null||i.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qe!==null&&(Zh(Qe),Qe=null))),Hh(i,t),Xt(t),null;case 5:Jc(t);var s=Ln(qr.current);if(e=t.type,i!==null&&t.stateNode!=null)Tv(i,t,e,n,s),i.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(C(166));return Xt(t),null}if(i=Ln(_i.current),Uo(t)){n=t.stateNode,e=t.type;var r=t.memoizedProps;switch(n[hi]=t,n[Jr]=r,i=(t.mode&1)!==0,e){case"dialog":gt("cancel",n),gt("close",n);break;case"iframe":case"object":case"embed":gt("load",n);break;case"video":case"audio":for(s=0;s<_r.length;s++)gt(_r[s],n);break;case"source":gt("error",n);break;case"img":case"image":case"link":gt("error",n),gt("load",n);break;case"details":gt("toggle",n);break;case"input":pd(n,r),gt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!r.multiple},gt("invalid",n);break;case"textarea":yd(n,r),gt("invalid",n)}gh(e,r),s=null;for(var o in r)if(r.hasOwnProperty(o)){var l=r[o];o==="children"?typeof l=="string"?n.textContent!==l&&(r.suppressHydrationWarning!==!0&&Vo(n.textContent,l,i),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(r.suppressHydrationWarning!==!0&&Vo(n.textContent,l,i),s=["children",""+l]):$r.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&gt("scroll",n)}switch(e){case"input":zo(n),md(n,r,!0);break;case"textarea":zo(n),vd(n);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(n.onclick=Ll)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=ry(e)),i==="http://www.w3.org/1999/xhtml"?e==="script"?(i=o.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof n.is=="string"?i=o.createElement(e,{is:n.is}):(i=o.createElement(e),e==="select"&&(o=i,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):i=o.createElementNS(i,e),i[hi]=t,i[Jr]=n,Nv(i,t,!1,!1),t.stateNode=i;t:{switch(o=wh(e,n),e){case"dialog":gt("cancel",i),gt("close",i),s=n;break;case"iframe":case"object":case"embed":gt("load",i),s=n;break;case"video":case"audio":for(s=0;s<_r.length;s++)gt(_r[s],i);s=n;break;case"source":gt("error",i),s=n;break;case"img":case"image":case"link":gt("error",i),gt("load",i),s=n;break;case"details":gt("toggle",i),s=n;break;case"input":pd(i,n),s=dh(i,n),gt("invalid",i);break;case"option":s=n;break;case"select":i._wrapperState={wasMultiple:!!n.multiple},s=Et({},n,{value:void 0}),gt("invalid",i);break;case"textarea":yd(i,n),s=yh(i,n),gt("invalid",i);break;default:s=n}gh(e,s),l=s;for(r in l)if(l.hasOwnProperty(r)){var a=l[r];r==="style"?ay(i,a):r==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&oy(i,a)):r==="children"?typeof a=="string"?(e!=="textarea"||a!=="")&&Vr(i,a):typeof a=="number"&&Vr(i,""+a):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&($r.hasOwnProperty(r)?a!=null&&r==="onScroll"&&gt("scroll",i):a!=null&&Ec(i,r,a,o))}switch(e){case"input":zo(i),md(i,n,!1);break;case"textarea":zo(i),vd(i);break;case"option":n.value!=null&&i.setAttribute("value",""+pn(n.value));break;case"select":i.multiple=!!n.multiple,r=n.value,r!=null?Ns(i,!!n.multiple,r,!1):n.defaultValue!=null&&Ns(i,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(i.onclick=Ll)}switch(e){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break t;case"img":n=!0;break t;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xt(t),null;case 6:if(i&&t.stateNode!=null)Ov(i,t,i.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(C(166));if(e=Ln(qr.current),Ln(_i.current),Uo(t)){if(n=t.stateNode,e=t.memoizedProps,n[hi]=t,(r=n.nodeValue!==e)&&(i=Ce,i!==null))switch(i.tag){case 3:Vo(n.nodeValue,e,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Vo(n.nodeValue,e,(i.mode&1)!==0)}r&&(t.flags|=4)}else n=(e.nodeType===9?e:e.ownerDocument).createTextNode(n),n[hi]=t,t.stateNode=n}return Xt(t),null;case 13:if(bt(Mt),n=t.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(St&&Ie!==null&&t.mode&1&&!(t.flags&128))Qy(),js(),t.flags|=98560,r=!1;else if(r=Uo(t),n!==null&&n.dehydrated!==null){if(i===null){if(!r)throw Error(C(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(C(317));r[hi]=t}else js(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xt(t),r=!1}else Qe!==null&&(Zh(Qe),Qe=null),r=!0;if(!r)return t.flags&65536?t:null}return t.flags&128?(t.lanes=e,t):(n=n!==null,n!==(i!==null&&i.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(i===null||Mt.current&1?At===0&&(At=3):hf())),t.updateQueue!==null&&(t.flags|=4),Xt(t),null);case 4:return Hs(),Hh(i,t),i===null&&Xr(t.stateNode.containerInfo),Xt(t),null;case 10:return Kc(t.type._context),Xt(t),null;case 17:return fe(t.type)&&Fl(),Xt(t),null;case 19:if(bt(Mt),r=t.memoizedState,r===null)return Xt(t),null;if(n=(t.flags&128)!==0,o=r.rendering,o===null)if(n)pr(r,!1);else{if(At!==0||i!==null&&i.flags&128)for(i=t.child;i!==null;){if(o=jl(i),o!==null){for(t.flags|=128,pr(r,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=e,e=t.child;e!==null;)r=e,i=n,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,i=o.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e=e.sibling;return yt(Mt,Mt.current&1|2),t.child}i=i.sibling}r.tail!==null&&Nt()>Ys&&(t.flags|=128,n=!0,pr(r,!1),t.lanes=4194304)}else{if(!n)if(i=jl(o),i!==null){if(t.flags|=128,n=!0,e=i.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),pr(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!St)return Xt(t),null}else 2*Nt()-r.renderingStartTime>Ys&&e!==1073741824&&(t.flags|=128,n=!0,pr(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e!==null?e.sibling=o:t.child=o,r.last=o)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Nt(),t.sibling=null,e=Mt.current,yt(Mt,n?e&1|2:e&1),t):(Xt(t),null);case 22:case 23:return uf(),n=t.memoizedState!==null,i!==null&&i.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Se&1073741824&&(Xt(t),t.subtreeFlags&6&&(t.flags|=8192)):Xt(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function _b(i,t){switch(Uc(t),t.tag){case 1:return fe(t.type)&&Fl(),i=t.flags,i&65536?(t.flags=i&-65537|128,t):null;case 3:return Hs(),bt(ce),bt(Jt),Gc(),i=t.flags,i&65536&&!(i&128)?(t.flags=i&-65537|128,t):null;case 5:return Jc(t),null;case 13:if(bt(Mt),i=t.memoizedState,i!==null&&i.dehydrated!==null){if(t.alternate===null)throw Error(C(340));js()}return i=t.flags,i&65536?(t.flags=i&-65537|128,t):null;case 19:return bt(Mt),null;case 4:return Hs(),null;case 10:return Kc(t.type._context),null;case 22:case 23:return uf(),null;case 24:return null;default:return null}}var Ho=!1,Qt=!1,Sb=typeof WeakSet=="function"?WeakSet:Set,z=null;function Ms(i,t){var e=i.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){kt(i,t,n)}else e.current=null}function Kh(i,t,e){try{e()}catch(n){kt(i,t,n)}}var op=!1;function xb(i,t){if(Nh=Bl,i=Fy(),$c(i)){if("selectionStart"in i)var e={start:i.selectionStart,end:i.selectionEnd};else t:{e=(e=i.ownerDocument)&&e.defaultView||window;var n=e.getSelection&&e.getSelection();if(n&&n.rangeCount!==0){e=n.anchorNode;var s=n.anchorOffset,r=n.focusNode;n=n.focusOffset;try{e.nodeType,r.nodeType}catch{e=null;break t}var o=0,l=-1,a=-1,u=0,h=0,c=i,f=null;e:for(;;){for(var d;c!==e||s!==0&&c.nodeType!==3||(l=o+s),c!==r||n!==0&&c.nodeType!==3||(a=o+n),c.nodeType===3&&(o+=c.nodeValue.length),(d=c.firstChild)!==null;)f=c,c=d;for(;;){if(c===i)break e;if(f===e&&++u===s&&(l=o),f===r&&++h===n&&(a=o),(d=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=d}e=l===-1||a===-1?null:{start:l,end:a}}else e=null}e=e||{start:0,end:0}}else e=null;for(Th={focusedElem:i,selectionRange:e},Bl=!1,z=t;z!==null;)if(t=z,i=t.child,(t.subtreeFlags&1028)!==0&&i!==null)i.return=t,z=i;else for(;z!==null;){t=z;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,x=y.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?v:Ke(t.type,v),x);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(b){kt(t,t.return,b)}if(i=t.sibling,i!==null){i.return=t.return,z=i;break}z=t.return}return y=op,op=!1,y}function Tr(i,t,e){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&i)===i){var r=s.destroy;s.destroy=void 0,r!==void 0&&Kh(t,e,r)}s=s.next}while(s!==n)}}function Ra(i,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var e=t=t.next;do{if((e.tag&i)===i){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}}function Yh(i){var t=i.ref;if(t!==null){var e=i.stateNode;switch(i.tag){case 5:i=e;break;default:i=e}typeof t=="function"?t(i):t.current=i}}function Bv(i){var t=i.alternate;t!==null&&(i.alternate=null,Bv(t)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(t=i.stateNode,t!==null&&(delete t[hi],delete t[Jr],delete t[zh],delete t[rb],delete t[ob])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function zv(i){return i.tag===5||i.tag===3||i.tag===4}function lp(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||zv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Xh(i,t,e){var n=i.tag;if(n===5||n===6)i=i.stateNode,t?e.nodeType===8?e.parentNode.insertBefore(i,t):e.insertBefore(i,t):(e.nodeType===8?(t=e.parentNode,t.insertBefore(i,e)):(t=e,t.appendChild(i)),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=Ll));else if(n!==4&&(i=i.child,i!==null))for(Xh(i,t,e),i=i.sibling;i!==null;)Xh(i,t,e),i=i.sibling}function Qh(i,t,e){var n=i.tag;if(n===5||n===6)i=i.stateNode,t?e.insertBefore(i,t):e.appendChild(i);else if(n!==4&&(i=i.child,i!==null))for(Qh(i,t,e),i=i.sibling;i!==null;)Qh(i,t,e),i=i.sibling}var Ut=null,Ye=!1;function Xi(i,t,e){for(e=e.child;e!==null;)Dv(i,t,e),e=e.sibling}function Dv(i,t,e){if(bi&&typeof bi.onCommitFiberUnmount=="function")try{bi.onCommitFiberUnmount(Na,e)}catch{}switch(e.tag){case 5:Qt||Ms(e,t);case 6:var n=Ut,s=Ye;Ut=null,Xi(i,t,e),Ut=n,Ye=s,Ut!==null&&(Ye?(i=Ut,e=e.stateNode,i.nodeType===8?i.parentNode.removeChild(e):i.removeChild(e)):Ut.removeChild(e.stateNode));break;case 18:Ut!==null&&(Ye?(i=Ut,e=e.stateNode,i.nodeType===8?Cu(i.parentNode,e):i.nodeType===1&&Cu(i,e),Hr(i)):Cu(Ut,e.stateNode));break;case 4:n=Ut,s=Ye,Ut=e.stateNode.containerInfo,Ye=!0,Xi(i,t,e),Ut=n,Ye=s;break;case 0:case 11:case 14:case 15:if(!Qt&&(n=e.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var r=s,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&Kh(e,t,o),s=s.next}while(s!==n)}Xi(i,t,e);break;case 1:if(!Qt&&(Ms(e,t),n=e.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(l){kt(e,t,l)}Xi(i,t,e);break;case 21:Xi(i,t,e);break;case 22:e.mode&1?(Qt=(n=Qt)||e.memoizedState!==null,Xi(i,t,e),Qt=n):Xi(i,t,e);break;default:Xi(i,t,e)}}function ap(i){var t=i.updateQueue;if(t!==null){i.updateQueue=null;var e=i.stateNode;e===null&&(e=i.stateNode=new Sb),t.forEach(function(n){var s=Bb.bind(null,i,n);e.has(n)||(e.add(n),n.then(s,s))})}}function He(i,t){var e=t.deletions;if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];try{var r=i,o=t,l=o;t:for(;l!==null;){switch(l.tag){case 5:Ut=l.stateNode,Ye=!1;break t;case 3:Ut=l.stateNode.containerInfo,Ye=!0;break t;case 4:Ut=l.stateNode.containerInfo,Ye=!0;break t}l=l.return}if(Ut===null)throw Error(C(160));Dv(r,o,s),Ut=null,Ye=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){kt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Lv(t,i),t=t.sibling}function Lv(i,t){var e=i.alternate,n=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(He(t,i),si(i),n&4){try{Tr(3,i,i.return),Ra(3,i)}catch(v){kt(i,i.return,v)}try{Tr(5,i,i.return)}catch(v){kt(i,i.return,v)}}break;case 1:He(t,i),si(i),n&512&&e!==null&&Ms(e,e.return);break;case 5:if(He(t,i),si(i),n&512&&e!==null&&Ms(e,e.return),i.flags&32){var s=i.stateNode;try{Vr(s,"")}catch(v){kt(i,i.return,v)}}if(n&4&&(s=i.stateNode,s!=null)){var r=i.memoizedProps,o=e!==null?e.memoizedProps:r,l=i.type,a=i.updateQueue;if(i.updateQueue=null,a!==null)try{l==="input"&&r.type==="radio"&&r.name!=null&&ny(s,r),wh(l,o);var u=wh(l,r);for(o=0;o<a.length;o+=2){var h=a[o],c=a[o+1];h==="style"?ay(s,c):h==="dangerouslySetInnerHTML"?oy(s,c):h==="children"?Vr(s,c):Ec(s,h,c,u)}switch(l){case"input":ph(s,r);break;case"textarea":sy(s,r);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var d=r.value;d!=null?Ns(s,!!r.multiple,d,!1):f!==!!r.multiple&&(r.defaultValue!=null?Ns(s,!!r.multiple,r.defaultValue,!0):Ns(s,!!r.multiple,r.multiple?[]:"",!1))}s[Jr]=r}catch(v){kt(i,i.return,v)}}break;case 6:if(He(t,i),si(i),n&4){if(i.stateNode===null)throw Error(C(162));s=i.stateNode,r=i.memoizedProps;try{s.nodeValue=r}catch(v){kt(i,i.return,v)}}break;case 3:if(He(t,i),si(i),n&4&&e!==null&&e.memoizedState.isDehydrated)try{Hr(t.containerInfo)}catch(v){kt(i,i.return,v)}break;case 4:He(t,i),si(i);break;case 13:He(t,i),si(i),s=i.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(lf=Nt())),n&4&&ap(i);break;case 22:if(h=e!==null&&e.memoizedState!==null,i.mode&1?(Qt=(u=Qt)||h,He(t,i),Qt=u):He(t,i),si(i),n&8192){if(u=i.memoizedState!==null,(i.stateNode.isHidden=u)&&!h&&i.mode&1)for(z=i,h=i.child;h!==null;){for(c=z=h;z!==null;){switch(f=z,d=f.child,f.tag){case 0:case 11:case 14:case 15:Tr(4,f,f.return);break;case 1:Ms(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,e=f.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){kt(n,e,v)}}break;case 5:Ms(f,f.return);break;case 22:if(f.memoizedState!==null){hp(c);continue}}d!==null?(d.return=f,z=d):hp(c)}h=h.sibling}t:for(h=null,c=i;;){if(c.tag===5){if(h===null){h=c;try{s=c.stateNode,u?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(l=c.stateNode,a=c.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=ly("display",o))}catch(v){kt(i,i.return,v)}}}else if(c.tag===6){if(h===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(v){kt(i,i.return,v)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===i)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break t;for(;c.sibling===null;){if(c.return===null||c.return===i)break t;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:He(t,i),si(i),n&4&&ap(i);break;case 21:break;default:He(t,i),si(i)}}function si(i){var t=i.flags;if(t&2){try{t:{for(var e=i.return;e!==null;){if(zv(e)){var n=e;break t}e=e.return}throw Error(C(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Vr(s,""),n.flags&=-33);var r=lp(i);Qh(i,r,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=lp(i);Xh(i,l,o);break;default:throw Error(C(161))}}catch(a){kt(i,i.return,a)}i.flags&=-3}t&4096&&(i.flags&=-4097)}function Mb(i,t,e){z=i,Fv(i)}function Fv(i,t,e){for(var n=(i.mode&1)!==0;z!==null;){var s=z,r=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Ho;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||Qt;l=Ho;var u=Qt;if(Ho=o,(Qt=a)&&!u)for(z=s;z!==null;)o=z,a=o.child,o.tag===22&&o.memoizedState!==null?cp(s):a!==null?(a.return=o,z=a):cp(s);for(;r!==null;)z=r,Fv(r),r=r.sibling;z=s,Ho=l,Qt=u}up(i)}else s.subtreeFlags&8772&&r!==null?(r.return=s,z=r):up(i)}}function up(i){for(;z!==null;){var t=z;if(t.flags&8772){var e=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qt||Ra(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Qt)if(e===null)n.componentDidMount();else{var s=t.elementType===t.type?e.memoizedProps:Ke(t.type,e.memoizedProps);n.componentDidUpdate(s,e.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;r!==null&&Yd(t,r,n);break;case 3:var o=t.updateQueue;if(o!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}Yd(t,o,e)}break;case 5:var l=t.stateNode;if(e===null&&t.flags&4){e=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&e.focus();break;case"img":a.src&&(e.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var c=h.dehydrated;c!==null&&Hr(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Qt||t.flags&512&&Yh(t)}catch(f){kt(t,t.return,f)}}if(t===i){z=null;break}if(e=t.sibling,e!==null){e.return=t.return,z=e;break}z=t.return}}function hp(i){for(;z!==null;){var t=z;if(t===i){z=null;break}var e=t.sibling;if(e!==null){e.return=t.return,z=e;break}z=t.return}}function cp(i){for(;z!==null;){var t=z;try{switch(t.tag){case 0:case 11:case 15:var e=t.return;try{Ra(4,t)}catch(a){kt(t,e,a)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(a){kt(t,s,a)}}var r=t.return;try{Yh(t)}catch(a){kt(t,r,a)}break;case 5:var o=t.return;try{Yh(t)}catch(a){kt(t,o,a)}}}catch(a){kt(t,t.return,a)}if(t===i){z=null;break}var l=t.sibling;if(l!==null){l.return=t.return,z=l;break}z=t.return}}var Ib=Math.ceil,Kl=Hi.ReactCurrentDispatcher,rf=Hi.ReactCurrentOwner,Ve=Hi.ReactCurrentBatchConfig,et=0,$t=null,Ot=null,Wt=0,Se=0,Is=Mn(0),At=0,io=null,Jn=0,Aa=0,of=0,Or=null,le=null,lf=0,Ys=1/0,Ci=null,Yl=!1,Jh=null,cn=null,Ko=!1,rn=null,Xl=0,Br=0,Gh=null,yl=-1,vl=0;function ee(){return et&6?Nt():yl!==-1?yl:yl=Nt()}function fn(i){return i.mode&1?et&2&&Wt!==0?Wt&-Wt:ab.transition!==null?(vl===0&&(vl=by()),vl):(i=ht,i!==0||(i=window.event,i=i===void 0?16:Ey(i.type)),i):1}function qe(i,t,e,n){if(50<Br)throw Br=0,Gh=null,Error(C(185));vo(i,e,n),(!(et&2)||i!==$t)&&(i===$t&&(!(et&2)&&(Aa|=e),At===4&&nn(i,Wt)),de(i,n),e===1&&et===0&&!(t.mode&1)&&(Ys=Nt()+500,Da&&In()))}function de(i,t){var e=i.callbackNode;a1(i,t);var n=Ol(i,i===$t?Wt:0);if(n===0)e!==null&&bd(e),i.callbackNode=null,i.callbackPriority=0;else if(t=n&-n,i.callbackPriority!==t){if(e!=null&&bd(e),t===1)i.tag===0?lb(fp.bind(null,i)):Ky(fp.bind(null,i)),nb(function(){!(et&6)&&In()}),e=null;else{switch(_y(n)){case 1:e=Bc;break;case 4:e=gy;break;case 16:e=Tl;break;case 536870912:e=wy;break;default:e=Tl}e=Wv(e,Rv.bind(null,i))}i.callbackPriority=t,i.callbackNode=e}}function Rv(i,t){if(yl=-1,vl=0,et&6)throw Error(C(327));var e=i.callbackNode;if(Ds()&&i.callbackNode!==e)return null;var n=Ol(i,i===$t?Wt:0);if(n===0)return null;if(n&30||n&i.expiredLanes||t)t=Ql(i,n);else{t=n;var s=et;et|=2;var r=Pv();($t!==i||Wt!==t)&&(Ci=null,Ys=Nt()+500,Un(i,t));do try{kb();break}catch(l){Av(i,l)}while(!0);Hc(),Kl.current=r,et=s,Ot!==null?t=0:($t=null,Wt=0,t=At)}if(t!==0){if(t===2&&(s=Mh(i),s!==0&&(n=s,t=qh(i,s))),t===1)throw e=io,Un(i,0),nn(i,n),de(i,Nt()),e;if(t===6)nn(i,n);else{if(s=i.current.alternate,!(n&30)&&!Cb(s)&&(t=Ql(i,n),t===2&&(r=Mh(i),r!==0&&(n=r,t=qh(i,r))),t===1))throw e=io,Un(i,0),nn(i,n),de(i,Nt()),e;switch(i.finishedWork=s,i.finishedLanes=n,t){case 0:case 1:throw Error(C(345));case 2:Bn(i,le,Ci);break;case 3:if(nn(i,n),(n&130023424)===n&&(t=lf+500-Nt(),10<t)){if(Ol(i,0)!==0)break;if(s=i.suspendedLanes,(s&n)!==n){ee(),i.pingedLanes|=i.suspendedLanes&s;break}i.timeoutHandle=Bh(Bn.bind(null,i,le,Ci),t);break}Bn(i,le,Ci);break;case 4:if(nn(i,n),(n&4194240)===n)break;for(t=i.eventTimes,s=-1;0<n;){var o=31-Ge(n);r=1<<o,o=t[o],o>s&&(s=o),n&=~r}if(n=s,n=Nt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ib(n/1960))-n,10<n){i.timeoutHandle=Bh(Bn.bind(null,i,le,Ci),n);break}Bn(i,le,Ci);break;case 5:Bn(i,le,Ci);break;default:throw Error(C(329))}}}return de(i,Nt()),i.callbackNode===e?Rv.bind(null,i):null}function qh(i,t){var e=Or;return i.current.memoizedState.isDehydrated&&(Un(i,t).flags|=256),i=Ql(i,t),i!==2&&(t=le,le=e,t!==null&&Zh(t)),i}function Zh(i){le===null?le=i:le.push.apply(le,i)}function Cb(i){for(var t=i;;){if(t.flags&16384){var e=t.updateQueue;if(e!==null&&(e=e.stores,e!==null))for(var n=0;n<e.length;n++){var s=e[n],r=s.getSnapshot;s=s.value;try{if(!ti(r(),s))return!1}catch{return!1}}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===i)break;for(;t.sibling===null;){if(t.return===null||t.return===i)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function nn(i,t){for(t&=~of,t&=~Aa,i.suspendedLanes|=t,i.pingedLanes&=~t,i=i.expirationTimes;0<t;){var e=31-Ge(t),n=1<<e;i[e]=-1,t&=~n}}function fp(i){if(et&6)throw Error(C(327));Ds();var t=Ol(i,0);if(!(t&1))return de(i,Nt()),null;var e=Ql(i,t);if(i.tag!==0&&e===2){var n=Mh(i);n!==0&&(t=n,e=qh(i,n))}if(e===1)throw e=io,Un(i,0),nn(i,t),de(i,Nt()),e;if(e===6)throw Error(C(345));return i.finishedWork=i.current.alternate,i.finishedLanes=t,Bn(i,le,Ci),de(i,Nt()),null}function af(i,t){var e=et;et|=1;try{return i(t)}finally{et=e,et===0&&(Ys=Nt()+500,Da&&In())}}function Gn(i){rn!==null&&rn.tag===0&&!(et&6)&&Ds();var t=et;et|=1;var e=Ve.transition,n=ht;try{if(Ve.transition=null,ht=1,i)return i()}finally{ht=n,Ve.transition=e,et=t,!(et&6)&&In()}}function uf(){Se=Is.current,bt(Is)}function Un(i,t){i.finishedWork=null,i.finishedLanes=0;var e=i.timeoutHandle;if(e!==-1&&(i.timeoutHandle=-1,ib(e)),Ot!==null)for(e=Ot.return;e!==null;){var n=e;switch(Uc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Fl();break;case 3:Hs(),bt(ce),bt(Jt),Gc();break;case 5:Jc(n);break;case 4:Hs();break;case 13:bt(Mt);break;case 19:bt(Mt);break;case 10:Kc(n.type._context);break;case 22:case 23:uf()}e=e.return}if($t=i,Ot=i=dn(i.current,null),Wt=Se=t,At=0,io=null,of=Aa=Jn=0,le=Or=null,Dn!==null){for(t=0;t<Dn.length;t++)if(e=Dn[t],n=e.interleaved,n!==null){e.interleaved=null;var s=n.next,r=e.pending;if(r!==null){var o=r.next;r.next=s,n.next=o}e.pending=n}Dn=null}return i}function Av(i,t){do{var e=Ot;try{if(Hc(),dl.current=Hl,Wl){for(var n=Ct.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Wl=!1}if(Qn=0,Pt=Lt=Ct=null,Nr=!1,Zr=0,rf.current=null,e===null||e.return===null){At=1,io=t,Ot=null;break}t:{var r=i,o=e.return,l=e,a=t;if(t=Wt,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,h=l,c=h.tag;if(!(h.mode&1)&&(c===0||c===11||c===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var d=Zd(o);if(d!==null){d.flags&=-257,tp(d,o,l,r,t),d.mode&1&&qd(r,u,t),t=d,a=u;var y=t.updateQueue;if(y===null){var v=new Set;v.add(a),t.updateQueue=v}else y.add(a);break t}else{if(!(t&1)){qd(r,u,t),hf();break t}a=Error(C(426))}}else if(St&&l.mode&1){var x=Zd(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),tp(x,o,l,r,t),jc(Ks(a,l));break t}}r=a=Ks(a,l),At!==4&&(At=2),Or===null?Or=[r]:Or.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t;var p=_v(r,a,t);Kd(r,p);break t;case 1:l=a;var m=r.type,g=r.stateNode;if(!(r.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(cn===null||!cn.has(g)))){r.flags|=65536,t&=-t,r.lanes|=t;var b=Sv(r,l,t);Kd(r,b);break t}}r=r.return}while(r!==null)}Vv(e)}catch(E){t=E,Ot===e&&e!==null&&(Ot=e=e.return);continue}break}while(!0)}function Pv(){var i=Kl.current;return Kl.current=Hl,i===null?Hl:i}function hf(){(At===0||At===3||At===2)&&(At=4),$t===null||!(Jn&268435455)&&!(Aa&268435455)||nn($t,Wt)}function Ql(i,t){var e=et;et|=2;var n=Pv();($t!==i||Wt!==t)&&(Ci=null,Un(i,t));do try{Eb();break}catch(s){Av(i,s)}while(!0);if(Hc(),et=e,Kl.current=n,Ot!==null)throw Error(C(261));return $t=null,Wt=0,At}function Eb(){for(;Ot!==null;)$v(Ot)}function kb(){for(;Ot!==null&&!Zw();)$v(Ot)}function $v(i){var t=jv(i.alternate,i,Se);i.memoizedProps=i.pendingProps,t===null?Vv(i):Ot=t,rf.current=null}function Vv(i){var t=i;do{var e=t.alternate;if(i=t.return,t.flags&32768){if(e=_b(e,t),e!==null){e.flags&=32767,Ot=e;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{At=6,Ot=null;return}}else if(e=bb(e,t,Se),e!==null){Ot=e;return}if(t=t.sibling,t!==null){Ot=t;return}Ot=t=i}while(t!==null);At===0&&(At=5)}function Bn(i,t,e){var n=ht,s=Ve.transition;try{Ve.transition=null,ht=1,Nb(i,t,e,n)}finally{Ve.transition=s,ht=n}return null}function Nb(i,t,e,n){do Ds();while(rn!==null);if(et&6)throw Error(C(327));e=i.finishedWork;var s=i.finishedLanes;if(e===null)return null;if(i.finishedWork=null,i.finishedLanes=0,e===i.current)throw Error(C(177));i.callbackNode=null,i.callbackPriority=0;var r=e.lanes|e.childLanes;if(u1(i,r),i===$t&&(Ot=$t=null,Wt=0),!(e.subtreeFlags&2064)&&!(e.flags&2064)||Ko||(Ko=!0,Wv(Tl,function(){return Ds(),null})),r=(e.flags&15990)!==0,e.subtreeFlags&15990||r){r=Ve.transition,Ve.transition=null;var o=ht;ht=1;var l=et;et|=4,rf.current=null,xb(i,e),Lv(e,i),Q1(Th),Bl=!!Nh,Th=Nh=null,i.current=e,Mb(e),t1(),et=l,ht=o,Ve.transition=r}else i.current=e;if(Ko&&(Ko=!1,rn=i,Xl=s),r=i.pendingLanes,r===0&&(cn=null),n1(e.stateNode),de(i,Nt()),t!==null)for(n=i.onRecoverableError,e=0;e<t.length;e++)s=t[e],n(s.value,{componentStack:s.stack,digest:s.digest});if(Yl)throw Yl=!1,i=Jh,Jh=null,i;return Xl&1&&i.tag!==0&&Ds(),r=i.pendingLanes,r&1?i===Gh?Br++:(Br=0,Gh=i):Br=0,In(),null}function Ds(){if(rn!==null){var i=_y(Xl),t=Ve.transition,e=ht;try{if(Ve.transition=null,ht=16>i?16:i,rn===null)var n=!1;else{if(i=rn,rn=null,Xl=0,et&6)throw Error(C(331));var s=et;for(et|=4,z=i.current;z!==null;){var r=z,o=r.child;if(z.flags&16){var l=r.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(z=u;z!==null;){var h=z;switch(h.tag){case 0:case 11:case 15:Tr(8,h,r)}var c=h.child;if(c!==null)c.return=h,z=c;else for(;z!==null;){h=z;var f=h.sibling,d=h.return;if(Bv(h),h===u){z=null;break}if(f!==null){f.return=d,z=f;break}z=d}}}var y=r.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}z=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,z=o;else t:for(;z!==null;){if(r=z,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Tr(9,r,r.return)}var p=r.sibling;if(p!==null){p.return=r.return,z=p;break t}z=r.return}}var m=i.current;for(z=m;z!==null;){o=z;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,z=g;else t:for(o=m;z!==null;){if(l=z,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Ra(9,l)}}catch(E){kt(l,l.return,E)}if(l===o){z=null;break t}var b=l.sibling;if(b!==null){b.return=l.return,z=b;break t}z=l.return}}if(et=s,In(),bi&&typeof bi.onPostCommitFiberRoot=="function")try{bi.onPostCommitFiberRoot(Na,i)}catch{}n=!0}return n}finally{ht=e,Ve.transition=t}}return!1}function dp(i,t,e){t=Ks(e,t),t=_v(i,t,1),i=hn(i,t,1),t=ee(),i!==null&&(vo(i,1,t),de(i,t))}function kt(i,t,e){if(i.tag===3)dp(i,i,e);else for(;t!==null;){if(t.tag===3){dp(t,i,e);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(cn===null||!cn.has(n))){i=Ks(e,i),i=Sv(t,i,1),t=hn(t,i,1),i=ee(),t!==null&&(vo(t,1,i),de(t,i));break}}t=t.return}}function Tb(i,t,e){var n=i.pingCache;n!==null&&n.delete(t),t=ee(),i.pingedLanes|=i.suspendedLanes&e,$t===i&&(Wt&e)===e&&(At===4||At===3&&(Wt&130023424)===Wt&&500>Nt()-lf?Un(i,0):of|=e),de(i,t)}function Uv(i,t){t===0&&(i.mode&1?(t=Fo,Fo<<=1,!(Fo&130023424)&&(Fo=4194304)):t=1);var e=ee();i=Ui(i,t),i!==null&&(vo(i,t,e),de(i,e))}function Ob(i){var t=i.memoizedState,e=0;t!==null&&(e=t.retryLane),Uv(i,e)}function Bb(i,t){var e=0;switch(i.tag){case 13:var n=i.stateNode,s=i.memoizedState;s!==null&&(e=s.retryLane);break;case 19:n=i.stateNode;break;default:throw Error(C(314))}n!==null&&n.delete(t),Uv(i,e)}var jv;jv=function(i,t,e){if(i!==null)if(i.memoizedProps!==t.pendingProps||ce.current)he=!0;else{if(!(i.lanes&e)&&!(t.flags&128))return he=!1,wb(i,t,e);he=!!(i.flags&131072)}else he=!1,St&&t.flags&1048576&&Yy(t,Pl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ml(i,t),i=t.pendingProps;var s=Us(t,Jt.current);zs(t,e),s=Zc(null,t,n,i,s,e);var r=tf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,fe(n)?(r=!0,Rl(t)):r=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Xc(t),s.updater=Fa,t.stateNode=s,s._reactInternals=t,Ph(t,n,i,e),t=Uh(null,t,n,!0,r,e)):(t.tag=0,St&&r&&Vc(t),Gt(null,t,s,e),t=t.child),t;case 16:n=t.elementType;t:{switch(ml(i,t),i=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Db(n),i=Ke(n,i),s){case 0:t=Vh(null,t,n,i,e);break t;case 1:t=np(null,t,n,i,e);break t;case 11:t=ep(null,t,n,i,e);break t;case 14:t=ip(null,t,n,Ke(n.type,i),e);break t}throw Error(C(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ke(n,s),Vh(i,t,n,s,e);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ke(n,s),np(i,t,n,s,e);case 3:t:{if(Cv(t),i===null)throw Error(C(387));n=t.pendingProps,r=t.memoizedState,s=r.element,Zy(i,t),Ul(t,n,null,e);var o=t.memoizedState;if(n=o.element,r.isDehydrated)if(r={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){s=Ks(Error(C(423)),t),t=sp(i,t,n,e,s);break t}else if(n!==s){s=Ks(Error(C(424)),t),t=sp(i,t,n,e,s);break t}else for(Ie=un(t.stateNode.containerInfo.firstChild),Ce=t,St=!0,Qe=null,e=Gy(t,null,n,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if(js(),n===s){t=ji(i,t,e);break t}Gt(i,t,n,e)}t=t.child}return t;case 5:return tv(t),i===null&&Fh(t),n=t.type,s=t.pendingProps,r=i!==null?i.memoizedProps:null,o=s.children,Oh(n,s)?o=null:r!==null&&Oh(n,r)&&(t.flags|=32),Iv(i,t),Gt(i,t,o,e),t.child;case 6:return i===null&&Fh(t),null;case 13:return Ev(i,t,e);case 4:return Qc(t,t.stateNode.containerInfo),n=t.pendingProps,i===null?t.child=Ws(t,null,n,e):Gt(i,t,n,e),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ke(n,s),ep(i,t,n,s,e);case 7:return Gt(i,t,t.pendingProps,e),t.child;case 8:return Gt(i,t,t.pendingProps.children,e),t.child;case 12:return Gt(i,t,t.pendingProps.children,e),t.child;case 10:t:{if(n=t.type._context,s=t.pendingProps,r=t.memoizedProps,o=s.value,yt($l,n._currentValue),n._currentValue=o,r!==null)if(ti(r.value,o)){if(r.children===s.children&&!ce.current){t=ji(i,t,e);break t}}else for(r=t.child,r!==null&&(r.return=t);r!==null;){var l=r.dependencies;if(l!==null){o=r.child;for(var a=l.firstContext;a!==null;){if(a.context===n){if(r.tag===1){a=Ri(-1,e&-e),a.tag=2;var u=r.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?a.next=a:(a.next=h.next,h.next=a),u.pending=a}}r.lanes|=e,a=r.alternate,a!==null&&(a.lanes|=e),Rh(r.return,e,t),l.lanes|=e;break}a=a.next}}else if(r.tag===10)o=r.type===t.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(C(341));o.lanes|=e,l=o.alternate,l!==null&&(l.lanes|=e),Rh(o,e,t),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===t){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}Gt(i,t,s.children,e),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,zs(t,e),s=Ue(s),n=n(s),t.flags|=1,Gt(i,t,n,e),t.child;case 14:return n=t.type,s=Ke(n,t.pendingProps),s=Ke(n.type,s),ip(i,t,n,s,e);case 15:return xv(i,t,t.type,t.pendingProps,e);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ke(n,s),ml(i,t),t.tag=1,fe(n)?(i=!0,Rl(t)):i=!1,zs(t,e),bv(t,n,s),Ph(t,n,s,e),Uh(null,t,n,!0,i,e);case 19:return kv(i,t,e);case 22:return Mv(i,t,e)}throw Error(C(156,t.tag))};function Wv(i,t){return vy(i,t)}function zb(i,t,e,n){this.tag=i,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $e(i,t,e,n){return new zb(i,t,e,n)}function cf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Db(i){if(typeof i=="function")return cf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Nc)return 11;if(i===Tc)return 14}return 2}function dn(i,t){var e=i.alternate;return e===null?(e=$e(i.tag,t,i.key,i.mode),e.elementType=i.elementType,e.type=i.type,e.stateNode=i.stateNode,e.alternate=i,i.alternate=e):(e.pendingProps=t,e.type=i.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=i.flags&14680064,e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=i.sibling,e.index=i.index,e.ref=i.ref,e}function gl(i,t,e,n,s,r){var o=2;if(n=i,typeof i=="function")cf(i)&&(o=1);else if(typeof i=="string")o=5;else t:switch(i){case ms:return jn(e.children,s,r,t);case kc:o=8,s|=8;break;case uh:return i=$e(12,e,t,s|2),i.elementType=uh,i.lanes=r,i;case hh:return i=$e(13,e,t,s),i.elementType=hh,i.lanes=r,i;case ch:return i=$e(19,e,t,s),i.elementType=ch,i.lanes=r,i;case ty:return Pa(e,s,r,t);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case qm:o=10;break t;case Zm:o=9;break t;case Nc:o=11;break t;case Tc:o=14;break t;case Gi:o=16,n=null;break t}throw Error(C(130,i==null?i:typeof i,""))}return t=$e(o,e,t,s),t.elementType=i,t.type=n,t.lanes=r,t}function jn(i,t,e,n){return i=$e(7,i,n,t),i.lanes=e,i}function Pa(i,t,e,n){return i=$e(22,i,n,t),i.elementType=ty,i.lanes=e,i.stateNode={isHidden:!1},i}function Du(i,t,e){return i=$e(6,i,null,t),i.lanes=e,i}function Lu(i,t,e){return t=$e(4,i.children!==null?i.children:[],i.key,t),t.lanes=e,t.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},t}function Lb(i,t,e,n,s){this.tag=t,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mu(0),this.expirationTimes=mu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mu(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ff(i,t,e,n,s,r,o,l,a){return i=new Lb(i,t,e,l,a),t===1?(t=1,r===!0&&(t|=8)):t=0,r=$e(3,null,null,t),i.current=r,r.stateNode=i,r.memoizedState={element:n,isDehydrated:e,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xc(r),i}function Fb(i,t,e){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ps,key:n==null?null:""+n,children:i,containerInfo:t,implementation:e}}function Hv(i){if(!i)return mn;i=i._reactInternals;t:{if(ss(i)!==i||i.tag!==1)throw Error(C(170));var t=i;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(fe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(C(171))}if(i.tag===1){var e=i.type;if(fe(e))return Hy(i,e,t)}return t}function Kv(i,t,e,n,s,r,o,l,a){return i=ff(e,n,!0,i,s,r,o,l,a),i.context=Hv(null),e=i.current,n=ee(),s=fn(e),r=Ri(n,s),r.callback=t??null,hn(e,r,s),i.current.lanes=s,vo(i,s,n),de(i,n),i}function $a(i,t,e,n){var s=t.current,r=ee(),o=fn(s);return e=Hv(e),t.context===null?t.context=e:t.pendingContext=e,t=Ri(r,o),t.payload={element:i},n=n===void 0?null:n,n!==null&&(t.callback=n),i=hn(s,t,o),i!==null&&(qe(i,s,o,r),fl(i,s,o)),o}function Jl(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function pp(i,t){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var e=i.retryLane;i.retryLane=e!==0&&e<t?e:t}}function df(i,t){pp(i,t),(i=i.alternate)&&pp(i,t)}function Rb(){return null}var Yv=typeof reportError=="function"?reportError:function(i){console.error(i)};function pf(i){this._internalRoot=i}Va.prototype.render=pf.prototype.render=function(i){var t=this._internalRoot;if(t===null)throw Error(C(409));$a(i,t,null,null)};Va.prototype.unmount=pf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var t=i.containerInfo;Gn(function(){$a(null,i,null,null)}),t[Vi]=null}};function Va(i){this._internalRoot=i}Va.prototype.unstable_scheduleHydration=function(i){if(i){var t=My();i={blockedOn:null,target:i,priority:t};for(var e=0;e<en.length&&t!==0&&t<en[e].priority;e++);en.splice(e,0,i),e===0&&Cy(i)}};function mf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Ua(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function mp(){}function Ab(i,t,e,n,s){if(s){if(typeof n=="function"){var r=n;n=function(){var u=Jl(o);r.call(u)}}var o=Kv(t,n,i,0,null,!1,!1,"",mp);return i._reactRootContainer=o,i[Vi]=o.current,Xr(i.nodeType===8?i.parentNode:i),Gn(),o}for(;s=i.lastChild;)i.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Jl(a);l.call(u)}}var a=ff(i,0,!1,null,null,!1,!1,"",mp);return i._reactRootContainer=a,i[Vi]=a.current,Xr(i.nodeType===8?i.parentNode:i),Gn(function(){$a(t,a,e,n)}),a}function ja(i,t,e,n,s){var r=e._reactRootContainer;if(r){var o=r;if(typeof s=="function"){var l=s;s=function(){var a=Jl(o);l.call(a)}}$a(t,o,i,s)}else o=Ab(e,t,i,s,n);return Jl(o)}Sy=function(i){switch(i.tag){case 3:var t=i.stateNode;if(t.current.memoizedState.isDehydrated){var e=br(t.pendingLanes);e!==0&&(zc(t,e|1),de(t,Nt()),!(et&6)&&(Ys=Nt()+500,In()))}break;case 13:Gn(function(){var n=Ui(i,1);if(n!==null){var s=ee();qe(n,i,1,s)}}),df(i,1)}};Dc=function(i){if(i.tag===13){var t=Ui(i,134217728);if(t!==null){var e=ee();qe(t,i,134217728,e)}df(i,134217728)}};xy=function(i){if(i.tag===13){var t=fn(i),e=Ui(i,t);if(e!==null){var n=ee();qe(e,i,t,n)}df(i,t)}};My=function(){return ht};Iy=function(i,t){var e=ht;try{return ht=i,t()}finally{ht=e}};_h=function(i,t,e){switch(t){case"input":if(ph(i,e),t=e.name,e.type==="radio"&&t!=null){for(e=i;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<e.length;t++){var n=e[t];if(n!==i&&n.form===i.form){var s=za(n);if(!s)throw Error(C(90));iy(n),ph(n,s)}}}break;case"textarea":sy(i,e);break;case"select":t=e.value,t!=null&&Ns(i,!!e.multiple,t,!1)}};cy=af;fy=Gn;var Pb={usingClientEntryPoint:!1,Events:[wo,ws,za,uy,hy,af]},mr={findFiberByHostInstance:zn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$b={bundleType:mr.bundleType,version:mr.version,rendererPackageName:mr.rendererPackageName,rendererConfig:mr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hi.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=my(i),i===null?null:i.stateNode},findFiberByHostInstance:mr.findFiberByHostInstance||Rb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yo.isDisabled&&Yo.supportsFiber)try{Na=Yo.inject($b),bi=Yo}catch{}}Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pb;Te.createPortal=function(i,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mf(t))throw Error(C(200));return Fb(i,t,null,e)};Te.createRoot=function(i,t){if(!mf(i))throw Error(C(299));var e=!1,n="",s=Yv;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ff(i,1,!1,null,null,e,!1,n,s),i[Vi]=t.current,Xr(i.nodeType===8?i.parentNode:i),new pf(t)};Te.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var t=i._reactInternals;if(t===void 0)throw typeof i.render=="function"?Error(C(188)):(i=Object.keys(i).join(","),Error(C(268,i)));return i=my(t),i=i===null?null:i.stateNode,i};Te.flushSync=function(i){return Gn(i)};Te.hydrate=function(i,t,e){if(!Ua(t))throw Error(C(200));return ja(null,i,t,!0,e)};Te.hydrateRoot=function(i,t,e){if(!mf(i))throw Error(C(405));var n=e!=null&&e.hydratedSources||null,s=!1,r="",o=Yv;if(e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),t=Kv(t,null,i,1,e??null,s,!1,r,o),i[Vi]=t.current,Xr(i),n)for(i=0;i<n.length;i++)e=n[i],s=e._getVersion,s=s(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,s]:t.mutableSourceEagerHydrationData.push(e,s);return new Va(t)};Te.render=function(i,t,e){if(!Ua(t))throw Error(C(200));return ja(null,i,t,!1,e)};Te.unmountComponentAtNode=function(i){if(!Ua(i))throw Error(C(40));return i._reactRootContainer?(Gn(function(){ja(null,null,i,!1,function(){i._reactRootContainer=null,i[Vi]=null})}),!0):!1};Te.unstable_batchedUpdates=af;Te.unstable_renderSubtreeIntoContainer=function(i,t,e,n){if(!Ua(e))throw Error(C(200));if(i==null||i._reactInternals===void 0)throw Error(C(38));return ja(i,t,e,!1,n)};Te.version="18.3.1-next-f1338f8080-20240426";function Xv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xv)}catch(i){console.error(i)}}Xv(),Xm.exports=Te;var Vb=Xm.exports;const Ub=bc(Vb);var Qv={exports:{}},ct={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vt=typeof Symbol=="function"&&Symbol.for,yf=Vt?Symbol.for("react.element"):60103,vf=Vt?Symbol.for("react.portal"):60106,Wa=Vt?Symbol.for("react.fragment"):60107,Ha=Vt?Symbol.for("react.strict_mode"):60108,Ka=Vt?Symbol.for("react.profiler"):60114,Ya=Vt?Symbol.for("react.provider"):60109,Xa=Vt?Symbol.for("react.context"):60110,gf=Vt?Symbol.for("react.async_mode"):60111,Qa=Vt?Symbol.for("react.concurrent_mode"):60111,Ja=Vt?Symbol.for("react.forward_ref"):60112,Ga=Vt?Symbol.for("react.suspense"):60113,jb=Vt?Symbol.for("react.suspense_list"):60120,qa=Vt?Symbol.for("react.memo"):60115,Za=Vt?Symbol.for("react.lazy"):60116,Wb=Vt?Symbol.for("react.block"):60121,Hb=Vt?Symbol.for("react.fundamental"):60117,Kb=Vt?Symbol.for("react.responder"):60118,Yb=Vt?Symbol.for("react.scope"):60119;function Be(i){if(typeof i=="object"&&i!==null){var t=i.$$typeof;switch(t){case yf:switch(i=i.type,i){case gf:case Qa:case Wa:case Ka:case Ha:case Ga:return i;default:switch(i=i&&i.$$typeof,i){case Xa:case Ja:case Za:case qa:case Ya:return i;default:return t}}case vf:return t}}}function Jv(i){return Be(i)===Qa}ct.AsyncMode=gf;ct.ConcurrentMode=Qa;ct.ContextConsumer=Xa;ct.ContextProvider=Ya;ct.Element=yf;ct.ForwardRef=Ja;ct.Fragment=Wa;ct.Lazy=Za;ct.Memo=qa;ct.Portal=vf;ct.Profiler=Ka;ct.StrictMode=Ha;ct.Suspense=Ga;ct.isAsyncMode=function(i){return Jv(i)||Be(i)===gf};ct.isConcurrentMode=Jv;ct.isContextConsumer=function(i){return Be(i)===Xa};ct.isContextProvider=function(i){return Be(i)===Ya};ct.isElement=function(i){return typeof i=="object"&&i!==null&&i.$$typeof===yf};ct.isForwardRef=function(i){return Be(i)===Ja};ct.isFragment=function(i){return Be(i)===Wa};ct.isLazy=function(i){return Be(i)===Za};ct.isMemo=function(i){return Be(i)===qa};ct.isPortal=function(i){return Be(i)===vf};ct.isProfiler=function(i){return Be(i)===Ka};ct.isStrictMode=function(i){return Be(i)===Ha};ct.isSuspense=function(i){return Be(i)===Ga};ct.isValidElementType=function(i){return typeof i=="string"||typeof i=="function"||i===Wa||i===Qa||i===Ka||i===Ha||i===Ga||i===jb||typeof i=="object"&&i!==null&&(i.$$typeof===Za||i.$$typeof===qa||i.$$typeof===Ya||i.$$typeof===Xa||i.$$typeof===Ja||i.$$typeof===Hb||i.$$typeof===Kb||i.$$typeof===Yb||i.$$typeof===Wb)};ct.typeOf=Be;Qv.exports=ct;var Xb=Qv.exports,wf=Xb,Qb={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},Jb={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},Gb={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Gv={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},bf={};bf[wf.ForwardRef]=Gb;bf[wf.Memo]=Gv;function yp(i){return wf.isMemo(i)?Gv:bf[i.$$typeof]||Qb}var qb=Object.defineProperty,Zb=Object.getOwnPropertyNames,vp=Object.getOwnPropertySymbols,t_=Object.getOwnPropertyDescriptor,e_=Object.getPrototypeOf,gp=Object.prototype;function qv(i,t,e){if(typeof t!="string"){if(gp){var n=e_(t);n&&n!==gp&&qv(i,n,e)}var s=Zb(t);vp&&(s=s.concat(vp(t)));for(var r=yp(i),o=yp(t),l=0;l<s.length;++l){var a=s[l];if(!Jb[a]&&!(e&&e[a])&&!(o&&o[a])&&!(r&&r[a])){var u=t_(t,a);try{qb(i,a,u)}catch{}}}}return i}var i_=qv;const n_=bc(i_);function R(i,t,e,n){function s(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function l(h){try{u(n.next(h))}catch(c){o(c)}}function a(h){try{u(n.throw(h))}catch(c){o(c)}}function u(h){h.done?r(h.value):s(h.value).then(l,a)}u((n=n.apply(i,t||[])).next())})}function wp(i){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&i[t],n=0;if(e)return e.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function X(i){return this instanceof X?(this.v=i,this):new X(i)}function vi(i,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e.apply(i,t||[]),s,r=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(d){return function(y){return Promise.resolve(y).then(d,c)}}function l(d,y){n[d]&&(s[d]=function(v){return new Promise(function(x,p){r.push([d,v,x,p])>1||a(d,v)})},y&&(s[d]=y(s[d])))}function a(d,y){try{u(n[d](y))}catch(v){f(r[0][3],v)}}function u(d){d.value instanceof X?Promise.resolve(d.value.v).then(h,c):f(r[0][2],d)}function h(d){a("next",d)}function c(d){a("throw",d)}function f(d,y){d(y),r.shift(),r.length&&a(r[0][0],r[0][1])}}function wl(i){var t,e;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,r){t[s]=i[s]?function(o){return(e=!e)?{value:X(i[s](o)),done:!1}:r?r(o):o}:r}}function Wn(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],e;return t?t.call(i):(i=typeof wp=="function"?wp(i):i[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=i[r]&&function(o){return new Promise(function(l,a){o=i[r](o),s(l,a,o.done,o.value)})}}function s(r,o,l,a){Promise.resolve(a).then(function(u){r({value:u,done:l})},o)}}const s_=new TextDecoder("utf-8"),tc=i=>s_.decode(i),r_=new TextEncoder,_f=i=>r_.encode(i),[BI,o_]=(()=>{const i=()=>{throw new Error("BigInt is not available in this environment")};function t(){throw i()}return t.asIntN=()=>{throw i()},t.asUintN=()=>{throw i()},typeof BigInt<"u"?[BigInt,!0]:[t,!1]})(),[_o,zI]=(()=>{const i=()=>{throw new Error("BigInt64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw i()}static from(){throw i()}constructor(){throw i()}}return typeof BigInt64Array<"u"?[BigInt64Array,!0]:[t,!1]})(),[So,DI]=(()=>{const i=()=>{throw new Error("BigUint64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw i()}static from(){throw i()}constructor(){throw i()}}return typeof BigUint64Array<"u"?[BigUint64Array,!0]:[t,!1]})(),l_=i=>typeof i=="number",Zv=i=>typeof i=="boolean",Ft=i=>typeof i=="function",ye=i=>i!=null&&Object(i)===i,yn=i=>ye(i)&&Ft(i.then),xo=i=>ye(i)&&Ft(i[Symbol.iterator]),or=i=>ye(i)&&Ft(i[Symbol.asyncIterator]),ec=i=>ye(i)&&ye(i.schema),t0=i=>ye(i)&&"done"in i&&"value"in i,e0=i=>ye(i)&&Ft(i.stat)&&l_(i.fd),i0=i=>ye(i)&&Sf(i.body),tu=i=>"_getDOMStream"in i&&"_getNodeStream"in i,a_=i=>ye(i)&&Ft(i.abort)&&Ft(i.getWriter)&&!tu(i),Sf=i=>ye(i)&&Ft(i.cancel)&&Ft(i.getReader)&&!tu(i),u_=i=>ye(i)&&Ft(i.end)&&Ft(i.write)&&Zv(i.writable)&&!tu(i),n0=i=>ye(i)&&Ft(i.read)&&Ft(i.pipe)&&Zv(i.readable)&&!tu(i),h_=i=>ye(i)&&Ft(i.clear)&&Ft(i.bytes)&&Ft(i.position)&&Ft(i.setPosition)&&Ft(i.capacity)&&Ft(i.getBufferIdentifier)&&Ft(i.createLong),xf=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function c_(i){const t=i[0]?[i[0]]:[];let e,n,s,r;for(let o,l,a=0,u=0,h=i.length;++a<h;){if(o=t[u],l=i[a],!o||!l||o.buffer!==l.buffer||l.byteOffset<o.byteOffset){l&&(t[++u]=l);continue}if({byteOffset:e,byteLength:s}=o,{byteOffset:n,byteLength:r}=l,e+s<n||n+r<e){l&&(t[++u]=l);continue}t[u]=new Uint8Array(o.buffer,e,n-e+r)}return t}function bp(i,t,e=0,n=t.byteLength){const s=i.byteLength,r=new Uint8Array(i.buffer,i.byteOffset,s),o=new Uint8Array(t.buffer,t.byteOffset,Math.min(n,s));return r.set(o,e),i}function Si(i,t){const e=c_(i),n=e.reduce((h,c)=>h+c.byteLength,0);let s,r,o,l=0,a=-1;const u=Math.min(t||Number.POSITIVE_INFINITY,n);for(const h=e.length;++a<h;){if(s=e[a],r=s.subarray(0,Math.min(s.length,u-l)),u<=l+r.length){r.length<s.length?e[a]=s.subarray(r.length):r.length===s.length&&a++,o?bp(o,r,l):o=r;break}bp(o||(o=new Uint8Array(u)),r,l),l+=r.length}return[o||new Uint8Array(0),e.slice(a),n-(o?o.byteLength:0)]}function dt(i,t){let e=t0(t)?t.value:t;return e instanceof i?i===Uint8Array?new i(e.buffer,e.byteOffset,e.byteLength):e:e?(typeof e=="string"&&(e=_f(e)),e instanceof ArrayBuffer?new i(e):e instanceof xf?new i(e):h_(e)?dt(i,e.bytes()):ArrayBuffer.isView(e)?e.byteLength<=0?new i(0):new i(e.buffer,e.byteOffset,e.byteLength/i.BYTES_PER_ELEMENT):i.from(e)):new i(0)}const yr=i=>dt(Int32Array,i),nt=i=>dt(Uint8Array,i),ic=i=>(i.next(),i);function*f_(i,t){const e=function*(s){yield s},n=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof xf?e(t):xo(t)?t:e(t);return yield*ic(function*(s){let r=null;do r=s.next(yield dt(i,r));while(!r.done)}(n[Symbol.iterator]())),new i}const d_=i=>f_(Uint8Array,i);function s0(i,t){return vi(this,arguments,function*(){if(yn(t))return yield X(yield X(yield*wl(Wn(s0(i,yield X(t))))));const n=function(o){return vi(this,arguments,function*(){yield yield X(yield X(o))})},s=function(o){return vi(this,arguments,function*(){yield X(yield*wl(Wn(ic(function*(l){let a=null;do a=l.next(yield a==null?void 0:a.value);while(!a.done)}(o[Symbol.iterator]())))))})},r=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof xf?n(t):xo(t)?s(t):or(t)?t:n(t);return yield X(yield*wl(Wn(ic(function(o){return vi(this,arguments,function*(){let l=null;do l=yield X(o.next(yield yield X(dt(i,l))));while(!l.done)})}(r[Symbol.asyncIterator]()))))),yield X(new i)})}const p_=i=>s0(Uint8Array,i);function Mf(i,t,e){if(i!==0){e=e.slice(0,t+1);for(let n=-1;++n<=t;)e[n]+=i}return e}function m_(i,t){let e=0;const n=i.length;if(n!==t.length)return!1;if(n>0)do if(i[e]!==t[e])return!1;while(++e<n);return!0}const Le={fromIterable(i){return Xo(y_(i))},fromAsyncIterable(i){return Xo(v_(i))},fromDOMStream(i){return Xo(g_(i))},fromNodeStream(i){return Xo(b_(i))},toDOMStream(i,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(i,t){throw new Error('"toNodeStream" not available in this environment')}},Xo=i=>(i.next(),i);function*y_(i){let t,e=!1,n=[],s,r,o,l=0;function a(){return r==="peek"?Si(n,o)[0]:([s,n,l]=Si(n,o),s)}({cmd:r,size:o}=yield null);const u=d_(i)[Symbol.iterator]();try{do if({done:t,value:s}=Number.isNaN(o-l)?u.next():u.next(o-l),!t&&s.byteLength>0&&(n.push(s),l+=s.byteLength),t||o<=l)do({cmd:r,size:o}=yield a());while(o<l);while(!t)}catch(h){(e=!0)&&typeof u.throw=="function"&&u.throw(h)}finally{e===!1&&typeof u.return=="function"&&u.return(null)}return null}function v_(i){return vi(this,arguments,function*(){let e,n=!1,s=[],r,o,l,a=0;function u(){return o==="peek"?Si(s,l)[0]:([r,s,a]=Si(s,l),r)}({cmd:o,size:l}=yield yield X(null));const h=p_(i)[Symbol.asyncIterator]();try{do if({done:e,value:r}=Number.isNaN(l-a)?yield X(h.next()):yield X(h.next(l-a)),!e&&r.byteLength>0&&(s.push(r),a+=r.byteLength),e||l<=a)do({cmd:o,size:l}=yield yield X(u()));while(l<a);while(!e)}catch(c){(n=!0)&&typeof h.throw=="function"&&(yield X(h.throw(c)))}finally{n===!1&&typeof h.return=="function"&&(yield X(h.return(new Uint8Array(0))))}return yield X(null)})}function g_(i){return vi(this,arguments,function*(){let e=!1,n=!1,s=[],r,o,l,a=0;function u(){return o==="peek"?Si(s,l)[0]:([r,s,a]=Si(s,l),r)}({cmd:o,size:l}=yield yield X(null));const h=new w_(i);try{do if({done:e,value:r}=Number.isNaN(l-a)?yield X(h.read()):yield X(h.read(l-a)),!e&&r.byteLength>0&&(s.push(nt(r)),a+=r.byteLength),e||l<=a)do({cmd:o,size:l}=yield yield X(u()));while(l<a);while(!e)}catch(c){(n=!0)&&(yield X(h.cancel(c)))}finally{n===!1?yield X(h.cancel()):i.locked&&h.releaseLock()}return yield X(null)})}class w_{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return R(this,void 0,void 0,function*(){const{reader:e,source:n}=this;e&&(yield e.cancel(t).catch(()=>{})),n&&n.locked&&this.releaseLock()})}read(t){return R(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const e=yield this.reader.read();return!e.done&&(e.value=nt(e)),e})}}const Fu=(i,t)=>{const e=s=>n([t,s]);let n;return[t,e,new Promise(s=>(n=s)&&i.once(t,e))]};function b_(i){return vi(this,arguments,function*(){const e=[];let n="error",s=!1,r=null,o,l,a=0,u=[],h;function c(){return o==="peek"?Si(u,l)[0]:([h,u,a]=Si(u,l),h)}if({cmd:o,size:l}=yield yield X(null),i.isTTY)return yield yield X(new Uint8Array(0)),yield X(null);try{e[0]=Fu(i,"end"),e[1]=Fu(i,"error");do{if(e[2]=Fu(i,"readable"),[n,r]=yield X(Promise.race(e.map(d=>d[2]))),n==="error")break;if((s=n==="end")||(Number.isFinite(l-a)?(h=nt(i.read(l-a)),h.byteLength<l-a&&(h=nt(i.read()))):h=nt(i.read()),h.byteLength>0&&(u.push(h),a+=h.byteLength)),s||l<=a)do({cmd:o,size:l}=yield yield X(c()));while(l<a)}while(!s)}finally{yield X(f(e,n==="error"?r:null))}return yield X(null);function f(d,y){return h=u=null,new Promise((v,x)=>{for(const[p,m]of d)i.off(p,m);try{const p=i.destroy;p&&p.call(i,y),y=void 0}catch(p){y=p||y}finally{y!=null?x(y):v()}})}})}var Me;(function(i){i[i.V1=0]="V1",i[i.V2=1]="V2",i[i.V3=2]="V3",i[i.V4=3]="V4",i[i.V5=4]="V5"})(Me||(Me={}));var ke;(function(i){i[i.Sparse=0]="Sparse",i[i.Dense=1]="Dense"})(ke||(ke={}));var pe;(function(i){i[i.HALF=0]="HALF",i[i.SINGLE=1]="SINGLE",i[i.DOUBLE=2]="DOUBLE"})(pe||(pe={}));var Wi;(function(i){i[i.DAY=0]="DAY",i[i.MILLISECOND=1]="MILLISECOND"})(Wi||(Wi={}));var st;(function(i){i[i.SECOND=0]="SECOND",i[i.MILLISECOND=1]="MILLISECOND",i[i.MICROSECOND=2]="MICROSECOND",i[i.NANOSECOND=3]="NANOSECOND"})(st||(st={}));var vn;(function(i){i[i.YEAR_MONTH=0]="YEAR_MONTH",i[i.DAY_TIME=1]="DAY_TIME",i[i.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(vn||(vn={}));var ot;(function(i){i[i.NONE=0]="NONE",i[i.Schema=1]="Schema",i[i.DictionaryBatch=2]="DictionaryBatch",i[i.RecordBatch=3]="RecordBatch",i[i.Tensor=4]="Tensor",i[i.SparseTensor=5]="SparseTensor"})(ot||(ot={}));var w;(function(i){i[i.NONE=0]="NONE",i[i.Null=1]="Null",i[i.Int=2]="Int",i[i.Float=3]="Float",i[i.Binary=4]="Binary",i[i.Utf8=5]="Utf8",i[i.Bool=6]="Bool",i[i.Decimal=7]="Decimal",i[i.Date=8]="Date",i[i.Time=9]="Time",i[i.Timestamp=10]="Timestamp",i[i.Interval=11]="Interval",i[i.List=12]="List",i[i.Struct=13]="Struct",i[i.Union=14]="Union",i[i.FixedSizeBinary=15]="FixedSizeBinary",i[i.FixedSizeList=16]="FixedSizeList",i[i.Map=17]="Map",i[i.Dictionary=-1]="Dictionary",i[i.Int8=-2]="Int8",i[i.Int16=-3]="Int16",i[i.Int32=-4]="Int32",i[i.Int64=-5]="Int64",i[i.Uint8=-6]="Uint8",i[i.Uint16=-7]="Uint16",i[i.Uint32=-8]="Uint32",i[i.Uint64=-9]="Uint64",i[i.Float16=-10]="Float16",i[i.Float32=-11]="Float32",i[i.Float64=-12]="Float64",i[i.DateDay=-13]="DateDay",i[i.DateMillisecond=-14]="DateMillisecond",i[i.TimestampSecond=-15]="TimestampSecond",i[i.TimestampMillisecond=-16]="TimestampMillisecond",i[i.TimestampMicrosecond=-17]="TimestampMicrosecond",i[i.TimestampNanosecond=-18]="TimestampNanosecond",i[i.TimeSecond=-19]="TimeSecond",i[i.TimeMillisecond=-20]="TimeMillisecond",i[i.TimeMicrosecond=-21]="TimeMicrosecond",i[i.TimeNanosecond=-22]="TimeNanosecond",i[i.DenseUnion=-23]="DenseUnion",i[i.SparseUnion=-24]="SparseUnion",i[i.IntervalDayTime=-25]="IntervalDayTime",i[i.IntervalYearMonth=-26]="IntervalYearMonth"})(w||(w={}));var Ei;(function(i){i[i.OFFSET=0]="OFFSET",i[i.DATA=1]="DATA",i[i.VALIDITY=2]="VALIDITY",i[i.TYPE=3]="TYPE"})(Ei||(Ei={}));const __=void 0;function no(i){if(i===null)return"null";if(i===__)return"undefined";switch(typeof i){case"number":return`${i}`;case"bigint":return`${i}`;case"string":return`"${i}"`}return typeof i[Symbol.toPrimitive]=="function"?i[Symbol.toPrimitive]("string"):ArrayBuffer.isView(i)?i instanceof _o||i instanceof So?`[${[...i].map(t=>no(t))}]`:`[${i}]`:ArrayBuffer.isView(i)?`[${i}]`:JSON.stringify(i,(t,e)=>typeof e=="bigint"?`${e}`:e)}const S_=Symbol.for("isArrowBigNum");function ii(i,...t){return t.length===0?Object.setPrototypeOf(dt(this.TypedArray,i),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(i,...t),this.constructor.prototype)}ii.prototype[S_]=!0;ii.prototype.toJSON=function(){return`"${Hn(this)}"`};ii.prototype.valueOf=function(){return r0(this)};ii.prototype.toString=function(){return Hn(this)};ii.prototype[Symbol.toPrimitive]=function(i="default"){switch(i){case"number":return r0(this);case"string":return Hn(this);case"default":return nc(this)}return Hn(this)};function Ls(...i){return ii.apply(this,i)}function Fs(...i){return ii.apply(this,i)}function so(...i){return ii.apply(this,i)}Object.setPrototypeOf(Ls.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(Fs.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(so.prototype,Object.create(Uint32Array.prototype));Object.assign(Ls.prototype,ii.prototype,{constructor:Ls,signed:!0,TypedArray:Int32Array,BigIntArray:_o});Object.assign(Fs.prototype,ii.prototype,{constructor:Fs,signed:!1,TypedArray:Uint32Array,BigIntArray:So});Object.assign(so.prototype,ii.prototype,{constructor:so,signed:!0,TypedArray:Uint32Array,BigIntArray:So});function r0(i){const{buffer:t,byteOffset:e,length:n,signed:s}=i,r=new So(t,e,n),o=s&&r[r.length-1]&BigInt(1)<<BigInt(63);let l=BigInt(o?1:0),a=BigInt(0);if(o){for(const u of r)l+=~u*(BigInt(1)<<BigInt(32)*a++);l*=BigInt(-1)}else for(const u of r)l+=u*(BigInt(1)<<BigInt(32)*a++);return l}let Hn,nc;o_?(nc=i=>i.byteLength===8?new i.BigIntArray(i.buffer,i.byteOffset,1)[0]:Ru(i),Hn=i=>i.byteLength===8?`${new i.BigIntArray(i.buffer,i.byteOffset,1)[0]}`:Ru(i)):(Hn=Ru,nc=Hn);function Ru(i){let t="";const e=new Uint32Array(2);let n=new Uint16Array(i.buffer,i.byteOffset,i.byteLength/2);const s=new Uint32Array((n=new Uint16Array(n).reverse()).buffer);let r=-1;const o=n.length-1;do{for(e[0]=n[r=0];r<o;)n[r++]=e[1]=e[0]/10,e[0]=(e[0]-e[1]*10<<16)+n[r];n[r]=e[1]=e[0]/10,e[0]=e[0]-e[1]*10,t=`${e[0]}${t}`}while(s[0]||s[1]||s[2]||s[3]);return t??"0"}class If{static new(t,e){switch(e){case!0:return new Ls(t);case!1:return new Fs(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case _o:return new Ls(t)}return t.byteLength===16?new so(t):new Fs(t)}static signed(t){return new Ls(t)}static unsigned(t){return new Fs(t)}static decimal(t){return new so(t)}constructor(t,e){return If.new(t,e)}}var o0,l0,a0,u0,h0,c0,f0,d0,p0,m0,y0,v0,g0,w0,b0,_0,S0,x0,M0;class P{static isNull(t){return(t==null?void 0:t.typeId)===w.Null}static isInt(t){return(t==null?void 0:t.typeId)===w.Int}static isFloat(t){return(t==null?void 0:t.typeId)===w.Float}static isBinary(t){return(t==null?void 0:t.typeId)===w.Binary}static isUtf8(t){return(t==null?void 0:t.typeId)===w.Utf8}static isBool(t){return(t==null?void 0:t.typeId)===w.Bool}static isDecimal(t){return(t==null?void 0:t.typeId)===w.Decimal}static isDate(t){return(t==null?void 0:t.typeId)===w.Date}static isTime(t){return(t==null?void 0:t.typeId)===w.Time}static isTimestamp(t){return(t==null?void 0:t.typeId)===w.Timestamp}static isInterval(t){return(t==null?void 0:t.typeId)===w.Interval}static isList(t){return(t==null?void 0:t.typeId)===w.List}static isStruct(t){return(t==null?void 0:t.typeId)===w.Struct}static isUnion(t){return(t==null?void 0:t.typeId)===w.Union}static isFixedSizeBinary(t){return(t==null?void 0:t.typeId)===w.FixedSizeBinary}static isFixedSizeList(t){return(t==null?void 0:t.typeId)===w.FixedSizeList}static isMap(t){return(t==null?void 0:t.typeId)===w.Map}static isDictionary(t){return(t==null?void 0:t.typeId)===w.Dictionary}static isDenseUnion(t){return P.isUnion(t)&&t.mode===ke.Dense}static isSparseUnion(t){return P.isUnion(t)&&t.mode===ke.Sparse}get typeId(){return w.NONE}}o0=Symbol.toStringTag;P[o0]=(i=>(i.children=null,i.ArrayType=Array,i[Symbol.toStringTag]="DataType"))(P.prototype);let gn=class extends P{toString(){return"Null"}get typeId(){return w.Null}};l0=Symbol.toStringTag;gn[l0]=(i=>i[Symbol.toStringTag]="Null")(gn.prototype);class wn extends P{constructor(t,e){super(),this.isSigned=t,this.bitWidth=e}get typeId(){return w.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?_o:So}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}a0=Symbol.toStringTag;wn[a0]=(i=>(i.isSigned=null,i.bitWidth=null,i[Symbol.toStringTag]="Int"))(wn.prototype);class ro extends wn{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(ro.prototype,"ArrayType",{value:Int32Array});class oo extends P{constructor(t){super(),this.precision=t}get typeId(){return w.Float}get ArrayType(){switch(this.precision){case pe.HALF:return Uint16Array;case pe.SINGLE:return Float32Array;case pe.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}u0=Symbol.toStringTag;oo[u0]=(i=>(i.precision=null,i[Symbol.toStringTag]="Float"))(oo.prototype);let Gl=class extends P{constructor(){super()}get typeId(){return w.Binary}toString(){return"Binary"}};h0=Symbol.toStringTag;Gl[h0]=(i=>(i.ArrayType=Uint8Array,i[Symbol.toStringTag]="Binary"))(Gl.prototype);let ql=class extends P{constructor(){super()}get typeId(){return w.Utf8}toString(){return"Utf8"}};c0=Symbol.toStringTag;ql[c0]=(i=>(i.ArrayType=Uint8Array,i[Symbol.toStringTag]="Utf8"))(ql.prototype);let Zl=class extends P{constructor(){super()}get typeId(){return w.Bool}toString(){return"Bool"}};f0=Symbol.toStringTag;Zl[f0]=(i=>(i.ArrayType=Uint8Array,i[Symbol.toStringTag]="Bool"))(Zl.prototype);let ta=class extends P{constructor(t,e,n=128){super(),this.scale=t,this.precision=e,this.bitWidth=n}get typeId(){return w.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};d0=Symbol.toStringTag;ta[d0]=(i=>(i.scale=null,i.precision=null,i.ArrayType=Uint32Array,i[Symbol.toStringTag]="Decimal"))(ta.prototype);class ea extends P{constructor(t){super(),this.unit=t}get typeId(){return w.Date}toString(){return`Date${(this.unit+1)*32}<${Wi[this.unit]}>`}}p0=Symbol.toStringTag;ea[p0]=(i=>(i.unit=null,i.ArrayType=Int32Array,i[Symbol.toStringTag]="Date"))(ea.prototype);class lo extends P{constructor(t,e){super(),this.unit=t,this.bitWidth=e}get typeId(){return w.Time}toString(){return`Time${this.bitWidth}<${st[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return _o}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}m0=Symbol.toStringTag;lo[m0]=(i=>(i.unit=null,i.bitWidth=null,i[Symbol.toStringTag]="Time"))(lo.prototype);class ia extends P{constructor(t,e){super(),this.unit=t,this.timezone=e}get typeId(){return w.Timestamp}toString(){return`Timestamp<${st[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}y0=Symbol.toStringTag;ia[y0]=(i=>(i.unit=null,i.timezone=null,i.ArrayType=Int32Array,i[Symbol.toStringTag]="Timestamp"))(ia.prototype);class na extends P{constructor(t){super(),this.unit=t}get typeId(){return w.Interval}toString(){return`Interval<${vn[this.unit]}>`}}v0=Symbol.toStringTag;na[v0]=(i=>(i.unit=null,i.ArrayType=Int32Array,i[Symbol.toStringTag]="Interval"))(na.prototype);let sa=class extends P{constructor(t){super(),this.children=[t]}get typeId(){return w.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};g0=Symbol.toStringTag;sa[g0]=(i=>(i.children=null,i[Symbol.toStringTag]="List"))(sa.prototype);class Zt extends P{constructor(t){super(),this.children=t}get typeId(){return w.Struct}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}w0=Symbol.toStringTag;Zt[w0]=(i=>(i.children=null,i[Symbol.toStringTag]="Struct"))(Zt.prototype);class ra extends P{constructor(t,e,n){super(),this.mode=t,this.children=n,this.typeIds=e=Int32Array.from(e),this.typeIdToChildIndex=e.reduce((s,r,o)=>(s[r]=o)&&s||s,Object.create(null))}get typeId(){return w.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}b0=Symbol.toStringTag;ra[b0]=(i=>(i.mode=null,i.typeIds=null,i.children=null,i.typeIdToChildIndex=null,i.ArrayType=Int8Array,i[Symbol.toStringTag]="Union"))(ra.prototype);let oa=class extends P{constructor(t){super(),this.byteWidth=t}get typeId(){return w.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};_0=Symbol.toStringTag;oa[_0]=(i=>(i.byteWidth=null,i.ArrayType=Uint8Array,i[Symbol.toStringTag]="FixedSizeBinary"))(oa.prototype);let la=class extends P{constructor(t,e){super(),this.listSize=t,this.children=[e]}get typeId(){return w.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};S0=Symbol.toStringTag;la[S0]=(i=>(i.children=null,i.listSize=null,i[Symbol.toStringTag]="FixedSizeList"))(la.prototype);class aa extends P{constructor(t,e=!1){super(),this.children=[t],this.keysSorted=e}get typeId(){return w.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}x0=Symbol.toStringTag;aa[x0]=(i=>(i.children=null,i.keysSorted=null,i[Symbol.toStringTag]="Map_"))(aa.prototype);const x_=(i=>()=>++i)(-1);class Xs extends P{constructor(t,e,n,s){super(),this.indices=e,this.dictionary=t,this.isOrdered=s||!1,this.id=n==null?x_():typeof n=="number"?n:n.low}get typeId(){return w.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}M0=Symbol.toStringTag;Xs[M0]=(i=>(i.id=null,i.indices=null,i.isOrdered=null,i.dictionary=null,i[Symbol.toStringTag]="Dictionary"))(Xs.prototype);function ki(i){const t=i;switch(i.typeId){case w.Decimal:return i.bitWidth/32;case w.Timestamp:return 2;case w.Date:return 1+t.unit;case w.Interval:return 1+t.unit;case w.FixedSizeList:return t.listSize;case w.FixedSizeBinary:return t.byteWidth;default:return 1}}class Z{visitMany(t,...e){return t.map((n,s)=>this.visit(n,...e.map(r=>r[s])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,e=!0){return M_(this,t,e)}getVisitFnByTypeId(t,e=!0){return hs(this,t,e)}visitNull(t,...e){return null}visitBool(t,...e){return null}visitInt(t,...e){return null}visitFloat(t,...e){return null}visitUtf8(t,...e){return null}visitBinary(t,...e){return null}visitFixedSizeBinary(t,...e){return null}visitDate(t,...e){return null}visitTimestamp(t,...e){return null}visitTime(t,...e){return null}visitDecimal(t,...e){return null}visitList(t,...e){return null}visitStruct(t,...e){return null}visitUnion(t,...e){return null}visitDictionary(t,...e){return null}visitInterval(t,...e){return null}visitFixedSizeList(t,...e){return null}visitMap(t,...e){return null}}function M_(i,t,e=!0){return typeof t=="number"?hs(i,t,e):typeof t=="string"&&t in w?hs(i,w[t],e):t&&t instanceof P?hs(i,_p(t),e):t!=null&&t.type&&t.type instanceof P?hs(i,_p(t.type),e):hs(i,w.NONE,e)}function hs(i,t,e=!0){let n=null;switch(t){case w.Null:n=i.visitNull;break;case w.Bool:n=i.visitBool;break;case w.Int:n=i.visitInt;break;case w.Int8:n=i.visitInt8||i.visitInt;break;case w.Int16:n=i.visitInt16||i.visitInt;break;case w.Int32:n=i.visitInt32||i.visitInt;break;case w.Int64:n=i.visitInt64||i.visitInt;break;case w.Uint8:n=i.visitUint8||i.visitInt;break;case w.Uint16:n=i.visitUint16||i.visitInt;break;case w.Uint32:n=i.visitUint32||i.visitInt;break;case w.Uint64:n=i.visitUint64||i.visitInt;break;case w.Float:n=i.visitFloat;break;case w.Float16:n=i.visitFloat16||i.visitFloat;break;case w.Float32:n=i.visitFloat32||i.visitFloat;break;case w.Float64:n=i.visitFloat64||i.visitFloat;break;case w.Utf8:n=i.visitUtf8;break;case w.Binary:n=i.visitBinary;break;case w.FixedSizeBinary:n=i.visitFixedSizeBinary;break;case w.Date:n=i.visitDate;break;case w.DateDay:n=i.visitDateDay||i.visitDate;break;case w.DateMillisecond:n=i.visitDateMillisecond||i.visitDate;break;case w.Timestamp:n=i.visitTimestamp;break;case w.TimestampSecond:n=i.visitTimestampSecond||i.visitTimestamp;break;case w.TimestampMillisecond:n=i.visitTimestampMillisecond||i.visitTimestamp;break;case w.TimestampMicrosecond:n=i.visitTimestampMicrosecond||i.visitTimestamp;break;case w.TimestampNanosecond:n=i.visitTimestampNanosecond||i.visitTimestamp;break;case w.Time:n=i.visitTime;break;case w.TimeSecond:n=i.visitTimeSecond||i.visitTime;break;case w.TimeMillisecond:n=i.visitTimeMillisecond||i.visitTime;break;case w.TimeMicrosecond:n=i.visitTimeMicrosecond||i.visitTime;break;case w.TimeNanosecond:n=i.visitTimeNanosecond||i.visitTime;break;case w.Decimal:n=i.visitDecimal;break;case w.List:n=i.visitList;break;case w.Struct:n=i.visitStruct;break;case w.Union:n=i.visitUnion;break;case w.DenseUnion:n=i.visitDenseUnion||i.visitUnion;break;case w.SparseUnion:n=i.visitSparseUnion||i.visitUnion;break;case w.Dictionary:n=i.visitDictionary;break;case w.Interval:n=i.visitInterval;break;case w.IntervalDayTime:n=i.visitIntervalDayTime||i.visitInterval;break;case w.IntervalYearMonth:n=i.visitIntervalYearMonth||i.visitInterval;break;case w.FixedSizeList:n=i.visitFixedSizeList;break;case w.Map:n=i.visitMap;break}if(typeof n=="function")return n;if(!e)return()=>null;throw new Error(`Unrecognized type '${w[t]}'`)}function _p(i){switch(i.typeId){case w.Null:return w.Null;case w.Int:{const{bitWidth:t,isSigned:e}=i;switch(t){case 8:return e?w.Int8:w.Uint8;case 16:return e?w.Int16:w.Uint16;case 32:return e?w.Int32:w.Uint32;case 64:return e?w.Int64:w.Uint64}return w.Int}case w.Float:switch(i.precision){case pe.HALF:return w.Float16;case pe.SINGLE:return w.Float32;case pe.DOUBLE:return w.Float64}return w.Float;case w.Binary:return w.Binary;case w.Utf8:return w.Utf8;case w.Bool:return w.Bool;case w.Decimal:return w.Decimal;case w.Time:switch(i.unit){case st.SECOND:return w.TimeSecond;case st.MILLISECOND:return w.TimeMillisecond;case st.MICROSECOND:return w.TimeMicrosecond;case st.NANOSECOND:return w.TimeNanosecond}return w.Time;case w.Timestamp:switch(i.unit){case st.SECOND:return w.TimestampSecond;case st.MILLISECOND:return w.TimestampMillisecond;case st.MICROSECOND:return w.TimestampMicrosecond;case st.NANOSECOND:return w.TimestampNanosecond}return w.Timestamp;case w.Date:switch(i.unit){case Wi.DAY:return w.DateDay;case Wi.MILLISECOND:return w.DateMillisecond}return w.Date;case w.Interval:switch(i.unit){case vn.DAY_TIME:return w.IntervalDayTime;case vn.YEAR_MONTH:return w.IntervalYearMonth}return w.Interval;case w.Map:return w.Map;case w.List:return w.List;case w.Struct:return w.Struct;case w.Union:switch(i.mode){case ke.Dense:return w.DenseUnion;case ke.Sparse:return w.SparseUnion}return w.Union;case w.FixedSizeBinary:return w.FixedSizeBinary;case w.FixedSizeList:return w.FixedSizeList;case w.Dictionary:return w.Dictionary}throw new Error(`Unrecognized type '${w[i.typeId]}'`)}Z.prototype.visitInt8=null;Z.prototype.visitInt16=null;Z.prototype.visitInt32=null;Z.prototype.visitInt64=null;Z.prototype.visitUint8=null;Z.prototype.visitUint16=null;Z.prototype.visitUint32=null;Z.prototype.visitUint64=null;Z.prototype.visitFloat16=null;Z.prototype.visitFloat32=null;Z.prototype.visitFloat64=null;Z.prototype.visitDateDay=null;Z.prototype.visitDateMillisecond=null;Z.prototype.visitTimestampSecond=null;Z.prototype.visitTimestampMillisecond=null;Z.prototype.visitTimestampMicrosecond=null;Z.prototype.visitTimestampNanosecond=null;Z.prototype.visitTimeSecond=null;Z.prototype.visitTimeMillisecond=null;Z.prototype.visitTimeMicrosecond=null;Z.prototype.visitTimeNanosecond=null;Z.prototype.visitDenseUnion=null;Z.prototype.visitSparseUnion=null;Z.prototype.visitIntervalDayTime=null;Z.prototype.visitIntervalYearMonth=null;const I0=new Float64Array(1),ls=new Uint32Array(I0.buffer);function C0(i){const t=(i&31744)>>10,e=(i&1023)/1024,n=Math.pow(-1,(i&32768)>>15);switch(t){case 31:return n*(e?Number.NaN:1/0);case 0:return n*(e?6103515625e-14*e:0)}return n*Math.pow(2,t-15)*(1+e)}function I_(i){if(i!==i)return 32256;I0[0]=i;const t=(ls[1]&2147483648)>>16&65535;let e=ls[1]&2146435072,n=0;return e>=1089470464?ls[0]>0?e=31744:(e=(e&2080374784)>>16,n=(ls[1]&1048575)>>10):e<=1056964608?(n=1048576+(ls[1]&1048575),n=1048576+(n<<(e>>20)-998)>>21,e=0):(e=e-1056964608>>10,n=(ls[1]&1048575)+512>>10),t|e|n&65535}class W extends Z{}function Y(i){return(t,e,n)=>{if(t.setValid(e,n!=null))return i(t,e,n)}}const C_=(i,t,e)=>{i[t]=Math.trunc(e/864e5)},Cf=(i,t,e)=>{i[t]=Math.trunc(e%4294967296),i[t+1]=Math.trunc(e/4294967296)},E_=(i,t,e)=>{i[t]=Math.trunc(e*1e3%4294967296),i[t+1]=Math.trunc(e*1e3/4294967296)},k_=(i,t,e)=>{i[t]=Math.trunc(e*1e6%4294967296),i[t+1]=Math.trunc(e*1e6/4294967296)},E0=(i,t,e,n)=>{if(e+1<t.length){const{[e]:s,[e+1]:r}=t;i.set(n.subarray(0,r-s),s)}},N_=({offset:i,values:t},e,n)=>{const s=i+e;n?t[s>>3]|=1<<s%8:t[s>>3]&=~(1<<s%8)},Ki=({values:i},t,e)=>{i[t]=e},Ef=({values:i},t,e)=>{i[t]=e},k0=({values:i},t,e)=>{i[t]=I_(e)},T_=(i,t,e)=>{switch(i.type.precision){case pe.HALF:return k0(i,t,e);case pe.SINGLE:case pe.DOUBLE:return Ef(i,t,e)}},N0=({values:i},t,e)=>{C_(i,t,e.valueOf())},T0=({values:i},t,e)=>{Cf(i,t*2,e.valueOf())},O_=({stride:i,values:t},e,n)=>{t.set(n.subarray(0,i),i*e)},B_=({values:i,valueOffsets:t},e,n)=>E0(i,t,e,n),z_=({values:i,valueOffsets:t},e,n)=>{E0(i,t,e,_f(n))},D_=(i,t,e)=>{i.type.unit===Wi.DAY?N0(i,t,e):T0(i,t,e)},O0=({values:i},t,e)=>Cf(i,t*2,e/1e3),B0=({values:i},t,e)=>Cf(i,t*2,e),z0=({values:i},t,e)=>E_(i,t*2,e),D0=({values:i},t,e)=>k_(i,t*2,e),L_=(i,t,e)=>{switch(i.type.unit){case st.SECOND:return O0(i,t,e);case st.MILLISECOND:return B0(i,t,e);case st.MICROSECOND:return z0(i,t,e);case st.NANOSECOND:return D0(i,t,e)}},L0=({values:i},t,e)=>{i[t]=e},F0=({values:i},t,e)=>{i[t]=e},R0=({values:i},t,e)=>{i[t]=e},A0=({values:i},t,e)=>{i[t]=e},F_=(i,t,e)=>{switch(i.type.unit){case st.SECOND:return L0(i,t,e);case st.MILLISECOND:return F0(i,t,e);case st.MICROSECOND:return R0(i,t,e);case st.NANOSECOND:return A0(i,t,e)}},R_=({values:i,stride:t},e,n)=>{i.set(n.subarray(0,t),t*e)},A_=(i,t,e)=>{const n=i.children[0],s=i.valueOffsets,r=We.getVisitFn(n);if(Array.isArray(e))for(let o=-1,l=s[t],a=s[t+1];l<a;)r(n,l++,e[++o]);else for(let o=-1,l=s[t],a=s[t+1];l<a;)r(n,l++,e.get(++o))},P_=(i,t,e)=>{const n=i.children[0],{valueOffsets:s}=i,r=We.getVisitFn(n);let{[t]:o,[t+1]:l}=s;const a=e instanceof Map?e.entries():Object.entries(e);for(const u of a)if(r(n,o,u),++o>=l)break},$_=(i,t)=>(e,n,s,r)=>n&&e(n,i,t[r]),V_=(i,t)=>(e,n,s,r)=>n&&e(n,i,t.get(r)),U_=(i,t)=>(e,n,s,r)=>n&&e(n,i,t.get(s.name)),j_=(i,t)=>(e,n,s,r)=>n&&e(n,i,t[s.name]),W_=(i,t,e)=>{const n=i.type.children.map(r=>We.getVisitFn(r.type)),s=e instanceof Map?U_(t,e):e instanceof lt?V_(t,e):Array.isArray(e)?$_(t,e):j_(t,e);i.type.children.forEach((r,o)=>s(n[o],i.children[o],r,o))},H_=(i,t,e)=>{i.type.mode===ke.Dense?P0(i,t,e):$0(i,t,e)},P0=(i,t,e)=>{const n=i.type.typeIdToChildIndex[i.typeIds[t]],s=i.children[n];We.visit(s,i.valueOffsets[t],e)},$0=(i,t,e)=>{const n=i.type.typeIdToChildIndex[i.typeIds[t]],s=i.children[n];We.visit(s,t,e)},K_=(i,t,e)=>{var n;(n=i.dictionary)===null||n===void 0||n.set(i.values[t],e)},Y_=(i,t,e)=>{i.type.unit===vn.DAY_TIME?V0(i,t,e):U0(i,t,e)},V0=({values:i},t,e)=>{i.set(e.subarray(0,2),2*t)},U0=({values:i},t,e)=>{i[t]=e[0]*12+e[1]%12},X_=(i,t,e)=>{const{stride:n}=i,s=i.children[0],r=We.getVisitFn(s);if(Array.isArray(e))for(let o=-1,l=t*n;++o<n;)r(s,l+o,e[o]);else for(let o=-1,l=t*n;++o<n;)r(s,l+o,e.get(o))};W.prototype.visitBool=Y(N_);W.prototype.visitInt=Y(Ki);W.prototype.visitInt8=Y(Ki);W.prototype.visitInt16=Y(Ki);W.prototype.visitInt32=Y(Ki);W.prototype.visitInt64=Y(Ki);W.prototype.visitUint8=Y(Ki);W.prototype.visitUint16=Y(Ki);W.prototype.visitUint32=Y(Ki);W.prototype.visitUint64=Y(Ki);W.prototype.visitFloat=Y(T_);W.prototype.visitFloat16=Y(k0);W.prototype.visitFloat32=Y(Ef);W.prototype.visitFloat64=Y(Ef);W.prototype.visitUtf8=Y(z_);W.prototype.visitBinary=Y(B_);W.prototype.visitFixedSizeBinary=Y(O_);W.prototype.visitDate=Y(D_);W.prototype.visitDateDay=Y(N0);W.prototype.visitDateMillisecond=Y(T0);W.prototype.visitTimestamp=Y(L_);W.prototype.visitTimestampSecond=Y(O0);W.prototype.visitTimestampMillisecond=Y(B0);W.prototype.visitTimestampMicrosecond=Y(z0);W.prototype.visitTimestampNanosecond=Y(D0);W.prototype.visitTime=Y(F_);W.prototype.visitTimeSecond=Y(L0);W.prototype.visitTimeMillisecond=Y(F0);W.prototype.visitTimeMicrosecond=Y(R0);W.prototype.visitTimeNanosecond=Y(A0);W.prototype.visitDecimal=Y(R_);W.prototype.visitList=Y(A_);W.prototype.visitStruct=Y(W_);W.prototype.visitUnion=Y(H_);W.prototype.visitDenseUnion=Y(P0);W.prototype.visitSparseUnion=Y($0);W.prototype.visitDictionary=Y(K_);W.prototype.visitInterval=Y(Y_);W.prototype.visitIntervalDayTime=Y(V0);W.prototype.visitIntervalYearMonth=Y(U0);W.prototype.visitFixedSizeList=Y(X_);W.prototype.visitMap=Y(P_);const We=new W,Xe=Symbol.for("parent"),Rs=Symbol.for("rowIndex");class kf{constructor(t,e){return this[Xe]=t,this[Rs]=e,new Proxy(this,new J_)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Rs],e=this[Xe],n=e.type.children,s={};for(let r=-1,o=n.length;++r<o;)s[n[r].name]=ve.visit(e.children[r],t);return s}toString(){return`{${[...this].map(([t,e])=>`${no(t)}: ${no(e)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new Q_(this[Xe],this[Rs])}}class Q_{constructor(t,e){this.childIndex=0,this.children=t.children,this.rowIndex=e,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,ve.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(kf.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Xe]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Rs]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class J_{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Xe].type.children.map(e=>e.name)}has(t,e){return t[Xe].type.children.findIndex(n=>n.name===e)!==-1}getOwnPropertyDescriptor(t,e){if(t[Xe].type.children.findIndex(n=>n.name===e)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const n=t[Xe].type.children.findIndex(s=>s.name===e);if(n!==-1){const s=ve.visit(t[Xe].children[n],t[Rs]);return Reflect.set(t,e,s),s}}set(t,e,n){const s=t[Xe].type.children.findIndex(r=>r.name===e);return s!==-1?(We.visit(t[Xe].children[s],t[Rs],n),Reflect.set(t,e,n)):Reflect.has(t,e)||typeof e=="symbol"?Reflect.set(t,e,n):!1}}class $ extends Z{}function H(i){return(t,e)=>t.getValid(e)?i(t,e):null}const G_=(i,t)=>864e5*i[t],Nf=(i,t)=>4294967296*i[t+1]+(i[t]>>>0),q_=(i,t)=>4294967296*(i[t+1]/1e3)+(i[t]>>>0)/1e3,Z_=(i,t)=>4294967296*(i[t+1]/1e6)+(i[t]>>>0)/1e6,j0=i=>new Date(i),tS=(i,t)=>j0(G_(i,t)),eS=(i,t)=>j0(Nf(i,t)),iS=(i,t)=>null,W0=(i,t,e)=>{if(e+1>=t.length)return null;const n=t[e],s=t[e+1];return i.subarray(n,s)},nS=({offset:i,values:t},e)=>{const n=i+e;return(t[n>>3]&1<<n%8)!==0},H0=({values:i},t)=>tS(i,t),K0=({values:i},t)=>eS(i,t*2),Cn=({stride:i,values:t},e)=>t[i*e],sS=({stride:i,values:t},e)=>C0(t[i*e]),Y0=({values:i},t)=>i[t],rS=({stride:i,values:t},e)=>t.subarray(i*e,i*(e+1)),oS=({values:i,valueOffsets:t},e)=>W0(i,t,e),lS=({values:i,valueOffsets:t},e)=>{const n=W0(i,t,e);return n!==null?tc(n):null},aS=({values:i},t)=>i[t],uS=({type:i,values:t},e)=>i.precision!==pe.HALF?t[e]:C0(t[e]),hS=(i,t)=>i.type.unit===Wi.DAY?H0(i,t):K0(i,t),X0=({values:i},t)=>1e3*Nf(i,t*2),Q0=({values:i},t)=>Nf(i,t*2),J0=({values:i},t)=>q_(i,t*2),G0=({values:i},t)=>Z_(i,t*2),cS=(i,t)=>{switch(i.type.unit){case st.SECOND:return X0(i,t);case st.MILLISECOND:return Q0(i,t);case st.MICROSECOND:return J0(i,t);case st.NANOSECOND:return G0(i,t)}},q0=({values:i},t)=>i[t],Z0=({values:i},t)=>i[t],tg=({values:i},t)=>i[t],eg=({values:i},t)=>i[t],fS=(i,t)=>{switch(i.type.unit){case st.SECOND:return q0(i,t);case st.MILLISECOND:return Z0(i,t);case st.MICROSECOND:return tg(i,t);case st.NANOSECOND:return eg(i,t)}},dS=({values:i,stride:t},e)=>If.decimal(i.subarray(t*e,t*(e+1))),pS=(i,t)=>{const{valueOffsets:e,stride:n,children:s}=i,{[t*n]:r,[t*n+1]:o}=e,a=s[0].slice(r,o-r);return new lt([a])},mS=(i,t)=>{const{valueOffsets:e,children:n}=i,{[t]:s,[t+1]:r}=e,o=n[0];return new Tf(o.slice(s,r-s))},yS=(i,t)=>new kf(i,t),vS=(i,t)=>i.type.mode===ke.Dense?ig(i,t):ng(i,t),ig=(i,t)=>{const e=i.type.typeIdToChildIndex[i.typeIds[t]],n=i.children[e];return ve.visit(n,i.valueOffsets[t])},ng=(i,t)=>{const e=i.type.typeIdToChildIndex[i.typeIds[t]],n=i.children[e];return ve.visit(n,t)},gS=(i,t)=>{var e;return(e=i.dictionary)===null||e===void 0?void 0:e.get(i.values[t])},wS=(i,t)=>i.type.unit===vn.DAY_TIME?sg(i,t):rg(i,t),sg=({values:i},t)=>i.subarray(2*t,2*(t+1)),rg=({values:i},t)=>{const e=i[t],n=new Int32Array(2);return n[0]=Math.trunc(e/12),n[1]=Math.trunc(e%12),n},bS=(i,t)=>{const{stride:e,children:n}=i,r=n[0].slice(t*e,e);return new lt([r])};$.prototype.visitNull=H(iS);$.prototype.visitBool=H(nS);$.prototype.visitInt=H(aS);$.prototype.visitInt8=H(Cn);$.prototype.visitInt16=H(Cn);$.prototype.visitInt32=H(Cn);$.prototype.visitInt64=H(Y0);$.prototype.visitUint8=H(Cn);$.prototype.visitUint16=H(Cn);$.prototype.visitUint32=H(Cn);$.prototype.visitUint64=H(Y0);$.prototype.visitFloat=H(uS);$.prototype.visitFloat16=H(sS);$.prototype.visitFloat32=H(Cn);$.prototype.visitFloat64=H(Cn);$.prototype.visitUtf8=H(lS);$.prototype.visitBinary=H(oS);$.prototype.visitFixedSizeBinary=H(rS);$.prototype.visitDate=H(hS);$.prototype.visitDateDay=H(H0);$.prototype.visitDateMillisecond=H(K0);$.prototype.visitTimestamp=H(cS);$.prototype.visitTimestampSecond=H(X0);$.prototype.visitTimestampMillisecond=H(Q0);$.prototype.visitTimestampMicrosecond=H(J0);$.prototype.visitTimestampNanosecond=H(G0);$.prototype.visitTime=H(fS);$.prototype.visitTimeSecond=H(q0);$.prototype.visitTimeMillisecond=H(Z0);$.prototype.visitTimeMicrosecond=H(tg);$.prototype.visitTimeNanosecond=H(eg);$.prototype.visitDecimal=H(dS);$.prototype.visitList=H(pS);$.prototype.visitStruct=H(yS);$.prototype.visitUnion=H(vS);$.prototype.visitDenseUnion=H(ig);$.prototype.visitSparseUnion=H(ng);$.prototype.visitDictionary=H(gS);$.prototype.visitInterval=H(wS);$.prototype.visitIntervalDayTime=H(sg);$.prototype.visitIntervalYearMonth=H(rg);$.prototype.visitFixedSizeList=H(bS);$.prototype.visitMap=H(mS);const ve=new $,ci=Symbol.for("keys"),As=Symbol.for("vals");class Tf{constructor(t){return this[ci]=new lt([t.children[0]]).memoize(),this[As]=t.children[1],new Proxy(this,new SS)}[Symbol.iterator](){return new _S(this[ci],this[As])}get size(){return this[ci].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[ci],e=this[As],n={};for(let s=-1,r=t.length;++s<r;)n[t.get(s)]=ve.visit(e,s);return n}toString(){return`{${[...this].map(([t,e])=>`${no(t)}: ${no(e)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class _S{constructor(t,e){this.keys=t,this.vals=e,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),ve.visit(this.vals,t)]})}}class SS{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[ci].toArray().map(String)}has(t,e){return t[ci].includes(e)}getOwnPropertyDescriptor(t,e){if(t[ci].indexOf(e)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const n=t[ci].indexOf(e);if(n!==-1){const s=ve.visit(Reflect.get(t,As),n);return Reflect.set(t,e,s),s}}set(t,e,n){const s=t[ci].indexOf(e);return s!==-1?(We.visit(Reflect.get(t,As),s,n),Reflect.set(t,e,n)):Reflect.has(t,e)?Reflect.set(t,e,n):!1}}Object.defineProperties(Tf.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[ci]:{writable:!0,enumerable:!1,configurable:!1,value:null},[As]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let Sp;function og(i,t,e,n){const{length:s=0}=i;let r=typeof t!="number"?0:t,o=typeof e!="number"?s:e;return r<0&&(r=(r%s+s)%s),o<0&&(o=(o%s+s)%s),o<r&&(Sp=r,r=o,o=Sp),o>s&&(o=s),n?n(i,r,o):[r,o]}const xp=i=>i!==i;function lr(i){if(typeof i!=="object"||i===null)return xp(i)?xp:e=>e===i;if(i instanceof Date){const e=i.valueOf();return n=>n instanceof Date?n.valueOf()===e:!1}return ArrayBuffer.isView(i)?e=>e?m_(i,e):!1:i instanceof Map?MS(i):Array.isArray(i)?xS(i):i instanceof lt?IS(i):CS(i,!0)}function xS(i){const t=[];for(let e=-1,n=i.length;++e<n;)t[e]=lr(i[e]);return eu(t)}function MS(i){let t=-1;const e=[];for(const n of i.values())e[++t]=lr(n);return eu(e)}function IS(i){const t=[];for(let e=-1,n=i.length;++e<n;)t[e]=lr(i.get(e));return eu(t)}function CS(i,t=!1){const e=Object.keys(i);if(!t&&e.length===0)return()=>!1;const n=[];for(let s=-1,r=e.length;++s<r;)n[s]=lr(i[e[s]]);return eu(n,e)}function eu(i,t){return e=>{if(!e||typeof e!="object")return!1;switch(e.constructor){case Array:return ES(i,e);case Map:return Mp(i,e,e.keys());case Tf:case kf:case Object:case void 0:return Mp(i,e,t||Object.keys(e))}return e instanceof lt?kS(i,e):!1}}function ES(i,t){const e=i.length;if(t.length!==e)return!1;for(let n=-1;++n<e;)if(!i[n](t[n]))return!1;return!0}function kS(i,t){const e=i.length;if(t.length!==e)return!1;for(let n=-1;++n<e;)if(!i[n](t.get(n)))return!1;return!0}function Mp(i,t,e){const n=e[Symbol.iterator](),s=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),r=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let o=0;const l=i.length;let a=r.next(),u=n.next(),h=s.next();for(;o<l&&!u.done&&!h.done&&!a.done&&!(u.value!==h.value||!i[o](a.value));++o,u=n.next(),h=s.next(),a=r.next());return o===l&&u.done&&h.done&&a.done?!0:(n.return&&n.return(),s.return&&s.return(),r.return&&r.return(),!1)}function lg(i,t,e,n){return(e&1<<n)!==0}function NS(i,t,e,n){return(e&1<<n)>>n}function Of(i,t,e){const n=e.byteLength+7&-8;if(i>0||e.byteLength<n){const s=new Uint8Array(n);return s.set(i%8===0?e.subarray(i>>3):ua(new Bf(e,i,t,null,lg)).subarray(0,n)),s}return e}function ua(i){const t=[];let e=0,n=0,s=0;for(const o of i)o&&(s|=1<<n),++n===8&&(t[e++]=s,s=n=0);(e===0||n>0)&&(t[e++]=s);const r=new Uint8Array(t.length+7&-8);return r.set(t),r}class Bf{constructor(t,e,n,s,r){this.bytes=t,this.length=n,this.context=s,this.get=r,this.bit=e%8,this.byteIndex=e>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function sc(i,t,e){if(e-t<=0)return 0;if(e-t<8){let r=0;for(const o of new Bf(i,t,e-t,i,NS))r+=o;return r}const n=e>>3<<3,s=t+(t%8===0?0:8-t%8);return sc(i,t,s)+sc(i,n,e)+TS(i,s>>3,n-s>>3)}function TS(i,t,e){let n=0,s=Math.trunc(t);const r=new DataView(i.buffer,i.byteOffset,i.byteLength),o=e===void 0?i.byteLength:s+e;for(;o-s>=4;)n+=Au(r.getUint32(s)),s+=4;for(;o-s>=2;)n+=Au(r.getUint16(s)),s+=2;for(;o-s>=1;)n+=Au(r.getUint8(s)),s+=1;return n}function Au(i){let t=Math.trunc(i);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const OS=-1;class mt{constructor(t,e,n,s,r,o=[],l){this.type=t,this.children=o,this.dictionary=l,this.offset=Math.floor(Math.max(e||0,0)),this.length=Math.floor(Math.max(n||0,0)),this._nullCount=Math.floor(Math.max(s||0,-1));let a;r instanceof mt?(this.stride=r.stride,this.values=r.values,this.typeIds=r.typeIds,this.nullBitmap=r.nullBitmap,this.valueOffsets=r.valueOffsets):(this.stride=ki(t),r&&((a=r[0])&&(this.valueOffsets=a),(a=r[1])&&(this.values=a),(a=r[2])&&(this.nullBitmap=a),(a=r[3])&&(this.typeIds=a))),this.nullable=this._nullCount!==0&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0;const{valueOffsets:e,values:n,nullBitmap:s,typeIds:r}=this;return e&&(t+=e.byteLength),n&&(t+=n.byteLength),s&&(t+=s.byteLength),r&&(t+=r.byteLength),this.children.reduce((o,l)=>o+l.byteLength,t)}get nullCount(){let t=this._nullCount,e;return t<=OS&&(e=this.nullBitmap)&&(this._nullCount=t=this.length-sc(e,this.offset,this.offset+this.length)),t}getValid(t){if(this.nullable&&this.nullCount>0){const e=this.offset+t;return(this.nullBitmap[e>>3]&1<<e%8)!==0}return!0}setValid(t,e){if(!this.nullable)return e;if(!this.nullBitmap||this.nullBitmap.byteLength<=t>>3){const{nullBitmap:a}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:a,_nullCount:0})}const{nullBitmap:n,offset:s}=this,r=s+t>>3,o=(s+t)%8,l=n[r]>>o&1;return e?l===0&&(n[r]|=1<<o,this._nullCount=this.nullCount+1):l===1&&(n[r]&=~(1<<o),this._nullCount=this.nullCount-1),e}clone(t=this.type,e=this.offset,n=this.length,s=this._nullCount,r=this,o=this.children){return new mt(t,e,n,s,r,o,this.dictionary)}slice(t,e){const{stride:n,typeId:s,children:r}=this,o=+(this._nullCount===0)-1,l=s===16?n:1,a=this._sliceBuffers(t,e,n,s);return this.clone(this.type,this.offset+t,e,o,a,r.length===0||this.valueOffsets?r:this._sliceChildren(r,l*t,l*e))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===w.Null)return this.clone(this.type,0,t,0);const{length:e,nullCount:n}=this,s=new Uint8Array((t+63&-64)>>3).fill(255,0,e>>3);s[e>>3]=(1<<e-(e&-8))-1,n>0&&s.set(Of(this.offset,e,this.nullBitmap),0);const r=this.buffers;return r[Ei.VALIDITY]=s,this.clone(this.type,0,t,n+(t-e),r)}_sliceBuffers(t,e,n,s){let r;const{buffers:o}=this;return(r=o[Ei.TYPE])&&(o[Ei.TYPE]=r.subarray(t,t+e)),(r=o[Ei.OFFSET])&&(o[Ei.OFFSET]=r.subarray(t,t+e+1))||(r=o[Ei.DATA])&&(o[Ei.DATA]=s===6?r:r.subarray(n*t,n*(t+e))),o}_sliceChildren(t,e,n){return t.map(s=>s.slice(e,n))}}mt.prototype.children=Object.freeze([]);class zr extends Z{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:e,["offset"]:n=0,["length"]:s=0}=t;return new mt(e,n,s,0)}visitBool(t){const{["type"]:e,["offset"]:n=0}=t,s=nt(t.nullBitmap),r=dt(e.ArrayType,t.data),{["length"]:o=r.length>>3,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new mt(e,n,o,l,[void 0,r,s])}visitInt(t){const{["type"]:e,["offset"]:n=0}=t,s=nt(t.nullBitmap),r=dt(e.ArrayType,t.data),{["length"]:o=r.length,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new mt(e,n,o,l,[void 0,r,s])}visitFloat(t){const{["type"]:e,["offset"]:n=0}=t,s=nt(t.nullBitmap),r=dt(e.ArrayType,t.data),{["length"]:o=r.length,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new mt(e,n,o,l,[void 0,r,s])}visitUtf8(t){const{["type"]:e,["offset"]:n=0}=t,s=nt(t.data),r=nt(t.nullBitmap),o=yr(t.valueOffsets),{["length"]:l=o.length-1,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new mt(e,n,l,a,[o,s,r])}visitBinary(t){const{["type"]:e,["offset"]:n=0}=t,s=nt(t.data),r=nt(t.nullBitmap),o=yr(t.valueOffsets),{["length"]:l=o.length-1,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new mt(e,n,l,a,[o,s,r])}visitFixedSizeBinary(t){const{["type"]:e,["offset"]:n=0}=t,s=nt(t.nullBitmap),r=dt(e.ArrayType,t.data),{["length"]:o=r.length/ki(e),["nullCount"]:l=t.nullBitmap?-1:0}=t;return new mt(e,n,o,l,[void 0,r,s])}visitDate(t){const{["type"]:e,["offset"]:n=0}=t,s=nt(t.nullBitmap),r=dt(e.ArrayType,t.data),{["length"]:o=r.length/ki(e),["nullCount"]:l=t.nullBitmap?-1:0}=t;return new mt(e,n,o,l,[void 0,r,s])}visitTimestamp(t){const{["type"]:e,["offset"]:n=0}=t,s=nt(t.nullBitmap),r=dt(e.ArrayType,t.data),{["length"]:o=r.length/ki(e),["nullCount"]:l=t.nullBitmap?-1:0}=t;return new mt(e,n,o,l,[void 0,r,s])}visitTime(t){const{["type"]:e,["offset"]:n=0}=t,s=nt(t.nullBitmap),r=dt(e.ArrayType,t.data),{["length"]:o=r.length/ki(e),["nullCount"]:l=t.nullBitmap?-1:0}=t;return new mt(e,n,o,l,[void 0,r,s])}visitDecimal(t){const{["type"]:e,["offset"]:n=0}=t,s=nt(t.nullBitmap),r=dt(e.ArrayType,t.data),{["length"]:o=r.length/ki(e),["nullCount"]:l=t.nullBitmap?-1:0}=t;return new mt(e,n,o,l,[void 0,r,s])}visitList(t){const{["type"]:e,["offset"]:n=0,["child"]:s}=t,r=nt(t.nullBitmap),o=yr(t.valueOffsets),{["length"]:l=o.length-1,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new mt(e,n,l,a,[o,void 0,r],[s])}visitStruct(t){const{["type"]:e,["offset"]:n=0,["children"]:s=[]}=t,r=nt(t.nullBitmap),{length:o=s.reduce((a,{length:u})=>Math.max(a,u),0),nullCount:l=t.nullBitmap?-1:0}=t;return new mt(e,n,o,l,[void 0,void 0,r],s)}visitUnion(t){const{["type"]:e,["offset"]:n=0,["children"]:s=[]}=t,r=nt(t.nullBitmap),o=dt(e.ArrayType,t.typeIds),{["length"]:l=o.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;if(P.isSparseUnion(e))return new mt(e,n,l,a,[void 0,void 0,r,o],s);const u=yr(t.valueOffsets);return new mt(e,n,l,a,[u,void 0,r,o],s)}visitDictionary(t){const{["type"]:e,["offset"]:n=0}=t,s=nt(t.nullBitmap),r=dt(e.indices.ArrayType,t.data),{["dictionary"]:o=new lt([new zr().visit({type:e.dictionary})])}=t,{["length"]:l=r.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new mt(e,n,l,a,[void 0,r,s],[],o)}visitInterval(t){const{["type"]:e,["offset"]:n=0}=t,s=nt(t.nullBitmap),r=dt(e.ArrayType,t.data),{["length"]:o=r.length/ki(e),["nullCount"]:l=t.nullBitmap?-1:0}=t;return new mt(e,n,o,l,[void 0,r,s])}visitFixedSizeList(t){const{["type"]:e,["offset"]:n=0,["child"]:s=new zr().visit({type:e.valueType})}=t,r=nt(t.nullBitmap),{["length"]:o=s.length/ki(e),["nullCount"]:l=t.nullBitmap?-1:0}=t;return new mt(e,n,o,l,[void 0,void 0,r],[s])}visitMap(t){const{["type"]:e,["offset"]:n=0,["child"]:s=new zr().visit({type:e.childType})}=t,r=nt(t.nullBitmap),o=yr(t.valueOffsets),{["length"]:l=o.length-1,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new mt(e,n,l,a,[o,void 0,r],[s])}}function q(i){return new zr().visit(i)}class Ip{constructor(t=0,e){this.numChunks=t,this.getChunkIterator=e,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function ag(i){return i.reduce((t,e)=>t+e.nullCount,0)}function ug(i){return i.reduce((t,e,n)=>(t[n+1]=t[n]+e.length,t),new Uint32Array(i.length+1))}function hg(i,t,e,n){const s=[];for(let r=-1,o=i.length;++r<o;){const l=i[r],a=t[r],{length:u}=l;if(a>=n)break;if(e>=a+u)continue;if(a>=e&&a+u<=n){s.push(l);continue}const h=Math.max(0,e-a),c=Math.min(n-a,u);s.push(l.slice(h,c-h))}return s.length===0&&s.push(i[0].slice(0,0)),s}function zf(i,t,e,n){let s=0,r=0,o=t.length-1;do{if(s>=o-1)return e<t[o]?n(i,s,e-t[s]):null;r=s+Math.trunc((o-s)*.5),e<t[r]?o=r:s=r}while(s<o)}function Df(i,t){return i.getValid(t)}function Ps(i){function t(e,n,s){return i(e[n],s)}return function(e){const n=this.data;return zf(n,this._offsets,e,t)}}function cg(i){let t;function e(n,s,r){return i(n[s],r,t)}return function(n,s){const r=this.data;t=s;const o=zf(r,this._offsets,n,e);return t=void 0,o}}function fg(i){let t;function e(n,s,r){let o=r,l=0,a=0;for(let u=s-1,h=n.length;++u<h;){const c=n[u];if(~(l=i(c,t,o)))return a+l;o=0,a+=c.length}return-1}return function(n,s){t=n;const r=this.data,o=typeof s!="number"?e(r,0,0):zf(r,this._offsets,s,e);return t=void 0,o}}class V extends Z{}function BS(i,t){return t===null&&i.length>0?0:-1}function zS(i,t){const{nullBitmap:e}=i;if(!e||i.nullCount<=0)return-1;let n=0;for(const s of new Bf(e,i.offset+(t||0),i.length,e,lg)){if(!s)return n;++n}return-1}function Q(i,t,e){if(t===void 0)return-1;if(t===null)return zS(i,e);const n=ve.getVisitFn(i),s=lr(t);for(let r=(e||0)-1,o=i.length;++r<o;)if(s(n(i,r)))return r;return-1}function dg(i,t,e){const n=ve.getVisitFn(i),s=lr(t);for(let r=(e||0)-1,o=i.length;++r<o;)if(s(n(i,r)))return r;return-1}V.prototype.visitNull=BS;V.prototype.visitBool=Q;V.prototype.visitInt=Q;V.prototype.visitInt8=Q;V.prototype.visitInt16=Q;V.prototype.visitInt32=Q;V.prototype.visitInt64=Q;V.prototype.visitUint8=Q;V.prototype.visitUint16=Q;V.prototype.visitUint32=Q;V.prototype.visitUint64=Q;V.prototype.visitFloat=Q;V.prototype.visitFloat16=Q;V.prototype.visitFloat32=Q;V.prototype.visitFloat64=Q;V.prototype.visitUtf8=Q;V.prototype.visitBinary=Q;V.prototype.visitFixedSizeBinary=Q;V.prototype.visitDate=Q;V.prototype.visitDateDay=Q;V.prototype.visitDateMillisecond=Q;V.prototype.visitTimestamp=Q;V.prototype.visitTimestampSecond=Q;V.prototype.visitTimestampMillisecond=Q;V.prototype.visitTimestampMicrosecond=Q;V.prototype.visitTimestampNanosecond=Q;V.prototype.visitTime=Q;V.prototype.visitTimeSecond=Q;V.prototype.visitTimeMillisecond=Q;V.prototype.visitTimeMicrosecond=Q;V.prototype.visitTimeNanosecond=Q;V.prototype.visitDecimal=Q;V.prototype.visitList=Q;V.prototype.visitStruct=Q;V.prototype.visitUnion=Q;V.prototype.visitDenseUnion=dg;V.prototype.visitSparseUnion=dg;V.prototype.visitDictionary=Q;V.prototype.visitInterval=Q;V.prototype.visitIntervalDayTime=Q;V.prototype.visitIntervalYearMonth=Q;V.prototype.visitFixedSizeList=Q;V.prototype.visitMap=Q;const ha=new V;class U extends Z{}function K(i){const{type:t}=i;if(i.nullCount===0&&i.stride===1&&(t.typeId===w.Timestamp||t instanceof wn&&t.bitWidth!==64||t instanceof lo&&t.bitWidth!==64||t instanceof oo&&t.precision!==pe.HALF))return new Ip(i.data.length,n=>{const s=i.data[n];return s.values.subarray(0,s.length)[Symbol.iterator]()});let e=0;return new Ip(i.data.length,n=>{const r=i.data[n].length,o=i.slice(e,e+r);return e+=r,new DS(o)})}class DS{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}U.prototype.visitNull=K;U.prototype.visitBool=K;U.prototype.visitInt=K;U.prototype.visitInt8=K;U.prototype.visitInt16=K;U.prototype.visitInt32=K;U.prototype.visitInt64=K;U.prototype.visitUint8=K;U.prototype.visitUint16=K;U.prototype.visitUint32=K;U.prototype.visitUint64=K;U.prototype.visitFloat=K;U.prototype.visitFloat16=K;U.prototype.visitFloat32=K;U.prototype.visitFloat64=K;U.prototype.visitUtf8=K;U.prototype.visitBinary=K;U.prototype.visitFixedSizeBinary=K;U.prototype.visitDate=K;U.prototype.visitDateDay=K;U.prototype.visitDateMillisecond=K;U.prototype.visitTimestamp=K;U.prototype.visitTimestampSecond=K;U.prototype.visitTimestampMillisecond=K;U.prototype.visitTimestampMicrosecond=K;U.prototype.visitTimestampNanosecond=K;U.prototype.visitTime=K;U.prototype.visitTimeSecond=K;U.prototype.visitTimeMillisecond=K;U.prototype.visitTimeMicrosecond=K;U.prototype.visitTimeNanosecond=K;U.prototype.visitDecimal=K;U.prototype.visitList=K;U.prototype.visitStruct=K;U.prototype.visitUnion=K;U.prototype.visitDenseUnion=K;U.prototype.visitSparseUnion=K;U.prototype.visitDictionary=K;U.prototype.visitInterval=K;U.prototype.visitIntervalDayTime=K;U.prototype.visitIntervalYearMonth=K;U.prototype.visitFixedSizeList=K;U.prototype.visitMap=K;const Lf=new U,LS=(i,t)=>i+t;class En extends Z{visitNull(t,e){return 0}visitInt(t,e){return t.type.bitWidth/8}visitFloat(t,e){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,e){return 1/8}visitDecimal(t,e){return t.type.bitWidth/8}visitDate(t,e){return(t.type.unit+1)*4}visitTime(t,e){return t.type.bitWidth/8}visitTimestamp(t,e){return t.type.unit===st.SECOND?4:8}visitInterval(t,e){return(t.type.unit+1)*4}visitStruct(t,e){return t.children.reduce((n,s)=>n+xi.visit(s,e),0)}visitFixedSizeBinary(t,e){return t.type.byteWidth}visitMap(t,e){return 8+t.children.reduce((n,s)=>n+xi.visit(s,e),0)}visitDictionary(t,e){var n;return t.type.indices.bitWidth/8+(((n=t.dictionary)===null||n===void 0?void 0:n.getByteLength(t.values[e]))||0)}}const FS=({valueOffsets:i},t)=>8+(i[t+1]-i[t]),RS=({valueOffsets:i},t)=>8+(i[t+1]-i[t]),AS=({valueOffsets:i,stride:t,children:e},n)=>{const s=e[0],{[n*t]:r}=i,{[n*t+1]:o}=i,l=xi.getVisitFn(s.type),a=s.slice(r,o-r);let u=8;for(let h=-1,c=o-r;++h<c;)u+=l(a,h);return u},PS=({stride:i,children:t},e)=>{const n=t[0],s=n.slice(e*i,i),r=xi.getVisitFn(n.type);let o=0;for(let l=-1,a=s.length;++l<a;)o+=r(s,l);return o},$S=(i,t)=>i.type.mode===ke.Dense?pg(i,t):mg(i,t),pg=({type:i,children:t,typeIds:e,valueOffsets:n},s)=>{const r=i.typeIdToChildIndex[e[s]];return 8+xi.visit(t[r],n[s])},mg=({children:i},t)=>4+xi.visitMany(i,i.map(()=>t)).reduce(LS,0);En.prototype.visitUtf8=FS;En.prototype.visitBinary=RS;En.prototype.visitList=AS;En.prototype.visitFixedSizeList=PS;En.prototype.visitUnion=$S;En.prototype.visitDenseUnion=pg;En.prototype.visitSparseUnion=mg;const xi=new En;var yg;const vg={},gg={};class lt{constructor(t){var e,n,s;const r=t[0]instanceof lt?t.flatMap(l=>l.data):t;if(r.length===0||r.some(l=>!(l instanceof mt)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(e=r[0])===null||e===void 0?void 0:e.type;switch(r.length){case 0:this._offsets=[0];break;case 1:{const{get:l,set:a,indexOf:u,byteLength:h}=vg[o.typeId],c=r[0];this.isValid=f=>Df(c,f),this.get=f=>l(c,f),this.set=(f,d)=>a(c,f,d),this.indexOf=f=>u(c,f),this.getByteLength=f=>h(c,f),this._offsets=[0,c.length];break}default:Object.setPrototypeOf(this,gg[o.typeId]),this._offsets=ug(r);break}this.data=r,this.type=o,this.stride=ki(o),this.numChildren=(s=(n=o.children)===null||n===void 0?void 0:n.length)!==null&&s!==void 0?s:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return this._byteLength===-1&&(this._byteLength=this.data.reduce((t,e)=>t+e.byteLength,0)),this._byteLength}get nullCount(){return this._nullCount===-1&&(this._nullCount=ag(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${w[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}includes(t,e){return this.indexOf(t,e)>0}getByteLength(t){return 0}[Symbol.iterator](){return Lf.visit(this)}concat(...t){return new lt(this.data.concat(t.flatMap(e=>e.data).flat(Number.POSITIVE_INFINITY)))}slice(t,e){return new lt(og(this,t,e,({data:n,_offsets:s},r,o)=>hg(n,s,r,o)))}toJSON(){return[...this]}toArray(){const{type:t,data:e,length:n,stride:s,ArrayType:r}=this;switch(t.typeId){case w.Int:case w.Float:case w.Decimal:case w.Time:case w.Timestamp:switch(e.length){case 0:return new r;case 1:return e[0].values.subarray(0,n*s);default:return e.reduce((o,{values:l,length:a})=>(o.array.set(l.subarray(0,a*s),o.offset),o.offset+=a*s,o),{array:new r(n*s),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var e;return this.getChildAt((e=this.type.children)===null||e===void 0?void 0:e.findIndex(n=>n.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new lt(this.data.map(({children:e})=>e[t])):null}get isMemoized(){return P.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(P.isDictionary(this.type)){const t=new ca(this.data[0].dictionary),e=this.data.map(n=>{const s=n.clone();return s.dictionary=t,s});return new lt(e)}return new ca(this)}unmemoize(){if(P.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),e=this.data.map(n=>{const s=n.clone();return s.dictionary=t,s});return new lt(e)}return this}}yg=Symbol.toStringTag;lt[yg]=(i=>{i.type=P.prototype,i.data=[],i.length=0,i.stride=1,i.numChildren=0,i._nullCount=-1,i._byteLength=-1,i._offsets=new Uint32Array([0]),i[Symbol.isConcatSpreadable]=!0;const t=Object.keys(w).map(e=>w[e]).filter(e=>typeof e=="number"&&e!==w.NONE);for(const e of t){const n=ve.getVisitFnByTypeId(e),s=We.getVisitFnByTypeId(e),r=ha.getVisitFnByTypeId(e),o=xi.getVisitFnByTypeId(e);vg[e]={get:n,set:s,indexOf:r,byteLength:o},gg[e]=Object.create(i,{isValid:{value:Ps(Df)},get:{value:Ps(ve.getVisitFnByTypeId(e))},set:{value:cg(We.getVisitFnByTypeId(e))},indexOf:{value:fg(ha.getVisitFnByTypeId(e))},getByteLength:{value:Ps(xi.getVisitFnByTypeId(e))}})}return"Vector"})(lt.prototype);class ca extends lt{constructor(t){super(t.data);const e=this.get,n=this.set,s=this.slice,r=new Array(this.length);Object.defineProperty(this,"get",{value(o){const l=r[o];if(l!==void 0)return l;const a=e.call(this,o);return r[o]=a,a}}),Object.defineProperty(this,"set",{value(o,l){n.call(this,o,l),r[o]=l}}),Object.defineProperty(this,"slice",{value:(o,l)=>new ca(s.call(this,o,l))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new lt(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class rc{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,e,n,s){return t.prep(8,24),t.writeInt64(s),t.pad(4),t.writeInt32(n),t.writeInt64(e),t.offset()}}const Pu=2,fi=4,Oi=4,pt=4,Zi=new Int32Array(2),Cp=new Float32Array(Zi.buffer),Ep=new Float64Array(Zi.buffer),Qo=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;let Ai=class oc{constructor(t,e){this.low=t|0,this.high=e|0}static create(t,e){return t==0&&e==0?oc.ZERO:new oc(t,e)}toFloat64(){return(this.low>>>0)+this.high*4294967296}equals(t){return this.low==t.low&&this.high==t.high}};Ai.ZERO=new Ai(0,0);var lc;(function(i){i[i.UTF8_BYTES=1]="UTF8_BYTES",i[i.UTF16_STRING=2]="UTF16_STRING"})(lc||(lc={}));let Qs=class wg{constructor(t){this.bytes_=t,this.position_=0}static allocate(t){return new wg(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return new Ai(this.readInt32(t),this.readInt32(t+4))}readUint64(t){return new Ai(this.readUint32(t),this.readUint32(t+4))}readFloat32(t){return Zi[0]=this.readInt32(t),Cp[0]}readFloat64(t){return Zi[Qo?0:1]=this.readInt32(t),Zi[Qo?1:0]=this.readInt32(t+4),Ep[0]}writeInt8(t,e){this.bytes_[t]=e}writeUint8(t,e){this.bytes_[t]=e}writeInt16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeUint16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeInt32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeUint32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeInt64(t,e){this.writeInt32(t,e.low),this.writeInt32(t+4,e.high)}writeUint64(t,e){this.writeUint32(t,e.low),this.writeUint32(t+4,e.high)}writeFloat32(t,e){Cp[0]=e,this.writeInt32(t,Zi[0])}writeFloat64(t,e){Ep[0]=e,this.writeInt32(t,Zi[Qo?0:1]),this.writeInt32(t+4,Zi[Qo?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+fi+Oi)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let e=0;e<Oi;e++)t+=String.fromCharCode(this.readInt8(this.position_+fi+e));return t}__offset(t,e){const n=t-this.readInt32(t);return e<this.readInt16(n)?this.readInt16(n+e):0}__union(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t}__string(t,e){t+=this.readInt32(t);const n=this.readInt32(t);let s="",r=0;if(t+=fi,e===lc.UTF8_BYTES)return this.bytes_.subarray(t,t+n);for(;r<n;){let o;const l=this.readUint8(t+r++);if(l<192)o=l;else{const a=this.readUint8(t+r++);if(l<224)o=(l&31)<<6|a&63;else{const u=this.readUint8(t+r++);if(l<240)o=(l&15)<<12|(a&63)<<6|u&63;else{const h=this.readUint8(t+r++);o=(l&7)<<18|(a&63)<<12|(u&63)<<6|h&63}}}o<65536?s+=String.fromCharCode(o):(o-=65536,s+=String.fromCharCode((o>>10)+55296,(o&1023)+56320))}return s}__union_with_string(t,e){return typeof t=="string"?this.__string(e):this.__union(t,e)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+fi}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=Oi)throw new Error("FlatBuffers: file identifier must be length "+Oi);for(let e=0;e<Oi;e++)if(t.charCodeAt(e)!=this.readInt8(this.position()+fi+e))return!1;return!0}createLong(t,e){return Ai.create(t,e)}createScalarList(t,e){const n=[];for(let s=0;s<e;++s)t(s)!==null&&n.push(t(s));return n}createObjList(t,e){const n=[];for(let s=0;s<e;++s){const r=t(s);r!==null&&n.push(r.unpack())}return n}},bg=class _g{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null;let e;t?e=t:e=1024,this.bb=Qs.allocate(e),this.space=e}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,e){t>this.minalign&&(this.minalign=t);const n=~(this.bb.capacity()-this.space+e)+1&t-1;for(;this.space<n+t+e;){const s=this.bb.capacity();this.bb=_g.growByteBuffer(this.bb),this.space+=this.bb.capacity()-s}this.pad(n)}pad(t){for(let e=0;e<t;e++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,e,n){(this.force_defaults||e!=n)&&(this.addInt8(e),this.slot(t))}addFieldInt16(t,e,n){(this.force_defaults||e!=n)&&(this.addInt16(e),this.slot(t))}addFieldInt32(t,e,n){(this.force_defaults||e!=n)&&(this.addInt32(e),this.slot(t))}addFieldInt64(t,e,n){(this.force_defaults||!e.equals(n))&&(this.addInt64(e),this.slot(t))}addFieldFloat32(t,e,n){(this.force_defaults||e!=n)&&(this.addFloat32(e),this.slot(t))}addFieldFloat64(t,e,n){(this.force_defaults||e!=n)&&(this.addFloat64(e),this.slot(t))}addFieldOffset(t,e,n){(this.force_defaults||e!=n)&&(this.addOffset(e),this.slot(t))}addFieldStruct(t,e,n){e!=n&&(this.nested(e),this.slot(t))}nested(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const e=t.capacity();if(e&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const n=e<<1,s=Qs.allocate(n);return s.setPosition(n-e),s.bytes().set(t.bytes(),n-e),s}addOffset(t){this.prep(fi,0),this.writeInt32(this.offset()-t+fi)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let e=0;e<t;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let e=this.vtable_in_use-1;for(;e>=0&&this.vtable[e]==0;e--);const n=e+1;for(;e>=0;e--)this.addInt16(this.vtable[e]!=0?t-this.vtable[e]:0);const s=2;this.addInt16(t-this.object_start);const r=(n+s)*Pu;this.addInt16(r);let o=0;const l=this.space;t:for(e=0;e<this.vtables.length;e++){const a=this.bb.capacity()-this.vtables[e];if(r==this.bb.readInt16(a)){for(let u=Pu;u<r;u+=Pu)if(this.bb.readInt16(l+u)!=this.bb.readInt16(a+u))continue t;o=this.vtables[e];break}}return o?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,o-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,e,n){const s=n?pt:0;if(e){const r=e;if(this.prep(this.minalign,fi+Oi+s),r.length!=Oi)throw new Error("FlatBuffers: file identifier must be length "+Oi);for(let o=Oi-1;o>=0;o--)this.writeInt8(r.charCodeAt(o))}this.prep(this.minalign,fi+s),this.addOffset(t),s&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,e){this.finish(t,e,!0)}requiredField(t,e){const n=this.bb.capacity()-t,s=n-this.bb.readInt32(n);if(!(this.bb.readInt16(s+e)!=0))throw new Error("FlatBuffers: field "+e+" must be set")}startVector(t,e,n){this.notNested(),this.vector_num_elems=e,this.prep(fi,t*e),this.prep(n,t*e)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const e=this.createString(t);return this.string_maps.set(t,e),e}createString(t){if(!t)return 0;let e;if(t instanceof Uint8Array)e=t;else{e=[];let n=0;for(;n<t.length;){let s;const r=t.charCodeAt(n++);if(r<55296||r>=56320)s=r;else{const o=t.charCodeAt(n++);s=(r<<10)+o+-56613888}s<128?e.push(s):(s<2048?e.push(s>>6&31|192):(s<65536?e.push(s>>12&15|224):e.push(s>>18&7|240,s>>12&63|128),e.push(s>>6&63|128)),e.push(s&63|128))}}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);for(let n=0,s=this.space,r=this.bb.bytes();n<e.length;n++)r[s++]=e[n];return this.endVector()}createLong(t,e){return Ai.create(t,e)}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const e=[];for(let n=0;n<t.length;++n){const s=t[n];if(s!==null)e.push(this.createObjectOffset(s));else throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return e}createStructOffsetList(t,e){return e(this,t.length),this.createObjectOffsetList(t),this.endVector()}};class Rt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsKeyValue(t,e){return(e||new Rt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,e){return t.setPosition(t.position()+pt),(e||new Rt).__init(t.readInt32(t.position())+t.position(),t)}key(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}value(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,e){t.addFieldOffset(0,e,0)}static addValue(t,e){t.addFieldOffset(1,e,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,e,n){return Rt.startKeyValue(t),Rt.addKey(t,e),Rt.addValue(t,n),Rt.endKeyValue(t)}}var Js;(function(i){i[i.V1=0]="V1",i[i.V2=1]="V2",i[i.V3=2]="V3",i[i.V4=3]="V4",i[i.V5=4]="V5"})(Js||(Js={}));var Gs;(function(i){i[i.Little=0]="Little",i[i.Big=1]="Big"})(Gs||(Gs={}));var fa;(function(i){i[i.DenseArray=0]="DenseArray"})(fa||(fa={}));class xe{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInt(t,e){return(e||new xe).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,e){return t.setPosition(t.position()+pt),(e||new xe).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,e){t.addFieldInt32(0,e,0)}static addIsSigned(t,e){t.addFieldInt8(1,+e,0)}static endInt(t){return t.endObject()}static createInt(t,e,n){return xe.startInt(t),xe.addBitWidth(t,e),xe.addIsSigned(t,n),xe.endInt(t)}}class Bi{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryEncoding(t,e){return(e||new Bi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,e){return t.setPosition(t.position()+pt),(e||new Bi).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}indexType(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new xe).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):fa.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addIndexType(t,e){t.addFieldOffset(1,e,0)}static addIsOrdered(t,e){t.addFieldInt8(2,+e,0)}static addDictionaryKind(t,e){t.addFieldInt16(3,e,fa.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class Fn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBinary(t,e){return(e||new Fn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,e){return t.setPosition(t.position()+pt),(e||new Fn).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return Fn.startBinary(t),Fn.endBinary(t)}}class Rn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBool(t,e){return(e||new Rn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,e){return t.setPosition(t.position()+pt),(e||new Rn).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return Rn.startBool(t),Rn.endBool(t)}}var da;(function(i){i[i.DAY=0]="DAY",i[i.MILLISECOND=1]="MILLISECOND"})(da||(da={}));let bl=class cs{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDate(t,e){return(e||new cs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,e){return t.setPosition(t.position()+pt),(e||new cs).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):da.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,da.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,e){return cs.startDate(t),cs.addUnit(t,e),cs.endDate(t)}};class oe{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDecimal(t,e){return(e||new oe).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,e){return t.setPosition(t.position()+pt),(e||new oe).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,e){t.addFieldInt32(0,e,0)}static addScale(t,e){t.addFieldInt32(1,e,0)}static addBitWidth(t,e){t.addFieldInt32(2,e,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,e,n,s){return oe.startDecimal(t),oe.addPrecision(t,e),oe.addScale(t,n),oe.addBitWidth(t,s),oe.endDecimal(t)}}var qs;(function(i){i[i.SECOND=0]="SECOND",i[i.MILLISECOND=1]="MILLISECOND",i[i.MICROSECOND=2]="MICROSECOND",i[i.NANOSECOND=3]="NANOSECOND"})(qs||(qs={}));class di{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeBinary(t,e){return(e||new di).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,e){return t.setPosition(t.position()+pt),(e||new di).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,e){return di.startFixedSizeBinary(t),di.addByteWidth(t,e),di.endFixedSizeBinary(t)}}class pi{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeList(t,e){return(e||new pi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,e){return t.setPosition(t.position()+pt),(e||new pi).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,e){return pi.startFixedSizeList(t),pi.addListSize(t,e),pi.endFixedSizeList(t)}}var pa;(function(i){i[i.HALF=0]="HALF",i[i.SINGLE=1]="SINGLE",i[i.DOUBLE=2]="DOUBLE"})(pa||(pa={}));class mi{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFloatingPoint(t,e){return(e||new mi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,e){return t.setPosition(t.position()+pt),(e||new mi).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):pa.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,e){t.addFieldInt16(0,e,pa.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,e){return mi.startFloatingPoint(t),mi.addPrecision(t,e),mi.endFloatingPoint(t)}}var ma;(function(i){i[i.YEAR_MONTH=0]="YEAR_MONTH",i[i.DAY_TIME=1]="DAY_TIME",i[i.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(ma||(ma={}));class yi{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInterval(t,e){return(e||new yi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,e){return t.setPosition(t.position()+pt),(e||new yi).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):ma.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,ma.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,e){return yi.startInterval(t),yi.addUnit(t,e),yi.endInterval(t)}}class An{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsList(t,e){return(e||new An).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,e){return t.setPosition(t.position()+pt),(e||new An).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return An.startList(t),An.endList(t)}}let _l=class fs{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMap(t,e){return(e||new fs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,e){return t.setPosition(t.position()+pt),(e||new fs).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,e){t.addFieldInt8(0,+e,0)}static endMap(t){return t.endObject()}static createMap(t,e){return fs.startMap(t),fs.addKeysSorted(t,e),fs.endMap(t)}};class Pn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsNull(t,e){return(e||new Pn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,e){return t.setPosition(t.position()+pt),(e||new Pn).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return Pn.startNull(t),Pn.endNull(t)}}class $n{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsStruct_(t,e){return(e||new $n).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,e){return t.setPosition(t.position()+pt),(e||new $n).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return $n.startStruct_(t),$n.endStruct_(t)}}class Ae{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTime(t,e){return(e||new Ae).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,e){return t.setPosition(t.position()+pt),(e||new Ae).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):qs.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,qs.MILLISECOND)}static addBitWidth(t,e){t.addFieldInt32(1,e,32)}static endTime(t){return t.endObject()}static createTime(t,e,n){return Ae.startTime(t),Ae.addUnit(t,e),Ae.addBitWidth(t,n),Ae.endTime(t)}}class Pe{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTimestamp(t,e){return(e||new Pe).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,e){return t.setPosition(t.position()+pt),(e||new Pe).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):qs.SECOND}timezone(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,qs.SECOND)}static addTimezone(t,e){t.addFieldOffset(1,e,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,e,n){return Pe.startTimestamp(t),Pe.addUnit(t,e),Pe.addTimezone(t,n),Pe.endTimestamp(t)}}var ya;(function(i){i[i.Sparse=0]="Sparse",i[i.Dense=1]="Dense"})(ya||(ya={}));class ae{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUnion(t,e){return(e||new ae).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,e){return t.setPosition(t.position()+pt),(e||new ae).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):ya.Sparse}typeIds(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,e){t.addFieldInt16(0,e,ya.Sparse)}static addTypeIds(t,e){t.addFieldOffset(1,e,0)}static createTypeIdsVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addInt32(e[n]);return t.endVector()}static startTypeIdsVector(t,e){t.startVector(4,e,4)}static endUnion(t){return t.endObject()}static createUnion(t,e,n){return ae.startUnion(t),ae.addMode(t,e),ae.addTypeIds(t,n),ae.endUnion(t)}}class Vn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUtf8(t,e){return(e||new Vn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,e){return t.setPosition(t.position()+pt),(e||new Vn).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return Vn.startUtf8(t),Vn.endUtf8(t)}}var xt;(function(i){i[i.NONE=0]="NONE",i[i.Null=1]="Null",i[i.Int=2]="Int",i[i.FloatingPoint=3]="FloatingPoint",i[i.Binary=4]="Binary",i[i.Utf8=5]="Utf8",i[i.Bool=6]="Bool",i[i.Decimal=7]="Decimal",i[i.Date=8]="Date",i[i.Time=9]="Time",i[i.Timestamp=10]="Timestamp",i[i.Interval=11]="Interval",i[i.List=12]="List",i[i.Struct_=13]="Struct_",i[i.Union=14]="Union",i[i.FixedSizeBinary=15]="FixedSizeBinary",i[i.FixedSizeList=16]="FixedSizeList",i[i.Map=17]="Map",i[i.Duration=18]="Duration",i[i.LargeBinary=19]="LargeBinary",i[i.LargeUtf8=20]="LargeUtf8",i[i.LargeList=21]="LargeList"})(xt||(xt={}));let ze=class Sl{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsField(t,e){return(e||new Sl).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,e){return t.setPosition(t.position()+pt),(e||new Sl).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):xt.NONE}type(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__union(t,this.bb_pos+e):null}dictionary(t){const e=this.bb.__offset(this.bb_pos,12);return e?(t||new Bi).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}children(t,e){const n=this.bb.__offset(this.bb_pos,14);return n?(e||new Sl).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,16);return n?(e||new Rt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,e){t.addFieldOffset(0,e,0)}static addNullable(t,e){t.addFieldInt8(1,+e,0)}static addTypeType(t,e){t.addFieldInt8(2,e,xt.NONE)}static addType(t,e){t.addFieldOffset(3,e,0)}static addDictionary(t,e){t.addFieldOffset(4,e,0)}static addChildren(t,e){t.addFieldOffset(5,e,0)}static createChildrenVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startChildrenVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(6,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endField(t){return t.endObject()}},ai=class Ii{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSchema(t,e){return(e||new Ii).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,e){return t.setPosition(t.position()+pt),(e||new Ii).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Gs.Little}fields(t,e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new ze).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,8);return n?(e||new Rt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+t*8):this.bb.createLong(0,0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,e){t.addFieldInt16(0,e,Gs.Little)}static addFields(t,e){t.addFieldOffset(1,e,0)}static createFieldsVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startFieldsVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(2,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static addFeatures(t,e){t.addFieldOffset(3,e,0)}static createFeaturesVector(t,e){t.startVector(8,e.length,8);for(let n=e.length-1;n>=0;n--)t.addInt64(e[n]);return t.endVector()}static startFeaturesVector(t,e){t.startVector(8,e,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,e){t.finish(e)}static finishSizePrefixedSchemaBuffer(t,e){t.finish(e,void 0,!0)}static createSchema(t,e,n,s,r){return Ii.startSchema(t),Ii.addEndianness(t,e),Ii.addFields(t,n),Ii.addCustomMetadata(t,s),Ii.addFeatures(t,r),Ii.endSchema(t)}};class _e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFooter(t,e){return(e||new _e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,e){return t.setPosition(t.position()+pt),(e||new _e).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Js.V1}schema(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new ai).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}dictionaries(t,e){const n=this.bb.__offset(this.bb_pos,8);return n?(e||new rc).__init(this.bb.__vector(this.bb_pos+n)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,e){const n=this.bb.__offset(this.bb_pos,10);return n?(e||new rc).__init(this.bb.__vector(this.bb_pos+n)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,12);return n?(e||new Rt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,Js.V1)}static addSchema(t,e){t.addFieldOffset(1,e,0)}static addDictionaries(t,e){t.addFieldOffset(2,e,0)}static startDictionariesVector(t,e){t.startVector(24,e,8)}static addRecordBatches(t,e){t.addFieldOffset(3,e,0)}static startRecordBatchesVector(t,e){t.startVector(24,e,8)}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,e){t.finish(e)}static finishSizePrefixedFooterBuffer(t,e){t.finish(e,void 0,!0)}}class at{constructor(t=[],e,n){this.fields=t||[],this.metadata=e||new Map,n||(n=ac(t)),this.dictionaries=n}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,e)=>`${e}: ${t}`).join(", ")} }>`}select(t){const e=new Set(t),n=this.fields.filter(s=>e.has(s.name));return new at(n,this.metadata)}selectAt(t){const e=t.map(n=>this.fields[n]).filter(Boolean);return new at(e,this.metadata)}assign(...t){const e=t[0]instanceof at?t[0]:Array.isArray(t[0])?new at(t[0]):new at(t),n=[...this.fields],s=Jo(Jo(new Map,this.metadata),e.metadata),r=e.fields.filter(l=>{const a=n.findIndex(u=>u.name===l.name);return~a?(n[a]=l.clone({metadata:Jo(Jo(new Map,n[a].metadata),l.metadata)}))&&!1:!0}),o=ac(r,new Map);return new at([...n,...r],s,new Map([...this.dictionaries,...o]))}}at.prototype.fields=null;at.prototype.metadata=null;at.prototype.dictionaries=null;class _t{constructor(t,e,n=!1,s){this.name=t,this.type=e,this.nullable=n,this.metadata=s||new Map}static new(...t){let[e,n,s,r]=t;return t[0]&&typeof t[0]=="object"&&({name:e}=t[0],n===void 0&&(n=t[0].type),s===void 0&&(s=t[0].nullable),r===void 0&&(r=t[0].metadata)),new _t(`${e}`,n,s,r)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[e,n,s,r]=t;return!t[0]||typeof t[0]!="object"?[e=this.name,n=this.type,s=this.nullable,r=this.metadata]=t:{name:e=this.name,type:n=this.type,nullable:s=this.nullable,metadata:r=this.metadata}=t[0],_t.new(e,n,s,r)}}_t.prototype.type=null;_t.prototype.name=null;_t.prototype.nullable=null;_t.prototype.metadata=null;function Jo(i,t){return new Map([...i||new Map,...t||new Map])}function ac(i,t=new Map){for(let e=-1,n=i.length;++e<n;){const r=i[e].type;if(P.isDictionary(r)){if(!t.has(r.id))t.set(r.id,r.dictionary);else if(t.get(r.id)!==r.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}r.children&&r.children.length>0&&ac(r.children,t)}return t}var kp=Ai,VS=bg,US=Qs;class ao{constructor(t,e=Me.V4,n,s){this.schema=t,this.version=e,n&&(this._recordBatches=n),s&&(this._dictionaryBatches=s)}static decode(t){t=new US(nt(t));const e=_e.getRootAsFooter(t),n=at.decode(e.schema());return new jS(n,e)}static encode(t){const e=new VS,n=at.encode(e,t.schema);_e.startRecordBatchesVector(e,t.numRecordBatches);for(const o of[...t.recordBatches()].slice().reverse())bn.encode(e,o);const s=e.endVector();_e.startDictionariesVector(e,t.numDictionaries);for(const o of[...t.dictionaryBatches()].slice().reverse())bn.encode(e,o);const r=e.endVector();return _e.startFooter(e),_e.addSchema(e,n),_e.addVersion(e,Me.V4),_e.addRecordBatches(e,s),_e.addDictionaries(e,r),_e.finishFooterBuffer(e,_e.endFooter(e)),e.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let t,e=-1,n=this.numRecordBatches;++e<n;)(t=this.getRecordBatch(e))&&(yield t)}*dictionaryBatches(){for(let t,e=-1,n=this.numDictionaries;++e<n;)(t=this.getDictionaryBatch(e))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class jS extends ao{constructor(t,e){super(t,e.version()),this._footer=e}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const e=this._footer.recordBatches(t);if(e)return bn.decode(e)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const e=this._footer.dictionaries(t);if(e)return bn.decode(e)}return null}}class bn{constructor(t,e,n){this.metaDataLength=t,this.offset=typeof n=="number"?n:n.low,this.bodyLength=typeof e=="number"?e:e.low}static decode(t){return new bn(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,e){const{metaDataLength:n}=e,s=new kp(e.offset,0),r=new kp(e.bodyLength,0);return rc.createBlock(t,s,n,r)}}const It=Object.freeze({done:!0,value:void 0});class Np{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class Ff{tee(){return this._getDOMStream().tee()}pipe(t,e){return this._getNodeStream().pipe(t,e)}pipeTo(t,e){return this._getDOMStream().pipeTo(t,e)}pipeThrough(t,e){return this._getDOMStream().pipeThrough(t,e)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class WS extends Ff{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return R(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(It);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return Le.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return Le.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return R(this,void 0,void 0,function*(){return yield this.abort(t),It})}return(t){return R(this,void 0,void 0,function*(){return yield this.close(),It})}read(t){return R(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return R(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((e,n)=>{this.resolvers.push({resolve:e,reject:n})}):Promise.resolve(It)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class xl extends WS{write(t){if((t=nt(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?tc(this.toUint8Array(!0)):this.toUint8Array(!1).then(tc)}toUint8Array(t=!1){return t?Si(this._values)[0]:R(this,void 0,void 0,function*(){var e,n;const s=[];let r=0;try{for(var o=Wn(this),l;l=yield o.next(),!l.done;){const a=l.value;s.push(a),r+=a.byteLength}}catch(a){e={error:a}}finally{try{l&&!l.done&&(n=o.return)&&(yield n.call(o))}finally{if(e)throw e.error}}return Si(s,r)[0]})}}class va{constructor(t){t&&(this.source=new HS(Le.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class Zs{constructor(t){t instanceof Zs?this.source=t.source:t instanceof xl?this.source=new Nn(Le.fromAsyncIterable(t)):n0(t)?this.source=new Nn(Le.fromNodeStream(t)):Sf(t)?this.source=new Nn(Le.fromDOMStream(t)):i0(t)?this.source=new Nn(Le.fromDOMStream(t.body)):xo(t)?this.source=new Nn(Le.fromIterable(t)):yn(t)?this.source=new Nn(Le.fromAsyncIterable(t)):or(t)&&(this.source=new Nn(Le.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class HS{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t,e="read"){return this.source.next({cmd:e,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||It)}return(t){return Object.create(this.source.return&&this.source.return(t)||It)}}class Nn{constructor(t){this.source=t,this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}cancel(t){return R(this,void 0,void 0,function*(){yield this.return(t)})}get closed(){return this._closedPromise}read(t){return R(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return R(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(t,e="read"){return R(this,void 0,void 0,function*(){return yield this.source.next({cmd:e,size:t})})}throw(t){return R(this,void 0,void 0,function*(){const e=this.source.throw&&(yield this.source.throw(t))||It;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)})}return(t){return R(this,void 0,void 0,function*(){const e=this.source.return&&(yield this.source.return(t))||It;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)})}}class Tp extends va{constructor(t,e){super(),this.position=0,this.buffer=nt(t),this.size=typeof e>"u"?this.buffer.byteLength:e}readInt32(t){const{buffer:e,byteOffset:n}=this.readAt(t,4);return new DataView(e,n).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){const{buffer:e,size:n,position:s}=this;return e&&s<n?(typeof t!="number"&&(t=Number.POSITIVE_INFINITY),this.position=Math.min(n,s+Math.min(n-s,t)),e.subarray(s,this.position)):null}readAt(t,e){const n=this.buffer,s=Math.min(this.size,t+e);return n?n.subarray(t,s):new Uint8Array(e)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}}class ga extends Zs{constructor(t,e){super(),this.position=0,this._handle=t,typeof e=="number"?this.size=e:this._pending=R(this,void 0,void 0,function*(){this.size=(yield t.stat()).size,delete this._pending})}readInt32(t){return R(this,void 0,void 0,function*(){const{buffer:e,byteOffset:n}=yield this.readAt(t,4);return new DataView(e,n).getInt32(0,!0)})}seek(t){return R(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(t,this.size),t<this.size})}read(t){return R(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:e,size:n,position:s}=this;if(e&&s<n){typeof t!="number"&&(t=Number.POSITIVE_INFINITY);let r=s,o=0,l=0;const a=Math.min(n,r+Math.min(n-r,t)),u=new Uint8Array(Math.max(0,(this.position=a)-r));for(;(r+=l)<a&&(o+=l)<u.byteLength;)({bytesRead:l}=yield e.read(u,o,u.byteLength-o,r));return u}return null})}readAt(t,e){return R(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:n,size:s}=this;if(n&&t+e<s){const r=Math.min(s,t+e),o=new Uint8Array(r-t);return(yield n.read(o,0,e,t)).buffer}return new Uint8Array(e)})}close(){return R(this,void 0,void 0,function*(){const t=this._handle;this._handle=null,t&&(yield t.close())})}throw(t){return R(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}return(t){return R(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}}const KS=65536;function Cs(i){return i<0&&(i=4294967295+i+1),`0x${i.toString(16)}`}const tr=8,Rf=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class Sg{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){const e=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),n=new Uint32Array([t.buffer[1]>>>16,t.buffer[1]&65535,t.buffer[0]>>>16,t.buffer[0]&65535]);let s=e[3]*n[3];this.buffer[0]=s&65535;let r=s>>>16;return s=e[2]*n[3],r+=s,s=e[3]*n[2]>>>0,r+=s,this.buffer[0]+=r<<16,this.buffer[1]=r>>>0<s?KS:0,this.buffer[1]+=r>>>16,this.buffer[1]+=e[1]*n[3]+e[2]*n[2]+e[3]*n[1],this.buffer[1]+=e[0]*n[3]+e[1]*n[2]+e[2]*n[1]+e[3]*n[0]<<16,this}_plus(t){const e=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],e<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=e}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return`${Cs(this.buffer[1])} ${Cs(this.buffer[0])}`}}class ut extends Sg{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t,e=new Uint32Array(2)){return ut.fromString(typeof t=="string"?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(2)){return ut.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(2)){const n=t.length,s=new ut(e);for(let r=0;r<n;){const o=tr<n-r?tr:n-r,l=new ut(new Uint32Array([Number.parseInt(t.slice(r,r+o),10),0])),a=new ut(new Uint32Array([Rf[o],0]));s.times(a),s.plus(l),r+=o}return s}static convertArray(t){const e=new Uint32Array(t.length*2);for(let n=-1,s=t.length;++n<s;)ut.from(t[n],new Uint32Array(e.buffer,e.byteOffset+2*n*4,2));return e}static multiply(t,e){return new ut(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new ut(new Uint32Array(t.buffer)).plus(e)}}class re extends Sg{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){const e=this.buffer[1]<<0,n=t.buffer[1]<<0;return e<n||e===n&&this.buffer[0]<t.buffer[0]}static from(t,e=new Uint32Array(2)){return re.fromString(typeof t=="string"?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(2)){return re.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(2)){const n=t.startsWith("-"),s=t.length,r=new re(e);for(let o=n?1:0;o<s;){const l=tr<s-o?tr:s-o,a=new re(new Uint32Array([Number.parseInt(t.slice(o,o+l),10),0])),u=new re(new Uint32Array([Rf[l],0]));r.times(u),r.plus(a),o+=l}return n?r.negate():r}static convertArray(t){const e=new Uint32Array(t.length*2);for(let n=-1,s=t.length;++n<s;)re.from(t[n],new Uint32Array(e.buffer,e.byteOffset+2*n*4,2));return e}static multiply(t,e){return new re(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new re(new Uint32Array(t.buffer)).plus(e)}}class ui{constructor(t){this.buffer=t}high(){return new re(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new re(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(t){const e=new ut(new Uint32Array([this.buffer[3],0])),n=new ut(new Uint32Array([this.buffer[2],0])),s=new ut(new Uint32Array([this.buffer[1],0])),r=new ut(new Uint32Array([this.buffer[0],0])),o=new ut(new Uint32Array([t.buffer[3],0])),l=new ut(new Uint32Array([t.buffer[2],0])),a=new ut(new Uint32Array([t.buffer[1],0])),u=new ut(new Uint32Array([t.buffer[0],0]));let h=ut.multiply(r,u);this.buffer[0]=h.low();const c=new ut(new Uint32Array([h.high(),0]));return h=ut.multiply(s,u),c.plus(h),h=ut.multiply(r,a),c.plus(h),this.buffer[1]=c.low(),this.buffer[3]=c.lessThan(h)?1:0,this.buffer[2]=c.high(),new ut(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(ut.multiply(n,u)).plus(ut.multiply(s,a)).plus(ut.multiply(r,l)),this.buffer[3]+=ut.multiply(e,u).plus(ut.multiply(n,a)).plus(ut.multiply(s,l)).plus(ut.multiply(r,o)).low(),this}plus(t){const e=new Uint32Array(4);return e[3]=this.buffer[3]+t.buffer[3]>>>0,e[2]=this.buffer[2]+t.buffer[2]>>>0,e[1]=this.buffer[1]+t.buffer[1]>>>0,e[0]=this.buffer[0]+t.buffer[0]>>>0,e[0]<this.buffer[0]>>>0&&++e[1],e[1]<this.buffer[1]>>>0&&++e[2],e[2]<this.buffer[2]>>>0&&++e[3],this.buffer[3]=e[3],this.buffer[2]=e[2],this.buffer[1]=e[1],this.buffer[0]=e[0],this}hex(){return`${Cs(this.buffer[3])} ${Cs(this.buffer[2])} ${Cs(this.buffer[1])} ${Cs(this.buffer[0])}`}static multiply(t,e){return new ui(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new ui(new Uint32Array(t.buffer)).plus(e)}static from(t,e=new Uint32Array(4)){return ui.fromString(typeof t=="string"?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(4)){return ui.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(4)){const n=t.startsWith("-"),s=t.length,r=new ui(e);for(let o=n?1:0;o<s;){const l=tr<s-o?tr:s-o,a=new ui(new Uint32Array([Number.parseInt(t.slice(o,o+l),10),0,0,0])),u=new ui(new Uint32Array([Rf[l],0,0,0]));r.times(u),r.plus(a),o+=l}return n?r.negate():r}static convertArray(t){const e=new Uint32Array(t.length*4);for(let n=-1,s=t.length;++n<s;)ui.from(t[n],new Uint32Array(e.buffer,e.byteOffset+4*4*n,4));return e}}class xg extends Z{constructor(t,e,n,s){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=e,this.buffers=n,this.dictionaries=s}visit(t){return super.visit(t instanceof _t?t.type:t)}visitNull(t,{length:e}=this.nextFieldNode()){return q({type:t,length:e})}visitBool(t,{length:e,nullCount:n}=this.nextFieldNode()){return q({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitInt(t,{length:e,nullCount:n}=this.nextFieldNode()){return q({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitFloat(t,{length:e,nullCount:n}=this.nextFieldNode()){return q({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitUtf8(t,{length:e,nullCount:n}=this.nextFieldNode()){return q({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitBinary(t,{length:e,nullCount:n}=this.nextFieldNode()){return q({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitFixedSizeBinary(t,{length:e,nullCount:n}=this.nextFieldNode()){return q({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitDate(t,{length:e,nullCount:n}=this.nextFieldNode()){return q({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitTimestamp(t,{length:e,nullCount:n}=this.nextFieldNode()){return q({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitTime(t,{length:e,nullCount:n}=this.nextFieldNode()){return q({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitDecimal(t,{length:e,nullCount:n}=this.nextFieldNode()){return q({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitList(t,{length:e,nullCount:n}=this.nextFieldNode()){return q({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}visitStruct(t,{length:e,nullCount:n}=this.nextFieldNode()){return q({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),children:this.visitMany(t.children)})}visitUnion(t){return t.mode===ke.Sparse?this.visitSparseUnion(t):this.visitDenseUnion(t)}visitDenseUnion(t,{length:e,nullCount:n}=this.nextFieldNode()){return q({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),typeIds:this.readTypeIds(t),valueOffsets:this.readOffsets(t),children:this.visitMany(t.children)})}visitSparseUnion(t,{length:e,nullCount:n}=this.nextFieldNode()){return q({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),typeIds:this.readTypeIds(t),children:this.visitMany(t.children)})}visitDictionary(t,{length:e,nullCount:n}=this.nextFieldNode()){return q({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t.indices),dictionary:this.readDictionary(t)})}visitInterval(t,{length:e,nullCount:n}=this.nextFieldNode()){return q({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitFixedSizeList(t,{length:e,nullCount:n}=this.nextFieldNode()){return q({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),child:this.visit(t.children[0])})}visitMap(t,{length:e,nullCount:n}=this.nextFieldNode()){return q({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,e,n=this.nextBufferRange()){return e>0&&this.readData(t,n)||new Uint8Array(0)}readOffsets(t,e){return this.readData(t,e)}readTypeIds(t,e){return this.readData(t,e)}readData(t,{length:e,offset:n}=this.nextBufferRange()){return this.bytes.subarray(n,n+e)}readDictionary(t){return this.dictionaries.get(t.id)}}class YS extends xg{constructor(t,e,n,s){super(new Uint8Array(0),e,n,s),this.sources=t}readNullBitmap(t,e,{offset:n}=this.nextBufferRange()){return e<=0?new Uint8Array(0):ua(this.sources[n])}readOffsets(t,{offset:e}=this.nextBufferRange()){return dt(Uint8Array,dt(Int32Array,this.sources[e]))}readTypeIds(t,{offset:e}=this.nextBufferRange()){return dt(Uint8Array,dt(t.ArrayType,this.sources[e]))}readData(t,{offset:e}=this.nextBufferRange()){const{sources:n}=this;return P.isTimestamp(t)||(P.isInt(t)||P.isTime(t))&&t.bitWidth===64||P.isDate(t)&&t.unit===Wi.MILLISECOND?dt(Uint8Array,re.convertArray(n[e])):P.isDecimal(t)?dt(Uint8Array,ui.convertArray(n[e])):P.isBinary(t)||P.isFixedSizeBinary(t)?XS(n[e]):P.isBool(t)?ua(n[e]):P.isUtf8(t)?_f(n[e].join("")):dt(Uint8Array,dt(t.ArrayType,n[e].map(s=>+s)))}}function XS(i){const t=i.join(""),e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2)e[n>>1]=Number.parseInt(t.slice(n,n+2),16);return e}class j extends Z{compareSchemas(t,e){return t===e||e instanceof t.constructor&&this.compareManyFields(t.fields,e.fields)}compareManyFields(t,e){return t===e||Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every((n,s)=>this.compareFields(n,e[s]))}compareFields(t,e){return t===e||e instanceof t.constructor&&t.name===e.name&&t.nullable===e.nullable&&this.visit(t.type,e.type)}}function ge(i,t){return t instanceof i.constructor}function Mo(i,t){return i===t||ge(i,t)}function Yi(i,t){return i===t||ge(i,t)&&i.bitWidth===t.bitWidth&&i.isSigned===t.isSigned}function iu(i,t){return i===t||ge(i,t)&&i.precision===t.precision}function QS(i,t){return i===t||ge(i,t)&&i.byteWidth===t.byteWidth}function Af(i,t){return i===t||ge(i,t)&&i.unit===t.unit}function Io(i,t){return i===t||ge(i,t)&&i.unit===t.unit&&i.timezone===t.timezone}function Co(i,t){return i===t||ge(i,t)&&i.unit===t.unit&&i.bitWidth===t.bitWidth}function JS(i,t){return i===t||ge(i,t)&&i.children.length===t.children.length&&_n.compareManyFields(i.children,t.children)}function GS(i,t){return i===t||ge(i,t)&&i.children.length===t.children.length&&_n.compareManyFields(i.children,t.children)}function Pf(i,t){return i===t||ge(i,t)&&i.mode===t.mode&&i.typeIds.every((e,n)=>e===t.typeIds[n])&&_n.compareManyFields(i.children,t.children)}function qS(i,t){return i===t||ge(i,t)&&i.id===t.id&&i.isOrdered===t.isOrdered&&_n.visit(i.indices,t.indices)&&_n.visit(i.dictionary,t.dictionary)}function $f(i,t){return i===t||ge(i,t)&&i.unit===t.unit}function ZS(i,t){return i===t||ge(i,t)&&i.listSize===t.listSize&&i.children.length===t.children.length&&_n.compareManyFields(i.children,t.children)}function tx(i,t){return i===t||ge(i,t)&&i.keysSorted===t.keysSorted&&i.children.length===t.children.length&&_n.compareManyFields(i.children,t.children)}j.prototype.visitNull=Mo;j.prototype.visitBool=Mo;j.prototype.visitInt=Yi;j.prototype.visitInt8=Yi;j.prototype.visitInt16=Yi;j.prototype.visitInt32=Yi;j.prototype.visitInt64=Yi;j.prototype.visitUint8=Yi;j.prototype.visitUint16=Yi;j.prototype.visitUint32=Yi;j.prototype.visitUint64=Yi;j.prototype.visitFloat=iu;j.prototype.visitFloat16=iu;j.prototype.visitFloat32=iu;j.prototype.visitFloat64=iu;j.prototype.visitUtf8=Mo;j.prototype.visitBinary=Mo;j.prototype.visitFixedSizeBinary=QS;j.prototype.visitDate=Af;j.prototype.visitDateDay=Af;j.prototype.visitDateMillisecond=Af;j.prototype.visitTimestamp=Io;j.prototype.visitTimestampSecond=Io;j.prototype.visitTimestampMillisecond=Io;j.prototype.visitTimestampMicrosecond=Io;j.prototype.visitTimestampNanosecond=Io;j.prototype.visitTime=Co;j.prototype.visitTimeSecond=Co;j.prototype.visitTimeMillisecond=Co;j.prototype.visitTimeMicrosecond=Co;j.prototype.visitTimeNanosecond=Co;j.prototype.visitDecimal=Mo;j.prototype.visitList=JS;j.prototype.visitStruct=GS;j.prototype.visitUnion=Pf;j.prototype.visitDenseUnion=Pf;j.prototype.visitSparseUnion=Pf;j.prototype.visitDictionary=qS;j.prototype.visitInterval=$f;j.prototype.visitIntervalDayTime=$f;j.prototype.visitIntervalYearMonth=$f;j.prototype.visitFixedSizeList=ZS;j.prototype.visitMap=tx;const _n=new j;function uc(i,t){return _n.compareSchemas(i,t)}function $u(i,t){return ex(i,t.map(e=>e.data.concat()))}function ex(i,t){const e=[...i.fields],n=[],s={numBatches:t.reduce((c,f)=>Math.max(c,f.length),0)};let r=0,o=0,l=-1;const a=t.length;let u,h=[];for(;s.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,l=-1;++l<a;)h[l]=u=t[l].shift(),o=Math.min(o,u?u.length:o);Number.isFinite(o)&&(h=ix(e,o,h,t,s),o>0&&(n[r++]=q({type:new Zt(e),length:o,nullCount:0,children:h.slice()})))}return[i=i.assign(e),n.map(c=>new ue(i,c))]}function ix(i,t,e,n,s){var r;const o=(t+63&-64)>>3;for(let l=-1,a=n.length;++l<a;){const u=e[l],h=u==null?void 0:u.length;if(h>=t)h===t?e[l]=u:(e[l]=u.slice(0,t),s.numBatches=Math.max(s.numBatches,n[l].unshift(u.slice(t,h-t))));else{const c=i[l];i[l]=c.clone({nullable:!0}),e[l]=(r=u==null?void 0:u._changeLengthAndBackfillNullBitmap(t))!==null&&r!==void 0?r:q({type:c.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)})}}return e}var Mg;class qt{constructor(...t){var e,n;if(t.length===0)return this.batches=[],this.schema=new at([]),this._offsets=[0],this;let s,r;t[0]instanceof at&&(s=t.shift()),t[t.length-1]instanceof Uint32Array&&(r=t.pop());const o=a=>{if(a){if(a instanceof ue)return[a];if(a instanceof qt)return a.batches;if(a instanceof mt){if(a.type instanceof Zt)return[new ue(new at(a.type.children),a)]}else{if(Array.isArray(a))return a.flatMap(u=>o(u));if(typeof a[Symbol.iterator]=="function")return[...a].flatMap(u=>o(u));if(typeof a=="object"){const u=Object.keys(a),h=u.map(d=>new lt([a[d]])),c=new at(u.map((d,y)=>new _t(String(d),h[y].type))),[,f]=$u(c,h);return f.length===0?[new ue(a)]:f}}}return[]},l=t.flatMap(a=>o(a));if(s=(n=s??((e=l[0])===null||e===void 0?void 0:e.schema))!==null&&n!==void 0?n:new at([]),!(s instanceof at))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const a of l){if(!(a instanceof ue))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!uc(s,a.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=s,this.batches=l,this._offsets=r??ug(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,e)=>t+e.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=ag(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?Lf.visit(new lt(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const e=this.schema,n=this.data.concat(t.flatMap(({data:s})=>s));return new qt(e,n.map(s=>new ue(e,s)))}slice(t,e){const n=this.schema;[t,e]=og({length:this.numRows},t,e);const s=hg(this.data,this._offsets,t,e);return new qt(n,s.map(r=>new ue(n,r)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(e=>e.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const e=this.data.map(n=>n.children[t]);if(e.length===0){const{type:n}=this.schema.fields[t],s=q({type:n,length:0,nullCount:0});e.push(s._changeLengthAndBackfillNullBitmap(this.numRows))}return new lt(e)}return null}setChild(t,e){var n;return this.setChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(s=>s.name===t),e)}setChildAt(t,e){let n=this.schema,s=[...this.batches];if(t>-1&&t<this.numCols){e||(e=new lt([q({type:new gn,length:this.numRows})]));const r=n.fields.slice(),o=r[t].clone({type:e.type}),l=this.schema.fields.map((a,u)=>this.getChildAt(u));[r[t],l[t]]=[o,e],[n,s]=$u(n,l)}return new qt(n,s)}select(t){const e=this.schema.fields.reduce((n,s,r)=>n.set(s.name,r),new Map);return this.selectAt(t.map(n=>e.get(n)).filter(n=>n>-1))}selectAt(t){const e=this.schema.selectAt(t),n=this.batches.map(s=>s.selectAt(t));return new qt(e,n)}assign(t){const e=this.schema.fields,[n,s]=t.schema.fields.reduce((l,a,u)=>{const[h,c]=l,f=e.findIndex(d=>d.name===a.name);return~f?c[f]=u:h.push(u),l},[[],[]]),r=this.schema.assign(t.schema),o=[...e.map((l,a)=>[a,s[a]]).map(([l,a])=>a===void 0?this.getChildAt(l):t.getChildAt(a)),...n.map(l=>t.getChildAt(l))].filter(Boolean);return new qt(...$u(r,o))}}Mg=Symbol.toStringTag;qt[Mg]=(i=>(i.schema=null,i.batches=[],i._offsets=new Uint32Array([0]),i._nullCount=-1,i[Symbol.isConcatSpreadable]=!0,i.isValid=Ps(Df),i.get=Ps(ve.getVisitFn(w.Struct)),i.set=cg(We.getVisitFn(w.Struct)),i.indexOf=fg(ha.getVisitFn(w.Struct)),i.getByteLength=Ps(xi.getVisitFn(w.Struct)),"Table"))(qt.prototype);var Ig;let ue=class Sr{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof at))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=q({nullCount:0,type:new Zt(this.schema.fields),children:this.schema.fields.map(e=>q({type:e.type,nullCount:0}))})]=t,!(this.data instanceof mt))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=Op(this.schema,this.data.children);break}case 1:{const[e]=t,{fields:n,children:s,length:r}=Object.keys(e).reduce((a,u,h)=>(a.children[h]=e[u],a.length=Math.max(a.length,e[u].length),a.fields[h]=_t.new({name:u,type:e[u].type,nullable:!0}),a),{length:0,fields:new Array,children:new Array}),o=new at(n),l=q({type:new Zt(n),length:r,children:s,nullCount:0});[this.schema,this.data]=Op(o,l.children,r);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=Cg(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return ve.visit(this.data,t)}set(t,e){return We.visit(this.data,t,e)}indexOf(t,e){return ha.visit(this.data,t,e)}getByteLength(t){return xi.visit(this.data,t)}[Symbol.iterator](){return Lf.visit(new lt([this.data]))}toArray(){return[...this]}concat(...t){return new qt(this.schema,[this,...t])}slice(t,e){const[n]=new lt([this.data]).slice(t,e).data;return new Sr(this.schema,n)}getChild(t){var e;return this.getChildAt((e=this.schema.fields)===null||e===void 0?void 0:e.findIndex(n=>n.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new lt([this.data.children[t]]):null}setChild(t,e){var n;return this.setChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(s=>s.name===t),e)}setChildAt(t,e){let n=this.schema,s=this.data;if(t>-1&&t<this.numCols){e||(e=new lt([q({type:new gn,length:this.numRows})]));const r=n.fields.slice(),o=s.children.slice(),l=r[t].clone({type:e.type});[r[t],o[t]]=[l,e.data[0]],n=new at(r,new Map(this.schema.metadata)),s=q({type:new Zt(r),children:o})}return new Sr(n,s)}select(t){const e=this.schema.select(t),n=new Zt(e.fields),s=[];for(const r of t){const o=this.schema.fields.findIndex(l=>l.name===r);~o&&(s[o]=this.data.children[o])}return new Sr(e,q({type:n,length:this.numRows,children:s}))}selectAt(t){const e=this.schema.selectAt(t),n=t.map(r=>this.data.children[r]).filter(Boolean),s=q({type:new Zt(e.fields),length:this.numRows,children:n});return new Sr(e,s)}};Ig=Symbol.toStringTag;ue[Ig]=(i=>(i._nullCount=-1,i[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(ue.prototype);function Op(i,t,e=t.reduce((n,s)=>Math.max(n,s.length),0)){var n;const s=[...i.fields],r=[...t],o=(e+63&-64)>>3;for(const[l,a]of i.fields.entries()){const u=t[l];(!u||u.length!==e)&&(s[l]=a.clone({nullable:!0}),r[l]=(n=u==null?void 0:u._changeLengthAndBackfillNullBitmap(e))!==null&&n!==void 0?n:q({type:a.type,length:e,nullCount:e,nullBitmap:new Uint8Array(o)}))}return[i.assign(s),q({type:new Zt(s),length:e,children:r})]}function Cg(i,t,e=new Map){for(let n=-1,s=i.length;++n<s;){const o=i[n].type,l=t[n];if(P.isDictionary(o)){if(!e.has(o.id))l.dictionary&&e.set(o.id,l.dictionary);else if(e.get(o.id)!==l.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}o.children&&o.children.length>0&&Cg(o.children,l.children,e)}return e}class Vf extends ue{constructor(t){const e=t.fields.map(s=>q({type:s.type})),n=q({type:new Zt(t.fields),nullCount:0,children:e});super(t,n)}}var wa;(function(i){i[i.BUFFER=0]="BUFFER"})(wa||(wa={}));var ba;(function(i){i[i.LZ4_FRAME=0]="LZ4_FRAME",i[i.ZSTD=1]="ZSTD"})(ba||(ba={}));class tn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBodyCompression(t,e){return(e||new tn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,e){return t.setPosition(t.position()+pt),(e||new tn).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):ba.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):wa.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,e){t.addFieldInt8(0,e,ba.LZ4_FRAME)}static addMethod(t,e){t.addFieldInt8(1,e,wa.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,e,n){return tn.startBodyCompression(t),tn.addCodec(t,e),tn.addMethod(t,n),tn.endBodyCompression(t)}}class Eg{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,e,n){return t.prep(8,16),t.writeInt64(n),t.writeInt64(e),t.offset()}}let kg=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,e,n){return t.prep(8,16),t.writeInt64(n),t.writeInt64(e),t.offset()}},Ni=class hc{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsRecordBatch(t,e){return(e||new hc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,e){return t.setPosition(t.position()+pt),(e||new hc).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}nodes(t,e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new kg).__init(this.bb.__vector(this.bb_pos+n)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,e){const n=this.bb.__offset(this.bb_pos,8);return n?(e||new Eg).__init(this.bb.__vector(this.bb_pos+n)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const e=this.bb.__offset(this.bb_pos,10);return e?(t||new tn).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addNodes(t,e){t.addFieldOffset(1,e,0)}static startNodesVector(t,e){t.startVector(16,e,8)}static addBuffers(t,e){t.addFieldOffset(2,e,0)}static startBuffersVector(t,e){t.startVector(16,e,8)}static addCompression(t,e){t.addFieldOffset(3,e,0)}static endRecordBatch(t){return t.endObject()}},ds=class cc{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryBatch(t,e){return(e||new cc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,e){return t.setPosition(t.position()+pt),(e||new cc).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}data(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Ni).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addData(t,e){t.addFieldOffset(1,e,0)}static addIsDelta(t,e){t.addFieldInt8(2,+e,0)}static endDictionaryBatch(t){return t.endObject()}};var _a;(function(i){i[i.NONE=0]="NONE",i[i.Schema=1]="Schema",i[i.DictionaryBatch=2]="DictionaryBatch",i[i.RecordBatch=3]="RecordBatch",i[i.Tensor=4]="Tensor",i[i.SparseTensor=5]="SparseTensor"})(_a||(_a={}));let Qi=class oi{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMessage(t,e){return(e||new oi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,e){return t.setPosition(t.position()+pt),(e||new oi).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Js.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):_a.NONE}header(t){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,12);return n?(e||new Rt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,Js.V1)}static addHeaderType(t,e){t.addFieldInt8(1,e,_a.NONE)}static addHeader(t,e){t.addFieldOffset(2,e,0)}static addBodyLength(t,e){t.addFieldInt64(3,e,t.createLong(0,0))}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,e){t.finish(e)}static finishSizePrefixedMessageBuffer(t,e){t.finish(e,void 0,!0)}static createMessage(t,e,n,s,r,o){return oi.startMessage(t),oi.addVersion(t,e),oi.addHeaderType(t,n),oi.addHeader(t,s),oi.addBodyLength(t,r),oi.addCustomMetadata(t,o),oi.endMessage(t)}};var nx=Ai;class sx extends Z{visit(t,e){return t==null||e==null?void 0:super.visit(t,e)}visitNull(t,e){return Pn.startNull(e),Pn.endNull(e)}visitInt(t,e){return xe.startInt(e),xe.addBitWidth(e,t.bitWidth),xe.addIsSigned(e,t.isSigned),xe.endInt(e)}visitFloat(t,e){return mi.startFloatingPoint(e),mi.addPrecision(e,t.precision),mi.endFloatingPoint(e)}visitBinary(t,e){return Fn.startBinary(e),Fn.endBinary(e)}visitBool(t,e){return Rn.startBool(e),Rn.endBool(e)}visitUtf8(t,e){return Vn.startUtf8(e),Vn.endUtf8(e)}visitDecimal(t,e){return oe.startDecimal(e),oe.addScale(e,t.scale),oe.addPrecision(e,t.precision),oe.addBitWidth(e,t.bitWidth),oe.endDecimal(e)}visitDate(t,e){return bl.startDate(e),bl.addUnit(e,t.unit),bl.endDate(e)}visitTime(t,e){return Ae.startTime(e),Ae.addUnit(e,t.unit),Ae.addBitWidth(e,t.bitWidth),Ae.endTime(e)}visitTimestamp(t,e){const n=t.timezone&&e.createString(t.timezone)||void 0;return Pe.startTimestamp(e),Pe.addUnit(e,t.unit),n!==void 0&&Pe.addTimezone(e,n),Pe.endTimestamp(e)}visitInterval(t,e){return yi.startInterval(e),yi.addUnit(e,t.unit),yi.endInterval(e)}visitList(t,e){return An.startList(e),An.endList(e)}visitStruct(t,e){return $n.startStruct_(e),$n.endStruct_(e)}visitUnion(t,e){ae.startTypeIdsVector(e,t.typeIds.length);const n=ae.createTypeIdsVector(e,t.typeIds);return ae.startUnion(e),ae.addMode(e,t.mode),ae.addTypeIds(e,n),ae.endUnion(e)}visitDictionary(t,e){const n=this.visit(t.indices,e);return Bi.startDictionaryEncoding(e),Bi.addId(e,new nx(t.id,0)),Bi.addIsOrdered(e,t.isOrdered),n!==void 0&&Bi.addIndexType(e,n),Bi.endDictionaryEncoding(e)}visitFixedSizeBinary(t,e){return di.startFixedSizeBinary(e),di.addByteWidth(e,t.byteWidth),di.endFixedSizeBinary(e)}visitFixedSizeList(t,e){return pi.startFixedSizeList(e),pi.addListSize(e,t.listSize),pi.endFixedSizeList(e)}visitMap(t,e){return _l.startMap(e),_l.addKeysSorted(e,t.keysSorted),_l.endMap(e)}}const Vu=new sx;function rx(i,t=new Map){return new at(lx(i,t),Ml(i.customMetadata),t)}function Ng(i){return new Ne(i.count,Tg(i.columns),Og(i.columns))}function ox(i){return new Mi(Ng(i.data),i.id,i.isDelta)}function lx(i,t){return(i.fields||[]).filter(Boolean).map(e=>_t.fromJSON(e,t))}function Bp(i,t){return(i.children||[]).filter(Boolean).map(e=>_t.fromJSON(e,t))}function Tg(i){return(i||[]).reduce((t,e)=>[...t,new rs(e.count,ax(e.VALIDITY)),...Tg(e.children)],[])}function Og(i,t=[]){for(let e=-1,n=(i||[]).length;++e<n;){const s=i[e];s.VALIDITY&&t.push(new gi(t.length,s.VALIDITY.length)),s.TYPE&&t.push(new gi(t.length,s.TYPE.length)),s.OFFSET&&t.push(new gi(t.length,s.OFFSET.length)),s.DATA&&t.push(new gi(t.length,s.DATA.length)),t=Og(s.children,t)}return t}function ax(i){return(i||[]).reduce((t,e)=>t+ +(e===0),0)}function ux(i,t){let e,n,s,r,o,l;return!t||!(r=i.dictionary)?(o=Dp(i,Bp(i,t)),s=new _t(i.name,o,i.nullable,Ml(i.customMetadata))):t.has(e=r.id)?(n=(n=r.indexType)?zp(n):new ro,l=new Xs(t.get(e),n,e,r.isOrdered),s=new _t(i.name,l,i.nullable,Ml(i.customMetadata))):(n=(n=r.indexType)?zp(n):new ro,t.set(e,o=Dp(i,Bp(i,t))),l=new Xs(o,n,e,r.isOrdered),s=new _t(i.name,l,i.nullable,Ml(i.customMetadata))),s||null}function Ml(i){return new Map(Object.entries(i||{}))}function zp(i){return new wn(i.isSigned,i.bitWidth)}function Dp(i,t){const e=i.type.name;switch(e){case"NONE":return new gn;case"null":return new gn;case"binary":return new Gl;case"utf8":return new ql;case"bool":return new Zl;case"list":return new sa((t||[])[0]);case"struct":return new Zt(t||[]);case"struct_":return new Zt(t||[])}switch(e){case"int":{const n=i.type;return new wn(n.isSigned,n.bitWidth)}case"floatingpoint":{const n=i.type;return new oo(pe[n.precision])}case"decimal":{const n=i.type;return new ta(n.scale,n.precision,n.bitWidth)}case"date":{const n=i.type;return new ea(Wi[n.unit])}case"time":{const n=i.type;return new lo(st[n.unit],n.bitWidth)}case"timestamp":{const n=i.type;return new ia(st[n.unit],n.timezone)}case"interval":{const n=i.type;return new na(vn[n.unit])}case"union":{const n=i.type;return new ra(ke[n.mode],n.typeIds||[],t||[])}case"fixedsizebinary":{const n=i.type;return new oa(n.byteWidth)}case"fixedsizelist":{const n=i.type;return new la(n.listSize,(t||[])[0])}case"map":{const n=i.type;return new aa((t||[])[0],n.keysSorted)}}throw new Error(`Unrecognized type: "${e}"`)}var qn=Ai,hx=bg,cx=Qs;class te{constructor(t,e,n,s){this._version=e,this._headerType=n,this.body=new Uint8Array(0),s&&(this._createHeader=()=>s),this._bodyLength=typeof t=="number"?t:t.low}static fromJSON(t,e){const n=new te(0,Me.V4,e);return n._createHeader=fx(t,e),n}static decode(t){t=new cx(nt(t));const e=Qi.getRootAsMessage(t),n=e.bodyLength(),s=e.version(),r=e.headerType(),o=new te(n,s,r);return o._createHeader=dx(e,r),o}static encode(t){const e=new hx;let n=-1;return t.isSchema()?n=at.encode(e,t.header()):t.isRecordBatch()?n=Ne.encode(e,t.header()):t.isDictionaryBatch()&&(n=Mi.encode(e,t.header())),Qi.startMessage(e),Qi.addVersion(e,Me.V4),Qi.addHeader(e,n),Qi.addHeaderType(e,t.headerType),Qi.addBodyLength(e,new qn(t.bodyLength,0)),Qi.finishMessageBuffer(e,Qi.endMessage(e)),e.asUint8Array()}static from(t,e=0){if(t instanceof at)return new te(0,Me.V4,ot.Schema,t);if(t instanceof Ne)return new te(e,Me.V4,ot.RecordBatch,t);if(t instanceof Mi)return new te(e,Me.V4,ot.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===ot.Schema}isRecordBatch(){return this.headerType===ot.RecordBatch}isDictionaryBatch(){return this.headerType===ot.DictionaryBatch}}class Ne{constructor(t,e,n){this._nodes=e,this._buffers=n,this._length=typeof t=="number"?t:t.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class Mi{constructor(t,e,n=!1){this._data=t,this._isDelta=n,this._id=typeof e=="number"?e:e.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class gi{constructor(t,e){this.offset=typeof t=="number"?t:t.low,this.length=typeof e=="number"?e:e.low}}class rs{constructor(t,e){this.length=typeof t=="number"?t:t.low,this.nullCount=typeof e=="number"?e:e.low}}function fx(i,t){return()=>{switch(t){case ot.Schema:return at.fromJSON(i);case ot.RecordBatch:return Ne.fromJSON(i);case ot.DictionaryBatch:return Mi.fromJSON(i)}throw new Error(`Unrecognized Message type: { name: ${ot[t]}, type: ${t} }`)}}function dx(i,t){return()=>{switch(t){case ot.Schema:return at.decode(i.header(new ai));case ot.RecordBatch:return Ne.decode(i.header(new Ni),i.version());case ot.DictionaryBatch:return Mi.decode(i.header(new ds),i.version())}throw new Error(`Unrecognized Message type: { name: ${ot[t]}, type: ${t} }`)}}_t.encode=Mx;_t.decode=Sx;_t.fromJSON=ux;at.encode=xx;at.decode=px;at.fromJSON=rx;Ne.encode=Ix;Ne.decode=mx;Ne.fromJSON=Ng;Mi.encode=Cx;Mi.decode=yx;Mi.fromJSON=ox;rs.encode=Ex;rs.decode=gx;gi.encode=kx;gi.decode=vx;function px(i,t=new Map){const e=_x(i,t);return new at(e,Il(i),t)}function mx(i,t=Me.V4){if(i.compression()!==null)throw new Error("Record batch compression not implemented");return new Ne(i.length(),wx(i),bx(i,t))}function yx(i,t=Me.V4){return new Mi(Ne.decode(i.data(),t),i.id(),i.isDelta())}function vx(i){return new gi(i.offset(),i.length())}function gx(i){return new rs(i.length(),i.nullCount())}function wx(i){const t=[];for(let e,n=-1,s=-1,r=i.nodesLength();++n<r;)(e=i.nodes(n))&&(t[++s]=rs.decode(e));return t}function bx(i,t){const e=[];for(let n,s=-1,r=-1,o=i.buffersLength();++s<o;)(n=i.buffers(s))&&(t<Me.V4&&(n.bb_pos+=8*(s+1)),e[++r]=gi.decode(n));return e}function _x(i,t){const e=[];for(let n,s=-1,r=-1,o=i.fieldsLength();++s<o;)(n=i.fields(s))&&(e[++r]=_t.decode(n,t));return e}function Lp(i,t){const e=[];for(let n,s=-1,r=-1,o=i.childrenLength();++s<o;)(n=i.children(s))&&(e[++r]=_t.decode(n,t));return e}function Sx(i,t){let e,n,s,r,o,l;return!t||!(l=i.dictionary())?(s=Rp(i,Lp(i,t)),n=new _t(i.name(),s,i.nullable(),Il(i))):t.has(e=l.id().low)?(r=(r=l.indexType())?Fp(r):new ro,o=new Xs(t.get(e),r,e,l.isOrdered()),n=new _t(i.name(),o,i.nullable(),Il(i))):(r=(r=l.indexType())?Fp(r):new ro,t.set(e,s=Rp(i,Lp(i,t))),o=new Xs(s,r,e,l.isOrdered()),n=new _t(i.name(),o,i.nullable(),Il(i))),n||null}function Il(i){const t=new Map;if(i)for(let e,n,s=-1,r=Math.trunc(i.customMetadataLength());++s<r;)(e=i.customMetadata(s))&&(n=e.key())!=null&&t.set(n,e.value());return t}function Fp(i){return new wn(i.isSigned(),i.bitWidth())}function Rp(i,t){const e=i.typeType();switch(e){case xt.NONE:return new gn;case xt.Null:return new gn;case xt.Binary:return new Gl;case xt.Utf8:return new ql;case xt.Bool:return new Zl;case xt.List:return new sa((t||[])[0]);case xt.Struct_:return new Zt(t||[])}switch(e){case xt.Int:{const n=i.type(new xe);return new wn(n.isSigned(),n.bitWidth())}case xt.FloatingPoint:{const n=i.type(new mi);return new oo(n.precision())}case xt.Decimal:{const n=i.type(new oe);return new ta(n.scale(),n.precision(),n.bitWidth())}case xt.Date:{const n=i.type(new bl);return new ea(n.unit())}case xt.Time:{const n=i.type(new Ae);return new lo(n.unit(),n.bitWidth())}case xt.Timestamp:{const n=i.type(new Pe);return new ia(n.unit(),n.timezone())}case xt.Interval:{const n=i.type(new yi);return new na(n.unit())}case xt.Union:{const n=i.type(new ae);return new ra(n.mode(),n.typeIdsArray()||[],t||[])}case xt.FixedSizeBinary:{const n=i.type(new di);return new oa(n.byteWidth())}case xt.FixedSizeList:{const n=i.type(new pi);return new la(n.listSize(),(t||[])[0])}case xt.Map:{const n=i.type(new _l);return new aa((t||[])[0],n.keysSorted())}}throw new Error(`Unrecognized type: "${xt[e]}" (${e})`)}function xx(i,t){const e=t.fields.map(r=>_t.encode(i,r));ai.startFieldsVector(i,e.length);const n=ai.createFieldsVector(i,e),s=t.metadata&&t.metadata.size>0?ai.createCustomMetadataVector(i,[...t.metadata].map(([r,o])=>{const l=i.createString(`${r}`),a=i.createString(`${o}`);return Rt.startKeyValue(i),Rt.addKey(i,l),Rt.addValue(i,a),Rt.endKeyValue(i)})):-1;return ai.startSchema(i),ai.addFields(i,n),ai.addEndianness(i,Nx?Gs.Little:Gs.Big),s!==-1&&ai.addCustomMetadata(i,s),ai.endSchema(i)}function Mx(i,t){let e=-1,n=-1,s=-1;const r=t.type;let o=t.typeId;P.isDictionary(r)?(o=r.dictionary.typeId,s=Vu.visit(r,i),n=Vu.visit(r.dictionary,i)):n=Vu.visit(r,i);const l=(r.children||[]).map(h=>_t.encode(i,h)),a=ze.createChildrenVector(i,l),u=t.metadata&&t.metadata.size>0?ze.createCustomMetadataVector(i,[...t.metadata].map(([h,c])=>{const f=i.createString(`${h}`),d=i.createString(`${c}`);return Rt.startKeyValue(i),Rt.addKey(i,f),Rt.addValue(i,d),Rt.endKeyValue(i)})):-1;return t.name&&(e=i.createString(t.name)),ze.startField(i),ze.addType(i,n),ze.addTypeType(i,o),ze.addChildren(i,a),ze.addNullable(i,!!t.nullable),e!==-1&&ze.addName(i,e),s!==-1&&ze.addDictionary(i,s),u!==-1&&ze.addCustomMetadata(i,u),ze.endField(i)}function Ix(i,t){const e=t.nodes||[],n=t.buffers||[];Ni.startNodesVector(i,e.length);for(const o of e.slice().reverse())rs.encode(i,o);const s=i.endVector();Ni.startBuffersVector(i,n.length);for(const o of n.slice().reverse())gi.encode(i,o);const r=i.endVector();return Ni.startRecordBatch(i),Ni.addLength(i,new qn(t.length,0)),Ni.addNodes(i,s),Ni.addBuffers(i,r),Ni.endRecordBatch(i)}function Cx(i,t){const e=Ne.encode(i,t.data);return ds.startDictionaryBatch(i),ds.addId(i,new qn(t.id,0)),ds.addIsDelta(i,t.isDelta),ds.addData(i,e),ds.endDictionaryBatch(i)}function Ex(i,t){return kg.createFieldNode(i,new qn(t.length,0),new qn(t.nullCount,0))}function kx(i,t){return Eg.createBuffer(i,new qn(t.offset,0),new qn(t.length,0))}const Nx=(()=>{const i=new ArrayBuffer(2);return new DataView(i).setInt16(0,256,!0),new Int16Array(i)[0]===256})(),Uf=i=>`Expected ${ot[i]} Message in stream, but was null or length 0.`,jf=i=>`Header pointer of flatbuffer-encoded ${ot[i]} Message is null or length 0.`,Bg=(i,t)=>`Expected to read ${i} metadata bytes, but only read ${t}.`,zg=(i,t)=>`Expected to read ${i} bytes for message body, but only read ${t}.`;class Dg{constructor(t){this.source=t instanceof va?t:new va(t)}[Symbol.iterator](){return this}next(){let t;return(t=this.readMetadataLength()).done||t.value===-1&&(t=this.readMetadataLength()).done||(t=this.readMetadata(t.value)).done?It:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let e;if((e=this.next()).done)return null;if(t!=null&&e.value.headerType!==t)throw new Error(Uf(t));return e.value}readMessageBody(t){if(t<=0)return new Uint8Array(0);const e=nt(this.source.read(t));if(e.byteLength<t)throw new Error(zg(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}readSchema(t=!1){const e=ot.Schema,n=this.readMessage(e),s=n==null?void 0:n.header();if(t&&!s)throw new Error(jf(e));return s}readMetadataLength(){const t=this.source.read(nu),e=t&&new Qs(t),n=(e==null?void 0:e.readInt32(0))||0;return{done:n===0,value:n}}readMetadata(t){const e=this.source.read(t);if(!e)return It;if(e.byteLength<t)throw new Error(Bg(t,e.byteLength));return{done:!1,value:te.decode(e)}}}class Tx{constructor(t,e){this.source=t instanceof Zs?t:e0(t)?new ga(t,e):new Zs(t)}[Symbol.asyncIterator](){return this}next(){return R(this,void 0,void 0,function*(){let t;return(t=yield this.readMetadataLength()).done||t.value===-1&&(t=yield this.readMetadataLength()).done||(t=yield this.readMetadata(t.value)).done?It:t})}throw(t){return R(this,void 0,void 0,function*(){return yield this.source.throw(t)})}return(t){return R(this,void 0,void 0,function*(){return yield this.source.return(t)})}readMessage(t){return R(this,void 0,void 0,function*(){let e;if((e=yield this.next()).done)return null;if(t!=null&&e.value.headerType!==t)throw new Error(Uf(t));return e.value})}readMessageBody(t){return R(this,void 0,void 0,function*(){if(t<=0)return new Uint8Array(0);const e=nt(yield this.source.read(t));if(e.byteLength<t)throw new Error(zg(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()})}readSchema(t=!1){return R(this,void 0,void 0,function*(){const e=ot.Schema,n=yield this.readMessage(e),s=n==null?void 0:n.header();if(t&&!s)throw new Error(jf(e));return s})}readMetadataLength(){return R(this,void 0,void 0,function*(){const t=yield this.source.read(nu),e=t&&new Qs(t),n=(e==null?void 0:e.readInt32(0))||0;return{done:n===0,value:n}})}readMetadata(t){return R(this,void 0,void 0,function*(){const e=yield this.source.read(t);if(!e)return It;if(e.byteLength<t)throw new Error(Bg(t,e.byteLength));return{done:!1,value:te.decode(e)}})}}class Ox extends Dg{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof Np?t:new Np(t)}next(){const{_json:t}=this;if(!this._schema)return this._schema=!0,{done:!1,value:te.fromJSON(t.schema,ot.Schema)};if(this._dictionaryIndex<t.dictionaries.length){const e=t.dictionaries[this._dictionaryIndex++];return this._body=e.data.columns,{done:!1,value:te.fromJSON(e,ot.DictionaryBatch)}}if(this._batchIndex<t.batches.length){const e=t.batches[this._batchIndex++];return this._body=e.columns,{done:!1,value:te.fromJSON(e,ot.RecordBatch)}}return this._body=[],It}readMessageBody(t){return e(this._body);function e(n){return(n||[]).reduce((s,r)=>[...s,...r.VALIDITY&&[r.VALIDITY]||[],...r.TYPE&&[r.TYPE]||[],...r.OFFSET&&[r.OFFSET]||[],...r.DATA&&[r.DATA]||[],...e(r.children)],[])}}readMessage(t){let e;if((e=this.next()).done)return null;if(t!=null&&e.value.headerType!==t)throw new Error(Uf(t));return e.value}readSchema(){const t=ot.Schema,e=this.readMessage(t),n=e==null?void 0:e.header();if(!e||!n)throw new Error(jf(t));return n}}const nu=4,fc="ARROW1",uo=new Uint8Array(fc.length);for(let i=0;i<fc.length;i+=1)uo[i]=fc.codePointAt(i);function Wf(i,t=0){for(let e=-1,n=uo.length;++e<n;)if(uo[e]!==i[t+e])return!1;return!0}const Eo=uo.length,Lg=Eo+nu,Bx=Eo*2+nu;class Pi extends Ff{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){const e=this._impl.open(t);return yn(e)?e.then(()=>this):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return Le.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return Le.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}static from(t){return t instanceof Pi?t:ec(t)?Fx(t):e0(t)?Px(t):yn(t)?R(this,void 0,void 0,function*(){return yield Pi.from(yield t)}):i0(t)||Sf(t)||n0(t)||or(t)?Ax(new Zs(t)):Rx(new va(t))}static readAll(t){return t instanceof Pi?t.isSync()?Ap(t):Pp(t):ec(t)||ArrayBuffer.isView(t)||xo(t)||t0(t)?Ap(t):Pp(t)}}class Sa extends Pi{constructor(t){super(t),this._impl=t}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return vi(this,arguments,function*(){yield X(yield*wl(Wn(this[Symbol.iterator]())))})}}class xa extends Pi{constructor(t){super(t),this._impl=t}readAll(){var t,e;return R(this,void 0,void 0,function*(){const n=new Array;try{for(var s=Wn(this),r;r=yield s.next(),!r.done;){const o=r.value;n.push(o)}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=s.return)&&(yield e.call(s))}finally{if(t)throw t.error}}return n})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class Fg extends Sa{constructor(t){super(t),this._impl=t}}class zx extends xa{constructor(t){super(t),this._impl=t}}class Rg{constructor(t=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,e){const n=this._loadVectors(t,e,this.schema.fields),s=q({type:new Zt(this.schema.fields),length:t.length,children:n});return new ue(this.schema,s)}_loadDictionaryBatch(t,e){const{id:n,isDelta:s}=t,{dictionaries:r,schema:o}=this,l=r.get(n);if(s||!l){const a=o.dictionaries.get(n),u=this._loadVectors(t.data,e,[a]);return(l&&s?l.concat(new lt(u)):new lt(u)).memoize()}return l.memoize()}_loadVectors(t,e,n){return new xg(e,t.nodes,t.buffers,this.dictionaries).visitMany(n)}}class Ma extends Rg{constructor(t,e){super(e),this._reader=ec(t)?new Ox(this._handle=t):new Dg(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return this.closed||(this.autoDestroy=Pg(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):It}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):It}next(){if(this.closed)return It;let t;const{_reader:e}=this;for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;const n=t.header(),s=e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(n,s)}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;const n=t.header(),s=e.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(n,s);this.dictionaries.set(n.id,r)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new Vf(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}}class Ia extends Rg{constructor(t,e){super(e),this._reader=new Tx(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return R(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(t){return R(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=Pg(this,t),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(t){return R(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(t):It})}return(t){return R(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(t):It})}next(){return R(this,void 0,void 0,function*(){if(this.closed)return It;let t;const{_reader:e}=this;for(;t=yield this._readNextMessageAndValidate();)if(t.isSchema())yield this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;const n=t.header(),s=yield e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(n,s)}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;const n=t.header(),s=yield e.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(n,s);this.dictionaries.set(n.id,r)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new Vf(this.schema)}):yield this.return()})}_readNextMessageAndValidate(t){return R(this,void 0,void 0,function*(){return yield this._reader.readMessage(t)})}}class Ag extends Ma{constructor(t,e){super(t instanceof Tp?t:new Tp(t),e)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const e of this._footer.dictionaryBatches())e&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(t)}readRecordBatch(t){var e;if(this.closed)return null;this._footer||this.open();const n=(e=this._footer)===null||e===void 0?void 0:e.getRecordBatch(t);if(n&&this._handle.seek(n.offset)){const s=this._reader.readMessage(ot.RecordBatch);if(s!=null&&s.isRecordBatch()){const r=s.header(),o=this._reader.readMessageBody(s.bodyLength);return this._loadRecordBatch(r,o)}}return null}_readDictionaryBatch(t){var e;const n=(e=this._footer)===null||e===void 0?void 0:e.getDictionaryBatch(t);if(n&&this._handle.seek(n.offset)){const s=this._reader.readMessage(ot.DictionaryBatch);if(s!=null&&s.isDictionaryBatch()){const r=s.header(),o=this._reader.readMessageBody(s.bodyLength),l=this._loadDictionaryBatch(r,o);this.dictionaries.set(r.id,l)}}}_readFooter(){const{_handle:t}=this,e=t.size-Lg,n=t.readInt32(e),s=t.readAt(e-n,n);return ao.decode(s)}_readNextMessageAndValidate(t){var e;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const n=(e=this._footer)===null||e===void 0?void 0:e.getRecordBatch(this._recordBatchIndex);if(n&&this._handle.seek(n.offset))return this._reader.readMessage(t)}return null}}class Dx extends Ia{constructor(t,...e){const n=typeof e[0]!="number"?e.shift():void 0,s=e[0]instanceof Map?e.shift():void 0;super(t instanceof ga?t:new ga(t,n),s)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(t){const e=Object.create(null,{open:{get:()=>super.open}});return R(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const n of this._footer.dictionaryBatches())n&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield e.open.call(this,t)})}readRecordBatch(t){var e;return R(this,void 0,void 0,function*(){if(this.closed)return null;this._footer||(yield this.open());const n=(e=this._footer)===null||e===void 0?void 0:e.getRecordBatch(t);if(n&&(yield this._handle.seek(n.offset))){const s=yield this._reader.readMessage(ot.RecordBatch);if(s!=null&&s.isRecordBatch()){const r=s.header(),o=yield this._reader.readMessageBody(s.bodyLength);return this._loadRecordBatch(r,o)}}return null})}_readDictionaryBatch(t){var e;return R(this,void 0,void 0,function*(){const n=(e=this._footer)===null||e===void 0?void 0:e.getDictionaryBatch(t);if(n&&(yield this._handle.seek(n.offset))){const s=yield this._reader.readMessage(ot.DictionaryBatch);if(s!=null&&s.isDictionaryBatch()){const r=s.header(),o=yield this._reader.readMessageBody(s.bodyLength),l=this._loadDictionaryBatch(r,o);this.dictionaries.set(r.id,l)}}})}_readFooter(){return R(this,void 0,void 0,function*(){const{_handle:t}=this;t._pending&&(yield t._pending);const e=t.size-Lg,n=yield t.readInt32(e),s=yield t.readAt(e-n,n);return ao.decode(s)})}_readNextMessageAndValidate(t){return R(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const e=this._footer.getRecordBatch(this._recordBatchIndex);if(e&&(yield this._handle.seek(e.offset)))return yield this._reader.readMessage(t)}return null})}}class Lx extends Ma{constructor(t,e){super(t,e)}_loadVectors(t,e,n){return new YS(e,t.nodes,t.buffers,this.dictionaries).visitMany(n)}}function Pg(i,t){return t&&typeof t.autoDestroy=="boolean"?t.autoDestroy:i.autoDestroy}function*Ap(i){const t=Pi.from(i);try{if(!t.open({autoDestroy:!1}).closed)do yield t;while(!t.reset().open().closed)}finally{t.cancel()}}function Pp(i){return vi(this,arguments,function*(){const e=yield X(Pi.from(i));try{if(!(yield X(e.open({autoDestroy:!1}))).closed)do yield yield X(e);while(!(yield X(e.reset().open())).closed)}finally{yield X(e.cancel())}})}function Fx(i){return new Sa(new Lx(i))}function Rx(i){const t=i.peek(Eo+7&-8);return t&&t.byteLength>=4?Wf(t)?new Fg(new Ag(i.read())):new Sa(new Ma(i)):new Sa(new Ma(function*(){}()))}function Ax(i){return R(this,void 0,void 0,function*(){const t=yield i.peek(Eo+7&-8);return t&&t.byteLength>=4?Wf(t)?new Fg(new Ag(yield i.read())):new xa(new Ia(i)):new xa(new Ia(function(){return vi(this,arguments,function*(){})}()))})}function Px(i){return R(this,void 0,void 0,function*(){const{size:t}=yield i.stat(),e=new ga(i,t);return t>=Bx&&Wf(yield e.readAt(0,Eo+7&-8))?new zx(new Dx(e)):new xa(new Ia(e))})}class Bt extends Z{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...t){const e=s=>s.flatMap(r=>Array.isArray(r)?e(r):r instanceof ue?r.data.children:r.data),n=new Bt;return n.visitMany(e(t)),n}visit(t){if(t instanceof lt)return this.visitMany(t.data),this;const{type:e}=t;if(!P.isDictionary(e)){const{length:n,nullCount:s}=t;if(n>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");P.isNull(e)||Ze.call(this,s<=0?new Uint8Array(0):Of(t.offset,n,t.nullBitmap)),this.nodes.push(new rs(n,s))}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function Ze(i){const t=i.byteLength+7&-8;return this.buffers.push(i),this.bufferRegions.push(new gi(this._byteLength,t)),this._byteLength+=t,this}function $x(i){const{type:t,length:e,typeIds:n,valueOffsets:s}=i;if(Ze.call(this,n),t.mode===ke.Sparse)return dc.call(this,i);if(t.mode===ke.Dense){if(i.offset<=0)return Ze.call(this,s),dc.call(this,i);{const r=n.reduce((h,c)=>Math.max(h,c),n[0]),o=new Int32Array(r+1),l=new Int32Array(r+1).fill(-1),a=new Int32Array(e),u=Mf(-s[0],e,s);for(let h,c,f=-1;++f<e;)(c=l[h=n[f]])===-1&&(c=l[h]=u[h]),a[f]=u[f]-c,++o[h];Ze.call(this,a);for(let h,c=-1,f=t.children.length;++c<f;)if(h=i.children[c]){const d=t.typeIds[c],y=Math.min(e,o[d]);this.visit(h.slice(l[d],y))}}}return this}function Vx(i){let t;return i.nullCount>=i.length?Ze.call(this,new Uint8Array(0)):(t=i.values)instanceof Uint8Array?Ze.call(this,Of(i.offset,i.length,t)):Ze.call(this,ua(i.values))}function kn(i){return Ze.call(this,i.values.subarray(0,i.length*i.stride))}function $g(i){const{length:t,values:e,valueOffsets:n}=i,s=n[0],r=n[t],o=Math.min(r-s,e.byteLength-s);return Ze.call(this,Mf(-n[0],t,n)),Ze.call(this,e.subarray(s,s+o)),this}function Hf(i){const{length:t,valueOffsets:e}=i;return e&&Ze.call(this,Mf(e[0],t,e)),this.visit(i.children[0])}function dc(i){return this.visitMany(i.type.children.map((t,e)=>i.children[e]).filter(Boolean))[0]}Bt.prototype.visitBool=Vx;Bt.prototype.visitInt=kn;Bt.prototype.visitFloat=kn;Bt.prototype.visitUtf8=$g;Bt.prototype.visitBinary=$g;Bt.prototype.visitFixedSizeBinary=kn;Bt.prototype.visitDate=kn;Bt.prototype.visitTimestamp=kn;Bt.prototype.visitTime=kn;Bt.prototype.visitDecimal=kn;Bt.prototype.visitList=Hf;Bt.prototype.visitStruct=dc;Bt.prototype.visitUnion=$x;Bt.prototype.visitInterval=kn;Bt.prototype.visitFixedSizeList=Hf;Bt.prototype.visitMap=Hf;class Vg extends Ff{constructor(t){super(),this._position=0,this._started=!1,this._sink=new xl,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,ye(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return yn(t)?t.then(e=>this.writeAll(e)):or(t)?Qf(this,t):Xf(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,e=null){return t===this._sink||t instanceof xl?this._sink=t:(this._sink=new xl,t&&a_(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&u_(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!e||!uc(e,this._schema))&&(e==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=e,this._writeSchema(e))),this}write(t){let e=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof qt&&!(e=t.schema))return this.finish()&&void 0;if(t instanceof ue&&!(e=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(e&&!uc(e,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,e)}t instanceof ue?t instanceof Vf||this._writeRecordBatch(t):t instanceof qt?this.writeAll(t.batches):xo(t)&&this.writeAll(t)}_writeMessage(t,e=8){const n=e-1,s=te.encode(t),r=s.byteLength,o=this._writeLegacyIpcFormat?4:8,l=r+o+n&~n,a=l-r-o;return t.headerType===ot.RecordBatch?this._recordBatchBlocks.push(new bn(l,t.bodyLength,this._position)):t.headerType===ot.DictionaryBatch&&this._dictionaryBlocks.push(new bn(l,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(l-o)),r>0&&this._write(s),this._writePadding(a)}_write(t){if(this._started){const e=nt(t);e&&e.byteLength>0&&(this._sink.write(e),this._position+=e.byteLength)}return this}_writeSchema(t){return this._writeMessage(te.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(uo)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:e,nodes:n,bufferRegions:s,buffers:r}=Bt.assemble(t),o=new Ne(t.numRows,n,s),l=te.from(o,e);return this._writeDictionaries(t)._writeMessage(l)._writeBodyBuffers(r)}_writeDictionaryBatch(t,e,n=!1){this._dictionaryDeltaOffsets.set(e,t.length+(this._dictionaryDeltaOffsets.get(e)||0));const{byteLength:s,nodes:r,bufferRegions:o,buffers:l}=Bt.assemble(new lt([t])),a=new Ne(t.length,r,o),u=new Mi(a,e,n),h=te.from(u,s);return this._writeMessage(h)._writeBodyBuffers(l)}_writeBodyBuffers(t){let e,n,s;for(let r=-1,o=t.length;++r<o;)(e=t[r])&&(n=e.byteLength)>0&&(this._write(e),(s=(n+7&-8)-n)>0&&this._writePadding(s));return this}_writeDictionaries(t){for(let[e,n]of t.dictionaries){let s=this._dictionaryDeltaOffsets.get(e)||0;if(s===0||(n=n==null?void 0:n.slice(s)).length>0)for(const r of n.data)this._writeDictionaryBatch(r,e,s>0),s+=r.length}return this}}class Kf extends Vg{static writeAll(t,e){const n=new Kf(e);return yn(t)?t.then(s=>n.writeAll(s)):or(t)?Qf(n,t):Xf(n,t)}}class Yf extends Vg{static writeAll(t){const e=new Yf;return yn(t)?t.then(n=>e.writeAll(n)):or(t)?Qf(e,t):Xf(e,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const e=ao.encode(new ao(t,Me.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(e)._write(Int32Array.of(e.byteLength))._writeMagic()}}function Xf(i,t){let e=t;t instanceof qt&&(e=t.batches,i.reset(void 0,t.schema));for(const n of e)i.write(n);return i.finish()}function Qf(i,t){var e,n,s,r;return R(this,void 0,void 0,function*(){try{for(e=Wn(t);n=yield e.next(),!n.done;){const o=n.value;i.write(o)}}catch(o){s={error:o}}finally{try{n&&!n.done&&(r=e.return)&&(yield r.call(e))}finally{if(s)throw s.error}}return i.finish()})}function xr(i){const t=Pi.from(i);return yn(t)?t.then(e=>xr(e)):t.isAsync()?t.readAll().then(e=>new qt(e)):new qt(t.readAll())}function Uu(i,t="stream"){return(t==="stream"?Kf:Yf).writeAll(i).toUint8Array(!0)}var $p=function(){function i(t,e,n,s){var r=this;this.getCell=function(o,l){var a=o<r.headerRows&&l<r.headerColumns,u=o>=r.headerRows&&l<r.headerColumns,h=o<r.headerRows&&l>=r.headerColumns;if(a){var c=["blank"];return l>0&&c.push("level"+o),{type:"blank",classNames:c.join(" "),content:""}}else if(h){var f=l-r.headerColumns,c=["col_heading","level"+o,"col"+f];return{type:"columns",classNames:c.join(" "),content:r.getContent(r.columnsTable,f,o)}}else if(u){var d=o-r.headerRows,c=["row_heading","level"+l,"row"+d];return{type:"index",id:"T_".concat(r.uuid,"level").concat(l,"_row").concat(d),classNames:c.join(" "),content:r.getContent(r.indexTable,d,l)}}else{var d=o-r.headerRows,f=l-r.headerColumns,c=["data","row"+d,"col"+f],y=r.styler?r.getContent(r.styler.displayValuesTable,d,f):r.getContent(r.dataTable,d,f);return{type:"data",id:"T_".concat(r.uuid,"row").concat(d,"_col").concat(f),classNames:c.join(" "),content:y}}},this.getContent=function(o,l,a){var u=o.getChildAt(a);if(u===null)return"";var h=r.getColumnTypeId(o,a);switch(h){case w.Timestamp:return r.nanosToDate(u.get(l));default:return u.get(l)}},this.dataTable=xr(t),this.indexTable=xr(e),this.columnsTable=xr(n),this.styler=s?{caption:s.caption,displayValuesTable:xr(s.displayValues),styles:s.styles,uuid:s.uuid}:void 0}return Object.defineProperty(i.prototype,"rows",{get:function(){return this.indexTable.numRows+this.columnsTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"columns",{get:function(){return this.indexTable.numCols+this.columnsTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"headerRows",{get:function(){return this.rows-this.dataRows},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"headerColumns",{get:function(){return this.columns-this.dataColumns},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dataRows",{get:function(){return this.dataTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dataColumns",{get:function(){return this.dataTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"uuid",{get:function(){return this.styler&&this.styler.uuid},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"caption",{get:function(){return this.styler&&this.styler.caption},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"styles",{get:function(){return this.styler&&this.styler.styles},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"table",{get:function(){return this.dataTable},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"index",{get:function(){return this.indexTable},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"columnTable",{get:function(){return this.columnsTable},enumerable:!1,configurable:!0}),i.prototype.serialize=function(){return{data:Uu(this.dataTable),index:Uu(this.indexTable),columns:Uu(this.columnsTable)}},i.prototype.getColumnTypeId=function(t,e){return t.schema.fields[e].type.typeId},i.prototype.nanosToDate=function(t){return new Date(t/1e6)},i}(),Dr=function(){return Dr=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},Dr.apply(this,arguments)},Lr;(function(i){i.COMPONENT_READY="streamlit:componentReady",i.SET_COMPONENT_VALUE="streamlit:setComponentValue",i.SET_FRAME_HEIGHT="streamlit:setFrameHeight"})(Lr||(Lr={}));var Je=function(){function i(){}return i.API_VERSION=1,i.RENDER_EVENT="streamlit:render",i.events=new EventTarget,i.registeredMessageListener=!1,i.setComponentReady=function(){i.registeredMessageListener||(window.addEventListener("message",i.onMessageEvent),i.registeredMessageListener=!0),i.sendBackMsg(Lr.COMPONENT_READY,{apiVersion:i.API_VERSION})},i.setFrameHeight=function(t){t===void 0&&(t=document.body.scrollHeight),t!==i.lastFrameHeight&&(i.lastFrameHeight=t,i.sendBackMsg(Lr.SET_FRAME_HEIGHT,{height:t}))},i.setComponentValue=function(t){var e;t instanceof $p?(e="dataframe",t=t.serialize()):jx(t)?(e="bytes",t=new Uint8Array(t.buffer)):t instanceof ArrayBuffer?(e="bytes",t=new Uint8Array(t)):e="json",i.sendBackMsg(Lr.SET_COMPONENT_VALUE,{value:t,dataType:e})},i.onMessageEvent=function(t){var e=t.data.type;switch(e){case i.RENDER_EVENT:i.onRenderMessage(t.data);break}},i.onRenderMessage=function(t){var e=t.args;e==null&&(console.error("Got null args in onRenderMessage. This should never happen"),e={});var n=t.dfs&&t.dfs.length>0?i.argsDataframeToObject(t.dfs):{};e=Dr(Dr({},e),n);var s=!!t.disabled,r=t.theme;r&&Ux(r);var o={disabled:s,args:e,theme:r},l=new CustomEvent(i.RENDER_EVENT,{detail:o});i.events.dispatchEvent(l)},i.argsDataframeToObject=function(t){var e=t.map(function(n){var s=n.key,r=n.value;return[s,i.toArrowTable(r)]});return Object.fromEntries(e)},i.toArrowTable=function(t){var e,n=(e=t.data,e.data),s=e.index,r=e.columns,o=e.styler;return new $p(n,s,r,o)},i.sendBackMsg=function(t,e){window.parent.postMessage(Dr({isStreamlitMessage:!0,type:t},e),"*")},i}(),Ux=function(i){var t=document.createElement("style");document.head.appendChild(t),t.innerHTML=`
    :root {
      --primary-color: `.concat(i.primaryColor,`;
      --background-color: `).concat(i.backgroundColor,`;
      --secondary-background-color: `).concat(i.secondaryBackgroundColor,`;
      --text-color: `).concat(i.textColor,`;
      --font: `).concat(i.font,`;
    }

    body {
      background-color: var(--background-color);
      color: var(--text-color);
    }
  `)};function jx(i){var t=!1;try{t=i instanceof BigInt64Array||i instanceof BigUint64Array}catch{}return i instanceof Int8Array||i instanceof Uint8Array||i instanceof Uint8ClampedArray||i instanceof Int16Array||i instanceof Uint16Array||i instanceof Int32Array||i instanceof Uint32Array||i instanceof Float32Array||i instanceof Float64Array||t}var Ug=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();(function(i){Ug(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.componentDidMount=function(){Je.setFrameHeight()},t.prototype.componentDidUpdate=function(){Je.setFrameHeight()},t})(us.PureComponent);function Wx(i){var t=function(e){Ug(n,e);function n(s){var r=e.call(this,s)||this;return r.componentDidMount=function(){Je.events.addEventListener(Je.RENDER_EVENT,r.onRenderEvent),Je.setComponentReady()},r.componentDidUpdate=function(){r.state.componentError!=null&&Je.setFrameHeight()},r.componentWillUnmount=function(){Je.events.removeEventListener(Je.RENDER_EVENT,r.onRenderEvent)},r.onRenderEvent=function(o){r.setState({renderData:o.detail})},r.state={renderData:void 0,componentError:void 0},r}return n.prototype.render=function(){return this.state.componentError!=null?us.createElement("div",null,us.createElement("h1",null,"Component Error"),us.createElement("span",null,this.state.componentError.message)):this.state.renderData==null?null:us.createElement(i,{width:window.innerWidth,disabled:this.state.renderData.disabled,args:this.state.renderData.args,theme:this.state.renderData.theme})},n.getDerivedStateFromError=function(s){return{componentError:s}},n}(us.PureComponent);return n_(t,i)}function wt(i){var t=i.width,e=i.height;if(t<0)throw new Error("Negative width is not allowed for Size");if(e<0)throw new Error("Negative height is not allowed for Size");return{width:t,height:e}}function Kn(i,t){return i.width===t.width&&i.height===t.height}var Hx=function(){function i(t){var e=this;this._resolutionListener=function(){return e._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return i.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(i.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),i.prototype.subscribe=function(t){var e=this,n={next:t};return this._observers.push(n),{unsubscribe:function(){e._observers=e._observers.filter(function(s){return s!==n})}}},i.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},i.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},i.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},i.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach(function(e){return e.next(t._window.devicePixelRatio)}),this._reinstallResolutionListener()},i}();function Kx(i){return new Hx(i)}var Yx=function(){function i(t,e,n){var s;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=wt({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=e??function(r){return r},this._allowResizeObserver=(s=n==null?void 0:n.allowResizeObserver)!==null&&s!==void 0?s:!0,this._chooseAndInitObserver()}return i.prototype.dispose=function(){var t,e;if(this._canvasElement===null)throw new Error("Object is disposed");(t=this._canvasElementResizeObserver)===null||t===void 0||t.disconnect(),this._canvasElementResizeObserver=null,(e=this._devicePixelRatioObservable)===null||e===void 0||e.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(i.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bitmapSize",{get:function(){return wt({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),i.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=wt(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},i.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},i.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(e){return e!==t})},Object.defineProperty(i.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),i.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},i.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(e){return e!==t})},i.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},i.prototype._resizeBitmap=function(t){var e=this.bitmapSize;Kn(e,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(e,t))},i.prototype._emitBitmapSizeChanged=function(t,e){var n=this;this._bitmapSizeChangedListeners.forEach(function(s){return s.call(n,t,e)})},i.prototype._suggestNewBitmapSize=function(t){var e=this._suggestedBitmapSize,n=wt(this._transformBitmapSize(t,this._canvasElementClientSize)),s=Kn(this.bitmapSize,n)?null:n;e===null&&s===null||e!==null&&s!==null&&Kn(e,s)||(this._suggestedBitmapSize=s,this._emitSuggestedBitmapSizeChanged(e,s))},i.prototype._emitSuggestedBitmapSizeChanged=function(t,e){var n=this;this._suggestedBitmapSizeChangedListeners.forEach(function(s){return s.call(n,t,e)})},i.prototype._chooseAndInitObserver=function(){var t=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}Qx().then(function(e){return e?t._initResizeObserver():t._initDevicePixelRatioObservable()})},i.prototype._initDevicePixelRatioObservable=function(){var t=this;if(this._canvasElement!==null){var e=Vp(this._canvasElement);if(e===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=Kx(e),this._devicePixelRatioObservable.subscribe(function(){return t._invalidateBitmapSize()}),this._invalidateBitmapSize()}},i.prototype._invalidateBitmapSize=function(){var t,e;if(this._canvasElement!==null){var n=Vp(this._canvasElement);if(n!==null){var s=(e=(t=this._devicePixelRatioObservable)===null||t===void 0?void 0:t.value)!==null&&e!==void 0?e:n.devicePixelRatio,r=this._canvasElement.getClientRects(),o=r[0]!==void 0?Jx(r[0],s):wt({width:this._canvasElementClientSize.width*s,height:this._canvasElementClientSize.height*s});this._suggestNewBitmapSize(o)}}},i.prototype._initResizeObserver=function(){var t=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(e){var n=e.find(function(o){return o.target===t._canvasElement});if(!(!n||!n.devicePixelContentBoxSize||!n.devicePixelContentBoxSize[0])){var s=n.devicePixelContentBoxSize[0],r=wt({width:s.inlineSize,height:s.blockSize});t._suggestNewBitmapSize(r)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},i}();function Xx(i,t){return new Yx(i,t.transform,t.options)}function Vp(i){return i.ownerDocument.defaultView}function Qx(){return new Promise(function(i){var t=new ResizeObserver(function(e){i(e.every(function(n){return"devicePixelContentBoxSize"in n})),t.disconnect()});t.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function Jx(i,t){return wt({width:Math.round(i.left*t+i.width*t)-Math.round(i.left*t),height:Math.round(i.top*t+i.height*t)-Math.round(i.top*t)})}var Gx=function(){function i(t,e,n){if(e.width===0||e.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=e,n.width===0||n.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=n,this._context=t}return i.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},i.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(i.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),i}();function Zn(i,t){var e=i.canvasElementClientSize;if(e.width===0||e.height===0)return null;var n=i.bitmapSize;if(n.width===0||n.height===0)return null;var s=i.canvasElement.getContext("2d",t);return s===null?null:new Gx(s,e,n)}/*!
 * @license
 * TradingView Lightweight Charts™ v4.2.3
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const qx={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},Zx={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},t2={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},e2={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},i2={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},n2={color:"#26a69a",base:0},jg={color:"#2196f3"},Wg={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var Up,jp;function ts(i,t){const e={0:[],1:[i.lineWidth,i.lineWidth],2:[2*i.lineWidth,2*i.lineWidth],3:[6*i.lineWidth,6*i.lineWidth],4:[i.lineWidth,4*i.lineWidth]}[t];i.setLineDash(e)}function Hg(i,t,e,n){i.beginPath();const s=i.lineWidth%2?.5:0;i.moveTo(e,t+s),i.lineTo(n,t+s),i.stroke()}function Sn(i,t){if(!i)throw new Error("Assertion failed"+(t?": "+t:""))}function ie(i){if(i===void 0)throw new Error("Value is undefined");return i}function M(i){if(i===null)throw new Error("Value is null");return i}function Es(i){return M(ie(i))}(function(i){i[i.Simple=0]="Simple",i[i.WithSteps=1]="WithSteps",i[i.Curved=2]="Curved"})(Up||(Up={})),function(i){i[i.Solid=0]="Solid",i[i.Dotted=1]="Dotted",i[i.Dashed=2]="Dashed",i[i.LargeDashed=3]="LargeDashed",i[i.SparseDotted=4]="SparseDotted"}(jp||(jp={}));const Wp={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function De(i){return i<0?0:i>255?255:Math.round(i)||0}function Kg(i){return i<=0||i>1?Math.min(Math.max(i,0),1):Math.round(1e4*i)/1e4}const s2=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,r2=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,o2=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,l2=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d*\.?\d+)\s*\)$/;function ho(i){(i=i.toLowerCase())in Wp&&(i=Wp[i]);{const t=l2.exec(i)||o2.exec(i);if(t)return[De(parseInt(t[1],10)),De(parseInt(t[2],10)),De(parseInt(t[3],10)),Kg(t.length<5?1:parseFloat(t[4]))]}{const t=r2.exec(i);if(t)return[De(parseInt(t[1],16)),De(parseInt(t[2],16)),De(parseInt(t[3],16)),1]}{const t=s2.exec(i);if(t)return[De(17*parseInt(t[1],16)),De(17*parseInt(t[2],16)),De(17*parseInt(t[3],16)),1]}throw new Error(`Cannot parse color: ${i}`)}function Yg(i){return .199*i[0]+.687*i[1]+.114*i[2]}function su(i){const t=ho(i);return{t:`rgb(${t[0]}, ${t[1]}, ${t[2]})`,i:Yg(t)>160?"black":"white"}}class Tt{constructor(){this.h=[]}l(t,e,n){const s={o:t,_:e,u:n===!0};this.h.push(s)}v(t){const e=this.h.findIndex(n=>t===n.o);e>-1&&this.h.splice(e,1)}p(t){this.h=this.h.filter(e=>e._!==t)}m(t,e,n){const s=[...this.h];this.h=this.h.filter(r=>!r.u),s.forEach(r=>r.o(t,e,n))}M(){return this.h.length>0}S(){this.h=[]}}function ei(i,...t){for(const e of t)for(const n in e)e[n]!==void 0&&Object.prototype.hasOwnProperty.call(e,n)&&!["__proto__","constructor","prototype"].includes(n)&&(typeof e[n]!="object"||i[n]===void 0||Array.isArray(e[n])?i[n]=e[n]:ei(i[n],e[n]));return i}function wi(i){return typeof i=="number"&&isFinite(i)}function co(i){return typeof i=="number"&&i%1==0}function ko(i){return typeof i=="string"}function Go(i){return typeof i=="boolean"}function Li(i){const t=i;if(!t||typeof t!="object")return t;let e,n,s;for(n in e=Array.isArray(t)?[]:{},t)t.hasOwnProperty(n)&&(s=t[n],e[n]=s&&typeof s=="object"?Li(s):s);return e}function a2(i){return i!==null}function fo(i){return i===null?void 0:i}const Jf="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function er(i,t,e){return t===void 0&&(t=Jf),`${e=e!==void 0?`${e} `:""}${i}px ${t}`}class u2{constructor(t){this.k={C:1,T:5,P:NaN,R:"",D:"",V:"",O:"",B:0,A:0,I:0,L:0,N:0},this.F=t}W(){const t=this.k,e=this.j(),n=this.H();return t.P===e&&t.D===n||(t.P=e,t.D=n,t.R=er(e,n),t.L=2.5/12*e,t.B=t.L,t.A=e/12*t.T,t.I=e/12*t.T,t.N=0),t.V=this.$(),t.O=this.U(),this.k}$(){return this.F.W().layout.textColor}U(){return this.F.q()}j(){return this.F.W().layout.fontSize}H(){return this.F.W().layout.fontFamily}}class Gf{constructor(){this.Y=[]}Z(t){this.Y=t}X(t,e,n){this.Y.forEach(s=>{s.X(t,e,n)})}}class ni{X(t,e,n){t.useBitmapCoordinateSpace(s=>this.K(s,e,n))}}class h2 extends ni{constructor(){super(...arguments),this.G=null}J(t){this.G=t}K({context:t,horizontalPixelRatio:e,verticalPixelRatio:n}){if(this.G===null||this.G.tt===null)return;const s=this.G.tt,r=this.G,o=Math.max(1,Math.floor(e))%2/2,l=a=>{t.beginPath();for(let u=s.to-1;u>=s.from;--u){const h=r.it[u],c=Math.round(h.nt*e)+o,f=h.st*n,d=a*n+o;t.moveTo(c,f),t.arc(c,f,d,0,2*Math.PI)}t.fill()};r.et>0&&(t.fillStyle=r.rt,l(r.ht+r.et)),t.fillStyle=r.lt,l(r.ht)}}function c2(){return{it:[{nt:0,st:0,ot:0,_t:0}],lt:"",rt:"",ht:0,et:0,tt:null}}const f2={from:0,to:1};class d2{constructor(t,e){this.ut=new Gf,this.ct=[],this.dt=[],this.ft=!0,this.F=t,this.vt=e,this.ut.Z(this.ct)}bt(t){const e=this.F.wt();e.length!==this.ct.length&&(this.dt=e.map(c2),this.ct=this.dt.map(n=>{const s=new h2;return s.J(n),s}),this.ut.Z(this.ct)),this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.ut}Mt(){const t=this.vt.W().mode===2,e=this.F.wt(),n=this.vt.xt(),s=this.F.St();e.forEach((r,o)=>{var l;const a=this.dt[o],u=r.kt(n);if(t||u===null||!r.yt())return void(a.tt=null);const h=M(r.Ct());a.lt=u.Tt,a.ht=u.ht,a.et=u.Pt,a.it[0]._t=u._t,a.it[0].st=r.Dt().Rt(u._t,h.Vt),a.rt=(l=u.Ot)!==null&&l!==void 0?l:this.F.Bt(a.it[0].st/r.Dt().At()),a.it[0].ot=n,a.it[0].nt=s.It(n),a.tt=f2})}}class p2 extends ni{constructor(t){super(),this.zt=t}K({context:t,bitmapSize:e,horizontalPixelRatio:n,verticalPixelRatio:s}){if(this.zt===null)return;const r=this.zt.Lt.yt,o=this.zt.Et.yt;if(!r&&!o)return;const l=Math.round(this.zt.nt*n),a=Math.round(this.zt.st*s);t.lineCap="butt",r&&l>=0&&(t.lineWidth=Math.floor(this.zt.Lt.et*n),t.strokeStyle=this.zt.Lt.V,t.fillStyle=this.zt.Lt.V,ts(t,this.zt.Lt.Nt),function(u,h,c,f){u.beginPath();const d=u.lineWidth%2?.5:0;u.moveTo(h+d,c),u.lineTo(h+d,f),u.stroke()}(t,l,0,e.height)),o&&a>=0&&(t.lineWidth=Math.floor(this.zt.Et.et*s),t.strokeStyle=this.zt.Et.V,t.fillStyle=this.zt.Et.V,ts(t,this.zt.Et.Nt),Hg(t,a,0,e.width))}}class m2{constructor(t){this.ft=!0,this.Ft={Lt:{et:1,Nt:0,V:"",yt:!1},Et:{et:1,Nt:0,V:"",yt:!1},nt:0,st:0},this.Wt=new p2(this.Ft),this.jt=t}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const t=this.jt.yt(),e=M(this.jt.Ht()),n=e.$t().W().crosshair,s=this.Ft;if(n.mode===2)return s.Et.yt=!1,void(s.Lt.yt=!1);s.Et.yt=t&&this.jt.Ut(e),s.Lt.yt=t&&this.jt.qt(),s.Et.et=n.horzLine.width,s.Et.Nt=n.horzLine.style,s.Et.V=n.horzLine.color,s.Lt.et=n.vertLine.width,s.Lt.Nt=n.vertLine.style,s.Lt.V=n.vertLine.color,s.nt=this.jt.Yt(),s.st=this.jt.Zt()}}function y2(i,t,e,n,s,r){i.fillRect(t+r,e,n-2*r,r),i.fillRect(t+r,e+s-r,n-2*r,r),i.fillRect(t,e,r,s),i.fillRect(t+n-r,e,r,s)}function ru(i,t,e,n,s,r){i.save(),i.globalCompositeOperation="copy",i.fillStyle=r,i.fillRect(t,e,n,s),i.restore()}function Hp(i,t,e,n,s,r){i.beginPath(),i.roundRect?i.roundRect(t,e,n,s,r):(i.lineTo(t+n-r[1],e),r[1]!==0&&i.arcTo(t+n,e,t+n,e+r[1],r[1]),i.lineTo(t+n,e+s-r[2]),r[2]!==0&&i.arcTo(t+n,e+s,t+n-r[2],e+s,r[2]),i.lineTo(t+r[3],e+s),r[3]!==0&&i.arcTo(t,e+s,t,e+s-r[3],r[3]),i.lineTo(t,e+r[0]),r[0]!==0&&i.arcTo(t,e,t+r[0],e,r[0]))}function Kp(i,t,e,n,s,r,o=0,l=[0,0,0,0],a=""){if(i.save(),!o||!a||a===r)return Hp(i,t,e,n,s,l),i.fillStyle=r,i.fill(),void i.restore();const u=o/2;var h;Hp(i,t+u,e+u,n-o,s-o,(h=-u,l.map(c=>c===0?c:c+h))),r!=="transparent"&&(i.fillStyle=r,i.fill()),a!=="transparent"&&(i.lineWidth=o,i.strokeStyle=a,i.closePath(),i.stroke()),i.restore()}function Xg(i,t,e,n,s,r,o){i.save(),i.globalCompositeOperation="copy";const l=i.createLinearGradient(0,0,0,s);l.addColorStop(0,r),l.addColorStop(1,o),i.fillStyle=l,i.fillRect(t,e,n,s),i.restore()}class Yp{constructor(t,e){this.J(t,e)}J(t,e){this.zt=t,this.Xt=e}At(t,e){return this.zt.yt?t.P+t.L+t.B:0}X(t,e,n,s){if(!this.zt.yt||this.zt.Kt.length===0)return;const r=this.zt.V,o=this.Xt.t,l=t.useBitmapCoordinateSpace(a=>{const u=a.context;u.font=e.R;const h=this.Gt(a,e,n,s),c=h.Jt;return h.Qt?Kp(u,c.ti,c.ii,c.ni,c.si,o,c.ei,[c.ht,0,0,c.ht],o):Kp(u,c.ri,c.ii,c.ni,c.si,o,c.ei,[0,c.ht,c.ht,0],o),this.zt.hi&&(u.fillStyle=r,u.fillRect(c.ri,c.li,c.ai-c.ri,c.oi)),this.zt._i&&(u.fillStyle=e.O,u.fillRect(h.Qt?c.ui-c.ei:0,c.ii,c.ei,c.ci-c.ii)),h});t.useMediaCoordinateSpace(({context:a})=>{const u=l.di;a.font=e.R,a.textAlign=l.Qt?"right":"left",a.textBaseline="middle",a.fillStyle=r,a.fillText(this.zt.Kt,u.fi,(u.ii+u.ci)/2+u.pi)})}Gt(t,e,n,s){var r;const{context:o,bitmapSize:l,mediaSize:a,horizontalPixelRatio:u,verticalPixelRatio:h}=t,c=this.zt.hi||!this.zt.mi?e.T:0,f=this.zt.bi?e.C:0,d=e.L+this.Xt.wi,y=e.B+this.Xt.gi,v=e.A,x=e.I,p=this.zt.Kt,m=e.P,g=n.Mi(o,p),b=Math.ceil(n.xi(o,p)),E=m+d+y,B=e.C+v+x+b+c,T=Math.max(1,Math.floor(h));let O=Math.round(E*h);O%2!=T%2&&(O+=1);const it=f>0?Math.max(1,Math.floor(f*u)):0,A=Math.round(B*u),N=Math.round(c*u),F=(r=this.Xt.Si)!==null&&r!==void 0?r:this.Xt.ki,D=Math.round(F*h)-Math.floor(.5*h),k=Math.floor(D+T/2-O/2),rt=k+O,tt=s==="right",vt=tt?a.width-f:f,_=tt?l.width-it:it;let S,I,L;return tt?(S=_-A,I=_-N,L=vt-c-v-f):(S=_+A,I=_+N,L=vt+c+v),{Qt:tt,Jt:{ii:k,li:D,ci:rt,ni:A,si:O,ht:2*u,ei:it,ti:S,ri:_,ai:I,oi:T,ui:l.width},di:{ii:k/h,ci:rt/h,fi:L,pi:g}}}}class ou{constructor(t){this.yi={ki:0,t:"#000",gi:0,wi:0},this.Ci={Kt:"",yt:!1,hi:!0,mi:!1,Ot:"",V:"#FFF",_i:!1,bi:!1},this.Ti={Kt:"",yt:!1,hi:!1,mi:!0,Ot:"",V:"#FFF",_i:!0,bi:!0},this.ft=!0,this.Pi=new(t||Yp)(this.Ci,this.yi),this.Ri=new(t||Yp)(this.Ti,this.yi)}Kt(){return this.Di(),this.Ci.Kt}ki(){return this.Di(),this.yi.ki}bt(){this.ft=!0}At(t,e=!1){return Math.max(this.Pi.At(t,e),this.Ri.At(t,e))}Vi(){return this.yi.Si||0}Oi(t){this.yi.Si=t}Bi(){return this.Di(),this.Ci.yt||this.Ti.yt}Ai(){return this.Di(),this.Ci.yt}gt(t){return this.Di(),this.Ci.hi=this.Ci.hi&&t.W().ticksVisible,this.Ti.hi=this.Ti.hi&&t.W().ticksVisible,this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Pi}Ii(){return this.Di(),this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Ri}Di(){this.ft&&(this.Ci.hi=!0,this.Ti.hi=!1,this.zi(this.Ci,this.Ti,this.yi))}}class v2 extends ou{constructor(t,e,n){super(),this.jt=t,this.Li=e,this.Ei=n}zi(t,e,n){if(t.yt=!1,this.jt.W().mode===2)return;const s=this.jt.W().horzLine;if(!s.labelVisible)return;const r=this.Li.Ct();if(!this.jt.yt()||this.Li.Ni()||r===null)return;const o=su(s.labelBackgroundColor);n.t=o.t,t.V=o.i;const l=2/12*this.Li.P();n.wi=l,n.gi=l;const a=this.Ei(this.Li);n.ki=a.ki,t.Kt=this.Li.Fi(a._t,r),t.yt=!0}}const g2=/[1-9]/g;class Qg{constructor(){this.zt=null}J(t){this.zt=t}X(t,e){if(this.zt===null||this.zt.yt===!1||this.zt.Kt.length===0)return;const n=t.useMediaCoordinateSpace(({context:f})=>(f.font=e.R,Math.round(e.Wi.xi(f,M(this.zt).Kt,g2))));if(n<=0)return;const s=e.ji,r=n+2*s,o=r/2,l=this.zt.Hi;let a=this.zt.ki,u=Math.floor(a-o)+.5;u<0?(a+=Math.abs(0-u),u=Math.floor(a-o)+.5):u+r>l&&(a-=Math.abs(l-(u+r)),u=Math.floor(a-o)+.5);const h=u+r,c=Math.ceil(0+e.C+e.T+e.L+e.P+e.B);t.useBitmapCoordinateSpace(({context:f,horizontalPixelRatio:d,verticalPixelRatio:y})=>{const v=M(this.zt);f.fillStyle=v.t;const x=Math.round(u*d),p=Math.round(0*y),m=Math.round(h*d),g=Math.round(c*y),b=Math.round(2*d);if(f.beginPath(),f.moveTo(x,p),f.lineTo(x,g-b),f.arcTo(x,g,x+b,g,b),f.lineTo(m-b,g),f.arcTo(m,g,m,g-b,b),f.lineTo(m,p),f.fill(),v.hi){const E=Math.round(v.ki*d),B=p,T=Math.round((B+e.T)*y);f.fillStyle=v.V;const O=Math.max(1,Math.floor(d)),it=Math.floor(.5*d);f.fillRect(E-it,B,O,T-B)}}),t.useMediaCoordinateSpace(({context:f})=>{const d=M(this.zt),y=0+e.C+e.T+e.L+e.P/2;f.font=e.R,f.textAlign="left",f.textBaseline="middle",f.fillStyle=d.V;const v=e.Wi.Mi(f,"Apr0");f.translate(u+s,y+v),f.fillText(d.Kt,0,0)})}}class w2{constructor(t,e,n){this.ft=!0,this.Wt=new Qg,this.Ft={yt:!1,t:"#4c525e",V:"white",Kt:"",Hi:0,ki:NaN,hi:!0},this.vt=t,this.$i=e,this.Ei=n}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt.J(this.Ft),this.Wt}Mt(){const t=this.Ft;if(t.yt=!1,this.vt.W().mode===2)return;const e=this.vt.W().vertLine;if(!e.labelVisible)return;const n=this.$i.St();if(n.Ni())return;t.Hi=n.Hi();const s=this.Ei();if(s===null)return;t.ki=s.ki;const r=n.Ui(this.vt.xt());t.Kt=n.qi(M(r)),t.yt=!0;const o=su(e.labelBackgroundColor);t.t=o.t,t.V=o.i,t.hi=n.W().ticksVisible}}class qf{constructor(){this.Yi=null,this.Zi=0}Xi(){return this.Zi}Ki(t){this.Zi=t}Dt(){return this.Yi}Gi(t){this.Yi=t}Ji(t){return[]}Qi(){return[]}yt(){return!0}}var Xp;(function(i){i[i.Normal=0]="Normal",i[i.Magnet=1]="Magnet",i[i.Hidden=2]="Hidden"})(Xp||(Xp={}));class b2 extends qf{constructor(t,e){super(),this.tn=null,this.nn=NaN,this.sn=0,this.en=!0,this.rn=new Map,this.hn=!1,this.ln=NaN,this.an=NaN,this._n=NaN,this.un=NaN,this.$i=t,this.cn=e,this.dn=new d2(t,this),this.fn=((s,r)=>o=>{const l=r(),a=s();if(o===M(this.tn).vn())return{_t:a,ki:l};{const u=M(o.Ct());return{_t:o.pn(l,u),ki:l}}})(()=>this.nn,()=>this.an);const n=((s,r)=>()=>{const o=this.$i.St().mn(s()),l=r();return o&&Number.isFinite(l)?{ot:o,ki:l}:null})(()=>this.sn,()=>this.Yt());this.bn=new w2(this,t,n),this.wn=new m2(this)}W(){return this.cn}gn(t,e){this._n=t,this.un=e}Mn(){this._n=NaN,this.un=NaN}xn(){return this._n}Sn(){return this.un}kn(t,e,n){this.hn||(this.hn=!0),this.en=!0,this.yn(t,e,n)}xt(){return this.sn}Yt(){return this.ln}Zt(){return this.an}yt(){return this.en}Cn(){this.en=!1,this.Tn(),this.nn=NaN,this.ln=NaN,this.an=NaN,this.tn=null,this.Mn()}Pn(t){return this.tn!==null?[this.wn,this.dn]:[]}Ut(t){return t===this.tn&&this.cn.horzLine.visible}qt(){return this.cn.vertLine.visible}Rn(t,e){this.en&&this.tn===t||this.rn.clear();const n=[];return this.tn===t&&n.push(this.Dn(this.rn,e,this.fn)),n}Qi(){return this.en?[this.bn]:[]}Ht(){return this.tn}Vn(){this.wn.bt(),this.rn.forEach(t=>t.bt()),this.bn.bt(),this.dn.bt()}On(t){return t&&!t.vn().Ni()?t.vn():null}yn(t,e,n){this.Bn(t,e,n)&&this.Vn()}Bn(t,e,n){const s=this.ln,r=this.an,o=this.nn,l=this.sn,a=this.tn,u=this.On(n);this.sn=t,this.ln=isNaN(t)?NaN:this.$i.St().It(t),this.tn=n;const h=u!==null?u.Ct():null;return u!==null&&h!==null?(this.nn=e,this.an=u.Rt(e,h)):(this.nn=NaN,this.an=NaN),s!==this.ln||r!==this.an||l!==this.sn||o!==this.nn||a!==this.tn}Tn(){const t=this.$i.wt().map(n=>n.In().An()).filter(a2),e=t.length===0?null:Math.max(...t);this.sn=e!==null?e:NaN}Dn(t,e,n){let s=t.get(e);return s===void 0&&(s=new v2(this,e,n),t.set(e,s)),s}}function lu(i){return i==="left"||i==="right"}class jt{constructor(t){this.zn=new Map,this.Ln=[],this.En=t}Nn(t,e){const n=function(s,r){return s===void 0?r:{Fn:Math.max(s.Fn,r.Fn),Wn:s.Wn||r.Wn}}(this.zn.get(t),e);this.zn.set(t,n)}jn(){return this.En}Hn(t){const e=this.zn.get(t);return e===void 0?{Fn:this.En}:{Fn:Math.max(this.En,e.Fn),Wn:e.Wn}}$n(){this.Un(),this.Ln=[{qn:0}]}Yn(t){this.Un(),this.Ln=[{qn:1,Vt:t}]}Zn(t){this.Xn(),this.Ln.push({qn:5,Vt:t})}Un(){this.Xn(),this.Ln.push({qn:6})}Kn(){this.Un(),this.Ln=[{qn:4}]}Gn(t){this.Un(),this.Ln.push({qn:2,Vt:t})}Jn(t){this.Un(),this.Ln.push({qn:3,Vt:t})}Qn(){return this.Ln}ts(t){for(const e of t.Ln)this.ns(e);this.En=Math.max(this.En,t.En),t.zn.forEach((e,n)=>{this.Nn(n,e)})}static ss(){return new jt(2)}static es(){return new jt(3)}ns(t){switch(t.qn){case 0:this.$n();break;case 1:this.Yn(t.Vt);break;case 2:this.Gn(t.Vt);break;case 3:this.Jn(t.Vt);break;case 4:this.Kn();break;case 5:this.Zn(t.Vt);break;case 6:this.Xn()}}Xn(){const t=this.Ln.findIndex(e=>e.qn===5);t!==-1&&this.Ln.splice(t,1)}}const Qp=".";function Fi(i,t){if(!wi(i))return"n/a";if(!co(t))throw new TypeError("invalid length");if(t<0||t>16)throw new TypeError("invalid length");return t===0?i.toString():("0000000000000000"+i.toString()).slice(-t)}class au{constructor(t,e){if(e||(e=1),wi(t)&&co(t)||(t=100),t<0)throw new TypeError("invalid base");this.Li=t,this.rs=e,this.hs()}format(t){const e=t<0?"−":"";return t=Math.abs(t),e+this.ls(t)}hs(){if(this._s=0,this.Li>0&&this.rs>0){let t=this.Li;for(;t>1;)t/=10,this._s++}}ls(t){const e=this.Li/this.rs;let n=Math.floor(t),s="";const r=this._s!==void 0?this._s:NaN;if(e>1){let o=+(Math.round(t*e)-n*e).toFixed(this._s);o>=e&&(o-=e,n+=1),s=Qp+Fi(+o.toFixed(this._s)*this.rs,r)}else n=Math.round(n*e)/e,r>0&&(s=Qp+Fi(0,r));return n.toFixed(0)+s}}class Jg extends au{constructor(t=100){super(t)}format(t){return`${super.format(t)}%`}}class _2{constructor(t){this.us=t}format(t){let e="";return t<0&&(e="-",t=-t),t<995?e+this.cs(t):t<999995?e+this.cs(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this.cs(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this.cs(t/1e9)+"B")}cs(t){let e;const n=Math.pow(10,this.us);return e=(t=Math.round(t*n)/n)>=1e-15&&t<1?t.toFixed(this.us).replace(/\.?0+$/,""):String(t),e.replace(/(\.[1-9]*)0+$/,(s,r)=>r)}}function Gg(i,t,e,n,s,r,o){if(t.length===0||n.from>=t.length||n.to<=0)return;const{context:l,horizontalPixelRatio:a,verticalPixelRatio:u}=i,h=t[n.from];let c=r(i,h),f=h;if(n.to-n.from<2){const d=s/2;l.beginPath();const y={nt:h.nt-d,st:h.st},v={nt:h.nt+d,st:h.st};l.moveTo(y.nt*a,y.st*u),l.lineTo(v.nt*a,v.st*u),o(i,c,y,v)}else{const d=(v,x)=>{o(i,c,f,x),l.beginPath(),c=v,f=x};let y=f;l.beginPath(),l.moveTo(h.nt*a,h.st*u);for(let v=n.from+1;v<n.to;++v){y=t[v];const x=r(i,y);switch(e){case 0:l.lineTo(y.nt*a,y.st*u);break;case 1:l.lineTo(y.nt*a,t[v-1].st*u),x!==c&&(d(x,y),l.lineTo(y.nt*a,t[v-1].st*u)),l.lineTo(y.nt*a,y.st*u);break;case 2:{const[p,m]=S2(t,v-1,v);l.bezierCurveTo(p.nt*a,p.st*u,m.nt*a,m.st*u,y.nt*a,y.st*u);break}}e!==1&&x!==c&&(d(x,y),l.moveTo(y.nt*a,y.st*u))}(f!==y||f===y&&e===1)&&o(i,c,f,y)}}const Jp=6;function ju(i,t){return{nt:i.nt-t.nt,st:i.st-t.st}}function Gp(i,t){return{nt:i.nt/t,st:i.st/t}}function S2(i,t,e){const n=Math.max(0,t-1),s=Math.min(i.length-1,e+1);var r,o;return[(r=i[t],o=Gp(ju(i[e],i[n]),Jp),{nt:r.nt+o.nt,st:r.st+o.st}),ju(i[e],Gp(ju(i[s],i[t]),Jp))]}function x2(i,t,e,n,s){const{context:r,horizontalPixelRatio:o,verticalPixelRatio:l}=t;r.lineTo(s.nt*o,i*l),r.lineTo(n.nt*o,i*l),r.closePath(),r.fillStyle=e,r.fill()}class qg extends ni{constructor(){super(...arguments),this.G=null}J(t){this.G=t}K(t){var e;if(this.G===null)return;const{it:n,tt:s,ds:r,et:o,Nt:l,fs:a}=this.G,u=(e=this.G.vs)!==null&&e!==void 0?e:this.G.ps?0:t.mediaSize.height;if(s===null)return;const h=t.context;h.lineCap="butt",h.lineJoin="round",h.lineWidth=o,ts(h,l),h.lineWidth=1,Gg(t,n,a,s,r,this.bs.bind(this),x2.bind(null,u))}}function pc(i,t,e){return Math.min(Math.max(i,t),e)}function qo(i,t,e){return t-i<=e}function Zg(i){const t=Math.ceil(i);return t%2==0?t-1:t}class Zf{ws(t,e){const n=this.gs,{Ms:s,xs:r,Ss:o,ks:l,ys:a,vs:u}=e;if(this.Cs===void 0||n===void 0||n.Ms!==s||n.xs!==r||n.Ss!==o||n.ks!==l||n.vs!==u||n.ys!==a){const h=t.context.createLinearGradient(0,0,0,a);if(h.addColorStop(0,s),u!=null){const c=pc(u*t.verticalPixelRatio/a,0,1);h.addColorStop(c,r),h.addColorStop(c,o)}h.addColorStop(1,l),this.Cs=h,this.gs=e}return this.Cs}}class M2 extends qg{constructor(){super(...arguments),this.Ts=new Zf}bs(t,e){return this.Ts.ws(t,{Ms:e.Ps,xs:"",Ss:"",ks:e.Rs,ys:t.bitmapSize.height})}}function I2(i,t){const e=i.context;e.strokeStyle=t,e.stroke()}class tw extends ni{constructor(){super(...arguments),this.G=null}J(t){this.G=t}K(t){if(this.G===null)return;const{it:e,tt:n,ds:s,fs:r,et:o,Nt:l,Ds:a}=this.G;if(n===null)return;const u=t.context;u.lineCap="butt",u.lineWidth=o*t.verticalPixelRatio,ts(u,l),u.lineJoin="round";const h=this.Vs.bind(this);r!==void 0&&Gg(t,e,r,n,s,h,I2),a&&function(c,f,d,y,v){const{horizontalPixelRatio:x,verticalPixelRatio:p,context:m}=c;let g=null;const b=Math.max(1,Math.floor(x))%2/2,E=d*p+b;for(let B=y.to-1;B>=y.from;--B){const T=f[B];if(T){const O=v(c,T);O!==g&&(m.beginPath(),g!==null&&m.fill(),m.fillStyle=O,g=O);const it=Math.round(T.nt*x)+b,A=T.st*p;m.moveTo(it,A),m.arc(it,A,E,0,2*Math.PI)}}m.fill()}(t,e,a,n,h)}}class ew extends tw{Vs(t,e){return e.lt}}function iw(i,t,e,n,s=0,r=t.length){let o=r-s;for(;0<o;){const l=o>>1,a=s+l;n(t[a],e)===i?(s=a+1,o-=l+1):o=l}return s}const No=iw.bind(null,!0),nw=iw.bind(null,!1);function C2(i,t){return i.ot<t}function E2(i,t){return t<i.ot}function sw(i,t,e){const n=t.Os(),s=t.ui(),r=No(i,n,C2),o=nw(i,s,E2);if(!e)return{from:r,to:o};let l=r,a=o;return r>0&&r<i.length&&i[r].ot>=n&&(l=r-1),o>0&&o<i.length&&i[o-1].ot<=s&&(a=o+1),{from:l,to:a}}class td{constructor(t,e,n){this.Bs=!0,this.As=!0,this.Is=!0,this.zs=[],this.Ls=null,this.Es=t,this.Ns=e,this.Fs=n}bt(t){this.Bs=!0,t==="data"&&(this.As=!0),t==="options"&&(this.Is=!0)}gt(){return this.Es.yt()?(this.Ws(),this.Ls===null?null:this.js):null}Hs(){this.zs=this.zs.map(t=>Object.assign(Object.assign({},t),this.Es.Us().$s(t.ot)))}qs(){this.Ls=null}Ws(){this.As&&(this.Ys(),this.As=!1),this.Is&&(this.Hs(),this.Is=!1),this.Bs&&(this.Zs(),this.Bs=!1)}Zs(){const t=this.Es.Dt(),e=this.Ns.St();if(this.qs(),e.Ni()||t.Ni())return;const n=e.Xs();if(n===null||this.Es.In().Ks()===0)return;const s=this.Es.Ct();s!==null&&(this.Ls=sw(this.zs,n,this.Fs),this.Gs(t,e,s.Vt),this.Js())}}class uu extends td{constructor(t,e){super(t,e,!0)}Gs(t,e,n){e.Qs(this.zs,fo(this.Ls)),t.te(this.zs,n,fo(this.Ls))}ie(t,e){return{ot:t,_t:e,nt:NaN,st:NaN}}Ys(){const t=this.Es.Us();this.zs=this.Es.In().ne().map(e=>{const n=e.Vt[3];return this.se(e.ee,n,t)})}}class k2 extends uu{constructor(t,e){super(t,e),this.js=new Gf,this.re=new M2,this.he=new ew,this.js.Z([this.re,this.he])}se(t,e,n){return Object.assign(Object.assign({},this.ie(t,e)),n.$s(t))}Js(){const t=this.Es.W();this.re.J({fs:t.lineType,it:this.zs,Nt:t.lineStyle,et:t.lineWidth,vs:null,ps:t.invertFilledArea,tt:this.Ls,ds:this.Ns.St().le()}),this.he.J({fs:t.lineVisible?t.lineType:void 0,it:this.zs,Nt:t.lineStyle,et:t.lineWidth,tt:this.Ls,ds:this.Ns.St().le(),Ds:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0})}}class N2 extends ni{constructor(){super(...arguments),this.zt=null,this.ae=0,this.oe=0}J(t){this.zt=t}K({context:t,horizontalPixelRatio:e,verticalPixelRatio:n}){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;this.ae=this._e(e),this.ae>=2&&Math.max(1,Math.floor(e))%2!=this.ae%2&&this.ae--,this.oe=this.zt.ue?Math.min(this.ae,Math.floor(e)):this.ae;let s=null;const r=this.oe<=this.ae&&this.zt.le>=Math.floor(1.5*e);for(let o=this.zt.tt.from;o<this.zt.tt.to;++o){const l=this.zt.In[o];s!==l.ce&&(t.fillStyle=l.ce,s=l.ce);const a=Math.floor(.5*this.oe),u=Math.round(l.nt*e),h=u-a,c=this.oe,f=h+c-1,d=Math.min(l.de,l.fe),y=Math.max(l.de,l.fe),v=Math.round(d*n)-a,x=Math.round(y*n)+a,p=Math.max(x-v,this.oe);t.fillRect(h,v,c,p);const m=Math.ceil(1.5*this.ae);if(r){if(this.zt.ve){const B=u-m;let T=Math.max(v,Math.round(l.pe*n)-a),O=T+c-1;O>v+p-1&&(O=v+p-1,T=O-c+1),t.fillRect(B,T,h-B,O-T+1)}const g=u+m;let b=Math.max(v,Math.round(l.me*n)-a),E=b+c-1;E>v+p-1&&(E=v+p-1,b=E-c+1),t.fillRect(f+1,b,g-f,E-b+1)}}}_e(t){const e=Math.floor(t);return Math.max(e,Math.floor(function(n,s){return Math.floor(.3*n*s)}(M(this.zt).le,t)))}}class rw extends td{constructor(t,e){super(t,e,!1)}Gs(t,e,n){e.Qs(this.zs,fo(this.Ls)),t.be(this.zs,n,fo(this.Ls))}we(t,e,n){return{ot:t,ge:e.Vt[0],Me:e.Vt[1],xe:e.Vt[2],Se:e.Vt[3],nt:NaN,pe:NaN,de:NaN,fe:NaN,me:NaN}}Ys(){const t=this.Es.Us();this.zs=this.Es.In().ne().map(e=>this.se(e.ee,e,t))}}class T2 extends rw{constructor(){super(...arguments),this.js=new N2}se(t,e,n){return Object.assign(Object.assign({},this.we(t,e,n)),n.$s(t))}Js(){const t=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),ve:t.openVisible,ue:t.thinBars,tt:this.Ls})}}class O2 extends qg{constructor(){super(...arguments),this.Ts=new Zf}bs(t,e){const n=this.G;return this.Ts.ws(t,{Ms:e.ke,xs:e.ye,Ss:e.Ce,ks:e.Te,ys:t.bitmapSize.height,vs:n.vs})}}class B2 extends tw{constructor(){super(...arguments),this.Pe=new Zf}Vs(t,e){const n=this.G;return this.Pe.ws(t,{Ms:e.Re,xs:e.Re,Ss:e.De,ks:e.De,ys:t.bitmapSize.height,vs:n.vs})}}class z2 extends uu{constructor(t,e){super(t,e),this.js=new Gf,this.Ve=new O2,this.Oe=new B2,this.js.Z([this.Ve,this.Oe])}se(t,e,n){return Object.assign(Object.assign({},this.ie(t,e)),n.$s(t))}Js(){const t=this.Es.Ct();if(t===null)return;const e=this.Es.W(),n=this.Es.Dt().Rt(e.baseValue.price,t.Vt),s=this.Ns.St().le();this.Ve.J({it:this.zs,et:e.lineWidth,Nt:e.lineStyle,fs:e.lineType,vs:n,ps:!1,tt:this.Ls,ds:s}),this.Oe.J({it:this.zs,et:e.lineWidth,Nt:e.lineStyle,fs:e.lineVisible?e.lineType:void 0,Ds:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,vs:n,tt:this.Ls,ds:s})}}class D2 extends ni{constructor(){super(...arguments),this.zt=null,this.ae=0}J(t){this.zt=t}K(t){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;const{horizontalPixelRatio:e}=t;this.ae=function(r,o){if(r>=2.5&&r<=4)return Math.floor(3*o);const l=1-.2*Math.atan(Math.max(4,r)-4)/(.5*Math.PI),a=Math.floor(r*l*o),u=Math.floor(r*o),h=Math.min(a,u);return Math.max(Math.floor(o),h)}(this.zt.le,e),this.ae>=2&&Math.floor(e)%2!=this.ae%2&&this.ae--;const n=this.zt.In;this.zt.Be&&this.Ae(t,n,this.zt.tt),this.zt._i&&this.Ie(t,n,this.zt.tt);const s=this.ze(e);(!this.zt._i||this.ae>2*s)&&this.Le(t,n,this.zt.tt)}Ae(t,e,n){if(this.zt===null)return;const{context:s,horizontalPixelRatio:r,verticalPixelRatio:o}=t;let l="",a=Math.min(Math.floor(r),Math.floor(this.zt.le*r));a=Math.max(Math.floor(r),Math.min(a,this.ae));const u=Math.floor(.5*a);let h=null;for(let c=n.from;c<n.to;c++){const f=e[c];f.Ee!==l&&(s.fillStyle=f.Ee,l=f.Ee);const d=Math.round(Math.min(f.pe,f.me)*o),y=Math.round(Math.max(f.pe,f.me)*o),v=Math.round(f.de*o),x=Math.round(f.fe*o);let p=Math.round(r*f.nt)-u;const m=p+a-1;h!==null&&(p=Math.max(h+1,p),p=Math.min(p,m));const g=m-p+1;s.fillRect(p,v,g,d-v),s.fillRect(p,y+1,g,x-y),h=m}}ze(t){let e=Math.floor(1*t);this.ae<=2*e&&(e=Math.floor(.5*(this.ae-1)));const n=Math.max(Math.floor(t),e);return this.ae<=2*n?Math.max(Math.floor(t),Math.floor(1*t)):n}Ie(t,e,n){if(this.zt===null)return;const{context:s,horizontalPixelRatio:r,verticalPixelRatio:o}=t;let l="";const a=this.ze(r);let u=null;for(let h=n.from;h<n.to;h++){const c=e[h];c.Ne!==l&&(s.fillStyle=c.Ne,l=c.Ne);let f=Math.round(c.nt*r)-Math.floor(.5*this.ae);const d=f+this.ae-1,y=Math.round(Math.min(c.pe,c.me)*o),v=Math.round(Math.max(c.pe,c.me)*o);if(u!==null&&(f=Math.max(u+1,f),f=Math.min(f,d)),this.zt.le*r>2*a)y2(s,f,y,d-f+1,v-y+1,a);else{const x=d-f+1;s.fillRect(f,y,x,v-y+1)}u=d}}Le(t,e,n){if(this.zt===null)return;const{context:s,horizontalPixelRatio:r,verticalPixelRatio:o}=t;let l="";const a=this.ze(r);for(let u=n.from;u<n.to;u++){const h=e[u];let c=Math.round(Math.min(h.pe,h.me)*o),f=Math.round(Math.max(h.pe,h.me)*o),d=Math.round(h.nt*r)-Math.floor(.5*this.ae),y=d+this.ae-1;if(h.ce!==l){const v=h.ce;s.fillStyle=v,l=v}this.zt._i&&(d+=a,c+=a,y-=a,f-=a),c>f||s.fillRect(d,c,y-d+1,f-c+1)}}}class L2 extends rw{constructor(){super(...arguments),this.js=new D2}se(t,e,n){return Object.assign(Object.assign({},this.we(t,e,n)),n.$s(t))}Js(){const t=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),Be:t.wickVisible,_i:t.borderVisible,tt:this.Ls})}}class F2{constructor(t,e){this.Fe=t,this.Li=e}X(t,e,n){this.Fe.draw(t,this.Li,e,n)}}class Wu extends td{constructor(t,e,n){super(t,e,!1),this.wn=n,this.js=new F2(this.wn.renderer(),s=>{const r=t.Ct();return r===null?null:t.Dt().Rt(s,r.Vt)})}We(t){return this.wn.priceValueBuilder(t)}je(t){return this.wn.isWhitespace(t)}Ys(){const t=this.Es.Us();this.zs=this.Es.In().ne().map(e=>Object.assign(Object.assign({ot:e.ee,nt:NaN},t.$s(e.ee)),{He:e.$e}))}Gs(t,e){e.Qs(this.zs,fo(this.Ls))}Js(){this.wn.update({bars:this.zs.map(R2),barSpacing:this.Ns.St().le(),visibleRange:this.Ls},this.Es.W())}}function R2(i){return{x:i.nt,time:i.ot,originalData:i.He,barColor:i.ce}}class A2 extends ni{constructor(){super(...arguments),this.zt=null,this.Ue=[]}J(t){this.zt=t,this.Ue=[]}K({context:t,horizontalPixelRatio:e,verticalPixelRatio:n}){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return;this.Ue.length||this.qe(e);const s=Math.max(1,Math.floor(n)),r=Math.round(this.zt.Ye*n)-Math.floor(s/2),o=r+s;for(let l=this.zt.tt.from;l<this.zt.tt.to;l++){const a=this.zt.it[l],u=this.Ue[l-this.zt.tt.from],h=Math.round(a.st*n);let c,f;t.fillStyle=a.ce,h<=r?(c=h,f=o):(c=r,f=h-Math.floor(s/2)+s),t.fillRect(u.Os,c,u.ui-u.Os+1,f-c)}}qe(t){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return void(this.Ue=[]);const e=Math.ceil(this.zt.le*t)<=1?0:Math.max(1,Math.floor(t)),n=Math.round(this.zt.le*t)-e;this.Ue=new Array(this.zt.tt.to-this.zt.tt.from);for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const o=this.zt.it[r],l=Math.round(o.nt*t);let a,u;if(n%2){const h=(n-1)/2;a=l-h,u=l+h}else{const h=n/2;a=l-h,u=l+h-1}this.Ue[r-this.zt.tt.from]={Os:a,ui:u,Ze:l,Xe:o.nt*t,ot:o.ot}}for(let r=this.zt.tt.from+1;r<this.zt.tt.to;r++){const o=this.Ue[r-this.zt.tt.from],l=this.Ue[r-this.zt.tt.from-1];o.ot===l.ot+1&&o.Os-l.ui!==e+1&&(l.Ze>l.Xe?l.ui=o.Os-e-1:o.Os=l.ui+e+1)}let s=Math.ceil(this.zt.le*t);for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const o=this.Ue[r-this.zt.tt.from];o.ui<o.Os&&(o.ui=o.Os);const l=o.ui-o.Os+1;s=Math.min(l,s)}if(e>0&&s<4)for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const o=this.Ue[r-this.zt.tt.from];o.ui-o.Os+1>s&&(o.Ze>o.Xe?o.ui-=1:o.Os+=1)}}}class P2 extends uu{constructor(){super(...arguments),this.js=new A2}se(t,e,n){return Object.assign(Object.assign({},this.ie(t,e)),n.$s(t))}Js(){const t={it:this.zs,le:this.Ns.St().le(),tt:this.Ls,Ye:this.Es.Dt().Rt(this.Es.W().base,M(this.Es.Ct()).Vt)};this.js.J(t)}}class $2 extends uu{constructor(){super(...arguments),this.js=new ew}se(t,e,n){return Object.assign(Object.assign({},this.ie(t,e)),n.$s(t))}Js(){const t=this.Es.W(),e={it:this.zs,Nt:t.lineStyle,fs:t.lineVisible?t.lineType:void 0,et:t.lineWidth,Ds:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0,tt:this.Ls,ds:this.Ns.St().le()};this.js.J(e)}}const V2=/[2-9]/g;class po{constructor(t=50){this.Ke=0,this.Ge=1,this.Je=1,this.Qe={},this.tr=new Map,this.ir=t}nr(){this.Ke=0,this.tr.clear(),this.Ge=1,this.Je=1,this.Qe={}}xi(t,e,n){return this.sr(t,e,n).width}Mi(t,e,n){const s=this.sr(t,e,n);return((s.actualBoundingBoxAscent||0)-(s.actualBoundingBoxDescent||0))/2}sr(t,e,n){const s=n||V2,r=String(e).replace(s,"0");if(this.tr.has(r))return ie(this.tr.get(r)).er;if(this.Ke===this.ir){const l=this.Qe[this.Je];delete this.Qe[this.Je],this.tr.delete(l),this.Je++,this.Ke--}t.save(),t.textBaseline="middle";const o=t.measureText(r);return t.restore(),o.width===0&&e.length||(this.tr.set(r,{er:o,rr:this.Ge}),this.Qe[this.Ge]=r,this.Ke++,this.Ge++),o}}class U2{constructor(t){this.hr=null,this.k=null,this.lr="right",this.ar=t}_r(t,e,n){this.hr=t,this.k=e,this.lr=n}X(t){this.k!==null&&this.hr!==null&&this.hr.X(t,this.k,this.ar,this.lr)}}class ow{constructor(t,e,n){this.ur=t,this.ar=new po(50),this.cr=e,this.F=n,this.j=-1,this.Wt=new U2(this.ar)}gt(){const t=this.F.dr(this.cr);if(t===null)return null;const e=t.vr(this.cr)?t.pr():this.cr.Dt();if(e===null)return null;const n=t.mr(e);if(n==="overlay")return null;const s=this.F.br();return s.P!==this.j&&(this.j=s.P,this.ar.nr()),this.Wt._r(this.ur.Ii(),s,n),this.Wt}}class j2 extends ni{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}wr(t,e){var n;if(!(!((n=this.zt)===null||n===void 0)&&n.yt))return null;const{st:s,et:r,gr:o}=this.zt;return e>=s-r-7&&e<=s+r+7?{Mr:this.zt,gr:o}:null}K({context:t,bitmapSize:e,horizontalPixelRatio:n,verticalPixelRatio:s}){if(this.zt===null||this.zt.yt===!1)return;const r=Math.round(this.zt.st*s);r<0||r>e.height||(t.lineCap="butt",t.strokeStyle=this.zt.V,t.lineWidth=Math.floor(this.zt.et*n),ts(t,this.zt.Nt),Hg(t,r,0,e.width))}}class ed{constructor(t){this.Sr={st:0,V:"rgba(0, 0, 0, 0)",et:1,Nt:0,yt:!1},this.kr=new j2,this.ft=!0,this.Es=t,this.Ns=t.$t(),this.kr.J(this.Sr)}bt(){this.ft=!0}gt(){return this.Es.yt()?(this.ft&&(this.yr(),this.ft=!1),this.kr):null}}class W2 extends ed{constructor(t){super(t)}yr(){this.Sr.yt=!1;const t=this.Es.Dt(),e=t.Cr().Cr;if(e!==2&&e!==3)return;const n=this.Es.W();if(!n.baseLineVisible||!this.Es.yt())return;const s=this.Es.Ct();s!==null&&(this.Sr.yt=!0,this.Sr.st=t.Rt(s.Vt,s.Vt),this.Sr.V=n.baseLineColor,this.Sr.et=n.baseLineWidth,this.Sr.Nt=n.baseLineStyle)}}class H2 extends ni{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}$e(){return this.zt}K({context:t,horizontalPixelRatio:e,verticalPixelRatio:n}){const s=this.zt;if(s===null)return;const r=Math.max(1,Math.floor(e)),o=r%2/2,l=Math.round(s.Xe.x*e)+o,a=s.Xe.y*n;t.fillStyle=s.Tr,t.beginPath();const u=Math.max(2,1.5*s.Pr)*e;t.arc(l,a,u,0,2*Math.PI,!1),t.fill(),t.fillStyle=s.Rr,t.beginPath(),t.arc(l,a,s.ht*e,0,2*Math.PI,!1),t.fill(),t.lineWidth=r,t.strokeStyle=s.Dr,t.beginPath(),t.arc(l,a,s.ht*e+r/2,0,2*Math.PI,!1),t.stroke()}}const K2=[{Vr:0,Or:.25,Br:4,Ar:10,Ir:.25,zr:0,Lr:.4,Er:.8},{Vr:.25,Or:.525,Br:10,Ar:14,Ir:0,zr:0,Lr:.8,Er:0},{Vr:.525,Or:1,Br:14,Ar:14,Ir:0,zr:0,Lr:0,Er:0}];function qp(i,t,e,n){return function(s,r){if(s==="transparent")return s;const o=ho(s),l=o[3];return`rgba(${o[0]}, ${o[1]}, ${o[2]}, ${r*l})`}(i,e+(n-e)*t)}function Zp(i,t){const e=i%2600/2600;let n;for(const a of K2)if(e>=a.Vr&&e<=a.Or){n=a;break}Sn(n!==void 0,"Last price animation internal logic error");const s=(e-n.Vr)/(n.Or-n.Vr);return{Rr:qp(t,s,n.Ir,n.zr),Dr:qp(t,s,n.Lr,n.Er),ht:(r=s,o=n.Br,l=n.Ar,o+(l-o)*r)};var r,o,l}class Y2{constructor(t){this.Wt=new H2,this.ft=!0,this.Nr=!0,this.Fr=performance.now(),this.Wr=this.Fr-1,this.jr=t}Hr(){this.Wr=this.Fr-1,this.bt()}$r(){if(this.bt(),this.jr.W().lastPriceAnimation===2){const t=performance.now(),e=this.Wr-t;if(e>0)return void(e<650&&(this.Wr+=2600));this.Fr=t,this.Wr=t+2600}}bt(){this.ft=!0}Ur(){this.Nr=!0}yt(){return this.jr.W().lastPriceAnimation!==0}qr(){switch(this.jr.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Wr}}gt(){return this.ft?(this.Mt(),this.ft=!1,this.Nr=!1):this.Nr&&(this.Yr(),this.Nr=!1),this.Wt}Mt(){this.Wt.J(null);const t=this.jr.$t().St(),e=t.Xs(),n=this.jr.Ct();if(e===null||n===null)return;const s=this.jr.Zr(!0);if(s.Xr||!e.Kr(s.ee))return;const r={x:t.It(s.ee),y:this.jr.Dt().Rt(s._t,n.Vt)},o=s.V,l=this.jr.W().lineWidth,a=Zp(this.Gr(),o);this.Wt.J({Tr:o,Pr:l,Rr:a.Rr,Dr:a.Dr,ht:a.ht,Xe:r})}Yr(){const t=this.Wt.$e();if(t!==null){const e=Zp(this.Gr(),t.Tr);t.Rr=e.Rr,t.Dr=e.Dr,t.ht=e.ht}}Gr(){return this.qr()?performance.now()-this.Fr:2599}}function Fr(i,t){return Zg(Math.min(Math.max(i,12),30)*t)}function mo(i,t){switch(i){case"arrowDown":case"arrowUp":return Fr(t,1);case"circle":return Fr(t,.8);case"square":return Fr(t,.7)}}function lw(i){return function(t){const e=Math.ceil(t);return e%2!=0?e-1:e}(Fr(i,1))}function tm(i){return Math.max(Fr(i,.1),3)}function em(i,t,e){return t?i:e?Math.ceil(i/2):0}function aw(i,t,e,n,s){const r=mo("square",e),o=(r-1)/2,l=i-o,a=t-o;return n>=l&&n<=l+r&&s>=a&&s<=a+r}function im(i,t,e,n){const s=(mo("arrowUp",n)-1)/2*e.Jr,r=(Zg(n/2)-1)/2*e.Jr;t.beginPath(),i?(t.moveTo(e.nt-s,e.st),t.lineTo(e.nt,e.st-s),t.lineTo(e.nt+s,e.st),t.lineTo(e.nt+r,e.st),t.lineTo(e.nt+r,e.st+s),t.lineTo(e.nt-r,e.st+s),t.lineTo(e.nt-r,e.st)):(t.moveTo(e.nt-s,e.st),t.lineTo(e.nt,e.st+s),t.lineTo(e.nt+s,e.st),t.lineTo(e.nt+r,e.st),t.lineTo(e.nt+r,e.st-s),t.lineTo(e.nt-r,e.st-s),t.lineTo(e.nt-r,e.st)),t.fill()}function X2(i,t,e,n,s,r){return aw(t,e,n,s,r)}class Q2 extends ni{constructor(){super(...arguments),this.zt=null,this.ar=new po,this.j=-1,this.H="",this.Qr=""}J(t){this.zt=t}_r(t,e){this.j===t&&this.H===e||(this.j=t,this.H=e,this.Qr=er(t,e),this.ar.nr())}wr(t,e){if(this.zt===null||this.zt.tt===null)return null;for(let n=this.zt.tt.from;n<this.zt.tt.to;n++){const s=this.zt.it[n];if(G2(s,t,e))return{Mr:s.th,gr:s.gr}}return null}K({context:t,horizontalPixelRatio:e,verticalPixelRatio:n},s,r){if(this.zt!==null&&this.zt.tt!==null){t.textBaseline="middle",t.font=this.Qr;for(let o=this.zt.tt.from;o<this.zt.tt.to;o++){const l=this.zt.it[o];l.Kt!==void 0&&(l.Kt.Hi=this.ar.xi(t,l.Kt.ih),l.Kt.At=this.j,l.Kt.nt=l.nt-l.Kt.Hi/2),J2(l,t,e,n)}}}}function J2(i,t,e,n){t.fillStyle=i.V,i.Kt!==void 0&&function(s,r,o,l,a,u){s.save(),s.scale(a,u),s.fillText(r,o,l),s.restore()}(t,i.Kt.ih,i.Kt.nt,i.Kt.st,e,n),function(s,r,o){if(s.Ks!==0){switch(s.nh){case"arrowDown":return void im(!1,r,o,s.Ks);case"arrowUp":return void im(!0,r,o,s.Ks);case"circle":return void function(l,a,u){const h=(mo("circle",u)-1)/2;l.beginPath(),l.arc(a.nt,a.st,h*a.Jr,0,2*Math.PI,!1),l.fill()}(r,o,s.Ks);case"square":return void function(l,a,u){const h=mo("square",u),c=(h-1)*a.Jr/2,f=a.nt-c,d=a.st-c;l.fillRect(f,d,h*a.Jr,h*a.Jr)}(r,o,s.Ks)}s.nh}}(i,t,function(s,r,o){const l=Math.max(1,Math.floor(r))%2/2;return{nt:Math.round(s.nt*r)+l,st:s.st*o,Jr:r}}(i,e,n))}function G2(i,t,e){return!(i.Kt===void 0||!function(n,s,r,o,l,a){const u=o/2;return l>=n&&l<=n+r&&a>=s-u&&a<=s+u}(i.Kt.nt,i.Kt.st,i.Kt.Hi,i.Kt.At,t,e))||function(n,s,r){if(n.Ks===0)return!1;switch(n.nh){case"arrowDown":case"arrowUp":return X2(0,n.nt,n.st,n.Ks,s,r);case"circle":return function(o,l,a,u,h){const c=2+mo("circle",a)/2,f=o-u,d=l-h;return Math.sqrt(f*f+d*d)<=c}(n.nt,n.st,n.Ks,s,r);case"square":return aw(n.nt,n.st,n.Ks,s,r)}}(i,t,e)}function q2(i,t,e,n,s,r,o,l,a){const u=wi(e)?e:e.Se,h=wi(e)?e:e.Me,c=wi(e)?e:e.xe,f=wi(t.size)?Math.max(t.size,0):1,d=lw(l.le())*f,y=d/2;switch(i.Ks=d,t.position){case"inBar":return i.st=o.Rt(u,a),void(i.Kt!==void 0&&(i.Kt.st=i.st+y+r+.6*s));case"aboveBar":return i.st=o.Rt(h,a)-y-n.sh,i.Kt!==void 0&&(i.Kt.st=i.st-y-.6*s,n.sh+=1.2*s),void(n.sh+=d+r);case"belowBar":return i.st=o.Rt(c,a)+y+n.eh,i.Kt!==void 0&&(i.Kt.st=i.st+y+r+.6*s,n.eh+=1.2*s),void(n.eh+=d+r)}t.position}class Z2{constructor(t,e){this.ft=!0,this.rh=!0,this.hh=!0,this.ah=null,this.oh=null,this.Wt=new Q2,this.jr=t,this.$i=e,this.zt={it:[],tt:null}}bt(t){this.ft=!0,this.hh=!0,t==="data"&&(this.rh=!0,this.oh=null)}gt(t){if(!this.jr.yt())return null;this.ft&&this._h();const e=this.$i.W().layout;return this.Wt._r(e.fontSize,e.fontFamily),this.Wt.J(this.zt),this.Wt}uh(){if(this.hh){if(this.jr.dh().length>0){const t=this.$i.St().le(),e=tm(t),n=1.5*lw(t)+2*e,s=this.fh();this.ah={above:em(n,s.aboveBar,s.inBar),below:em(n,s.belowBar,s.inBar)}}else this.ah=null;this.hh=!1}return this.ah}fh(){return this.oh===null&&(this.oh=this.jr.dh().reduce((t,e)=>(t[e.position]||(t[e.position]=!0),t),{inBar:!1,aboveBar:!1,belowBar:!1})),this.oh}_h(){const t=this.jr.Dt(),e=this.$i.St(),n=this.jr.dh();this.rh&&(this.zt.it=n.map(h=>({ot:h.time,nt:0,st:0,Ks:0,nh:h.shape,V:h.color,th:h.th,gr:h.id,Kt:void 0})),this.rh=!1);const s=this.$i.W().layout;this.zt.tt=null;const r=e.Xs();if(r===null)return;const o=this.jr.Ct();if(o===null||this.zt.it.length===0)return;let l=NaN;const a=tm(e.le()),u={sh:a,eh:a};this.zt.tt=sw(this.zt.it,r,!0);for(let h=this.zt.tt.from;h<this.zt.tt.to;h++){const c=n[h];c.time!==l&&(u.sh=a,u.eh=a,l=c.time);const f=this.zt.it[h];f.nt=e.It(c.time),c.text!==void 0&&c.text.length>0&&(f.Kt={ih:c.text,nt:0,st:0,Hi:0,At:0});const d=this.jr.ph(c.time);d!==null&&q2(f,c,d,u,s.fontSize,a,t,e,o.Vt)}this.ft=!1}}class tM extends ed{constructor(t){super(t)}yr(){const t=this.Sr;t.yt=!1;const e=this.Es.W();if(!e.priceLineVisible||!this.Es.yt())return;const n=this.Es.Zr(e.priceLineSource===0);n.Xr||(t.yt=!0,t.st=n.ki,t.V=this.Es.mh(n.V),t.et=e.priceLineWidth,t.Nt=e.priceLineStyle)}}class eM extends ou{constructor(t){super(),this.jt=t}zi(t,e,n){t.yt=!1,e.yt=!1;const s=this.jt;if(!s.yt())return;const r=s.W(),o=r.lastValueVisible,l=s.bh()!=="",a=r.seriesLastValueMode===0,u=s.Zr(!1);if(u.Xr)return;o&&(t.Kt=this.wh(u,o,a),t.yt=t.Kt.length!==0),(l||a)&&(e.Kt=this.gh(u,o,l,a),e.yt=e.Kt.length>0);const h=s.mh(u.V),c=su(h);n.t=c.t,n.ki=u.ki,e.Ot=s.$t().Bt(u.ki/s.Dt().At()),t.Ot=h,t.V=c.i,e.V=c.i}gh(t,e,n,s){let r="";const o=this.jt.bh();return n&&o.length!==0&&(r+=`${o} `),e&&s&&(r+=this.jt.Dt().Mh()?t.xh:t.Sh),r.trim()}wh(t,e,n){return e?n?this.jt.Dt().Mh()?t.Sh:t.xh:t.Kt:""}}function nm(i,t,e,n){const s=Number.isFinite(t),r=Number.isFinite(e);return s&&r?i(t,e):s||r?s?t:e:n}class me{constructor(t,e){this.kh=t,this.yh=e}Ch(t){return t!==null&&this.kh===t.kh&&this.yh===t.yh}Th(){return new me(this.kh,this.yh)}Ph(){return this.kh}Rh(){return this.yh}Dh(){return this.yh-this.kh}Ni(){return this.yh===this.kh||Number.isNaN(this.yh)||Number.isNaN(this.kh)}ts(t){return t===null?this:new me(nm(Math.min,this.Ph(),t.Ph(),-1/0),nm(Math.max,this.Rh(),t.Rh(),1/0))}Vh(t){if(!wi(t)||this.yh-this.kh===0)return;const e=.5*(this.yh+this.kh);let n=this.yh-e,s=this.kh-e;n*=t,s*=t,this.yh=e+n,this.kh=e+s}Oh(t){wi(t)&&(this.yh+=t,this.kh+=t)}Bh(){return{minValue:this.kh,maxValue:this.yh}}static Ah(t){return t===null?null:new me(t.minValue,t.maxValue)}}class Ca{constructor(t,e){this.Ih=t,this.zh=e||null}Lh(){return this.Ih}Eh(){return this.zh}Bh(){return this.Ih===null?null:{priceRange:this.Ih.Bh(),margins:this.zh||void 0}}static Ah(t){return t===null?null:new Ca(me.Ah(t.priceRange),t.margins)}}class iM extends ed{constructor(t,e){super(t),this.Nh=e}yr(){const t=this.Sr;t.yt=!1;const e=this.Nh.W();if(!this.Es.yt()||!e.lineVisible)return;const n=this.Nh.Fh();n!==null&&(t.yt=!0,t.st=n,t.V=e.color,t.et=e.lineWidth,t.Nt=e.lineStyle,t.gr=this.Nh.W().id)}}class nM extends ou{constructor(t,e){super(),this.jr=t,this.Nh=e}zi(t,e,n){t.yt=!1,e.yt=!1;const s=this.Nh.W(),r=s.axisLabelVisible,o=s.title!=="",l=this.jr;if(!r||!l.yt())return;const a=this.Nh.Fh();if(a===null)return;o&&(e.Kt=s.title,e.yt=!0),e.Ot=l.$t().Bt(a/l.Dt().At()),t.Kt=this.Wh(s.price),t.yt=!0;const u=su(s.axisLabelColor||s.color);n.t=u.t;const h=s.axisLabelTextColor||u.i;t.V=h,e.V=h,n.ki=a}Wh(t){const e=this.jr.Ct();return e===null?"":this.jr.Dt().Fi(t,e.Vt)}}class sM{constructor(t,e){this.jr=t,this.cn=e,this.jh=new iM(t,this),this.ur=new nM(t,this),this.Hh=new ow(this.ur,t,t.$t())}$h(t){ei(this.cn,t),this.bt(),this.jr.$t().Uh()}W(){return this.cn}qh(){return this.jh}Yh(){return this.Hh}Zh(){return this.ur}bt(){this.jh.bt(),this.ur.bt()}Fh(){const t=this.jr,e=t.Dt();if(t.$t().St().Ni()||e.Ni())return null;const n=t.Ct();return n===null?null:e.Rt(this.cn.price,n.Vt)}}class rM extends qf{constructor(t){super(),this.$i=t}$t(){return this.$i}}const oM={Bar:(i,t,e,n)=>{var s;const r=t.upColor,o=t.downColor,l=M(i(e,n)),a=Es(l.Vt[0])<=Es(l.Vt[3]);return{ce:(s=l.V)!==null&&s!==void 0?s:a?r:o}},Candlestick:(i,t,e,n)=>{var s,r,o;const l=t.upColor,a=t.downColor,u=t.borderUpColor,h=t.borderDownColor,c=t.wickUpColor,f=t.wickDownColor,d=M(i(e,n)),y=Es(d.Vt[0])<=Es(d.Vt[3]);return{ce:(s=d.V)!==null&&s!==void 0?s:y?l:a,Ne:(r=d.Ot)!==null&&r!==void 0?r:y?u:h,Ee:(o=d.Xh)!==null&&o!==void 0?o:y?c:f}},Custom:(i,t,e,n)=>{var s;return{ce:(s=M(i(e,n)).V)!==null&&s!==void 0?s:t.color}},Area:(i,t,e,n)=>{var s,r,o,l;const a=M(i(e,n));return{ce:(s=a.lt)!==null&&s!==void 0?s:t.lineColor,lt:(r=a.lt)!==null&&r!==void 0?r:t.lineColor,Ps:(o=a.Ps)!==null&&o!==void 0?o:t.topColor,Rs:(l=a.Rs)!==null&&l!==void 0?l:t.bottomColor}},Baseline:(i,t,e,n)=>{var s,r,o,l,a,u;const h=M(i(e,n));return{ce:h.Vt[3]>=t.baseValue.price?t.topLineColor:t.bottomLineColor,Re:(s=h.Re)!==null&&s!==void 0?s:t.topLineColor,De:(r=h.De)!==null&&r!==void 0?r:t.bottomLineColor,ke:(o=h.ke)!==null&&o!==void 0?o:t.topFillColor1,ye:(l=h.ye)!==null&&l!==void 0?l:t.topFillColor2,Ce:(a=h.Ce)!==null&&a!==void 0?a:t.bottomFillColor1,Te:(u=h.Te)!==null&&u!==void 0?u:t.bottomFillColor2}},Line:(i,t,e,n)=>{var s,r;const o=M(i(e,n));return{ce:(s=o.V)!==null&&s!==void 0?s:t.color,lt:(r=o.V)!==null&&r!==void 0?r:t.color}},Histogram:(i,t,e,n)=>{var s;return{ce:(s=M(i(e,n)).V)!==null&&s!==void 0?s:t.color}}};class lM{constructor(t){this.Kh=(e,n)=>n!==void 0?n.Vt:this.jr.In().Gh(e),this.jr=t,this.Jh=oM[t.Qh()]}$s(t,e){return this.Jh(this.Kh,this.jr.W(),t,e)}}var sm;(function(i){i[i.NearestLeft=-1]="NearestLeft",i[i.None=0]="None",i[i.NearestRight=1]="NearestRight"})(sm||(sm={}));const Ji=30;class aM{constructor(){this.tl=[],this.il=new Map,this.nl=new Map}sl(){return this.Ks()>0?this.tl[this.tl.length-1]:null}el(){return this.Ks()>0?this.rl(0):null}An(){return this.Ks()>0?this.rl(this.tl.length-1):null}Ks(){return this.tl.length}Ni(){return this.Ks()===0}Kr(t){return this.hl(t,0)!==null}Gh(t){return this.ll(t)}ll(t,e=0){const n=this.hl(t,e);return n===null?null:Object.assign(Object.assign({},this.al(n)),{ee:this.rl(n)})}ne(){return this.tl}ol(t,e,n){if(this.Ni())return null;let s=null;for(const r of n)s=Zo(s,this._l(t,e,r));return s}J(t){this.nl.clear(),this.il.clear(),this.tl=t}rl(t){return this.tl[t].ee}al(t){return this.tl[t]}hl(t,e){const n=this.ul(t);if(n===null&&e!==0)switch(e){case-1:return this.cl(t);case 1:return this.dl(t);default:throw new TypeError("Unknown search mode")}return n}cl(t){let e=this.fl(t);return e>0&&(e-=1),e!==this.tl.length&&this.rl(e)<t?e:null}dl(t){const e=this.vl(t);return e!==this.tl.length&&t<this.rl(e)?e:null}ul(t){const e=this.fl(t);return e===this.tl.length||t<this.tl[e].ee?null:e}fl(t){return No(this.tl,t,(e,n)=>e.ee<n)}vl(t){return nw(this.tl,t,(e,n)=>e.ee>n)}pl(t,e,n){let s=null;for(let r=t;r<e;r++){const o=this.tl[r].Vt[n];Number.isNaN(o)||(s===null?s={ml:o,bl:o}:(o<s.ml&&(s.ml=o),o>s.bl&&(s.bl=o)))}return s}_l(t,e,n){if(this.Ni())return null;let s=null;const r=M(this.el()),o=M(this.An()),l=Math.max(t,r),a=Math.min(e,o),u=Math.ceil(l/Ji)*Ji,h=Math.max(u,Math.floor(a/Ji)*Ji);{const f=this.fl(l),d=this.vl(Math.min(a,u,e));s=Zo(s,this.pl(f,d,n))}let c=this.il.get(n);c===void 0&&(c=new Map,this.il.set(n,c));for(let f=Math.max(u+1,l);f<h;f+=Ji){const d=Math.floor(f/Ji);let y=c.get(d);if(y===void 0){const v=this.fl(d*Ji),x=this.vl((d+1)*Ji-1);y=this.pl(v,x,n),c.set(d,y)}s=Zo(s,y)}{const f=this.fl(h),d=this.vl(a);s=Zo(s,this.pl(f,d,n))}return s}}function Zo(i,t){return i===null?t:t===null?i:{ml:Math.min(i.ml,t.ml),bl:Math.max(i.bl,t.bl)}}class uM{constructor(t){this.wl=t}X(t,e,n){this.wl.draw(t)}gl(t,e,n){var s,r;(r=(s=this.wl).drawBackground)===null||r===void 0||r.call(s,t)}}class Hu{constructor(t){this.tr=null,this.wn=t}gt(){var t;const e=this.wn.renderer();if(e===null)return null;if(((t=this.tr)===null||t===void 0?void 0:t.Ml)===e)return this.tr.xl;const n=new uM(e);return this.tr={Ml:e,xl:n},n}Sl(){var t,e,n;return(n=(e=(t=this.wn).zOrder)===null||e===void 0?void 0:e.call(t))!==null&&n!==void 0?n:"normal"}}function uw(i){var t,e,n,s,r;return{Kt:i.text(),ki:i.coordinate(),Si:(t=i.fixedCoordinate)===null||t===void 0?void 0:t.call(i),V:i.textColor(),t:i.backColor(),yt:(n=(e=i.visible)===null||e===void 0?void 0:e.call(i))===null||n===void 0||n,hi:(r=(s=i.tickVisible)===null||s===void 0?void 0:s.call(i))===null||r===void 0||r}}class hM{constructor(t,e){this.Wt=new Qg,this.kl=t,this.yl=e}gt(){return this.Wt.J(Object.assign({Hi:this.yl.Hi()},uw(this.kl))),this.Wt}}class cM extends ou{constructor(t,e){super(),this.kl=t,this.Li=e}zi(t,e,n){const s=uw(this.kl);n.t=s.t,t.V=s.V;const r=2/12*this.Li.P();n.wi=r,n.gi=r,n.ki=s.ki,n.Si=s.Si,t.Kt=s.Kt,t.yt=s.yt,t.hi=s.hi}}class fM{constructor(t,e){this.Cl=null,this.Tl=null,this.Pl=null,this.Rl=null,this.Dl=null,this.Vl=t,this.jr=e}Ol(){return this.Vl}Vn(){var t,e;(e=(t=this.Vl).updateAllViews)===null||e===void 0||e.call(t)}Pn(){var t,e,n,s;const r=(n=(e=(t=this.Vl).paneViews)===null||e===void 0?void 0:e.call(t))!==null&&n!==void 0?n:[];if(((s=this.Cl)===null||s===void 0?void 0:s.Ml)===r)return this.Cl.xl;const o=r.map(l=>new Hu(l));return this.Cl={Ml:r,xl:o},o}Qi(){var t,e,n,s;const r=(n=(e=(t=this.Vl).timeAxisViews)===null||e===void 0?void 0:e.call(t))!==null&&n!==void 0?n:[];if(((s=this.Tl)===null||s===void 0?void 0:s.Ml)===r)return this.Tl.xl;const o=this.jr.$t().St(),l=r.map(a=>new hM(a,o));return this.Tl={Ml:r,xl:l},l}Rn(){var t,e,n,s;const r=(n=(e=(t=this.Vl).priceAxisViews)===null||e===void 0?void 0:e.call(t))!==null&&n!==void 0?n:[];if(((s=this.Pl)===null||s===void 0?void 0:s.Ml)===r)return this.Pl.xl;const o=this.jr.Dt(),l=r.map(a=>new cM(a,o));return this.Pl={Ml:r,xl:l},l}Bl(){var t,e,n,s;const r=(n=(e=(t=this.Vl).priceAxisPaneViews)===null||e===void 0?void 0:e.call(t))!==null&&n!==void 0?n:[];if(((s=this.Rl)===null||s===void 0?void 0:s.Ml)===r)return this.Rl.xl;const o=r.map(l=>new Hu(l));return this.Rl={Ml:r,xl:o},o}Al(){var t,e,n,s;const r=(n=(e=(t=this.Vl).timeAxisPaneViews)===null||e===void 0?void 0:e.call(t))!==null&&n!==void 0?n:[];if(((s=this.Dl)===null||s===void 0?void 0:s.Ml)===r)return this.Dl.xl;const o=r.map(l=>new Hu(l));return this.Dl={Ml:r,xl:o},o}Il(t,e){var n,s,r;return(r=(s=(n=this.Vl).autoscaleInfo)===null||s===void 0?void 0:s.call(n,t,e))!==null&&r!==void 0?r:null}wr(t,e){var n,s,r;return(r=(s=(n=this.Vl).hitTest)===null||s===void 0?void 0:s.call(n,t,e))!==null&&r!==void 0?r:null}}function Ku(i,t,e,n){i.forEach(s=>{t(s).forEach(r=>{r.Sl()===e&&n.push(r)})})}function Yu(i){return i.Pn()}function dM(i){return i.Bl()}function pM(i){return i.Al()}class id extends rM{constructor(t,e,n,s,r){super(t),this.zt=new aM,this.jh=new tM(this),this.zl=[],this.Ll=new W2(this),this.El=null,this.Nl=null,this.Fl=[],this.Wl=[],this.jl=null,this.Hl=[],this.cn=e,this.$l=n;const o=new eM(this);this.rn=[o],this.Hh=new ow(o,this,t),n!=="Area"&&n!=="Line"&&n!=="Baseline"||(this.El=new Y2(this)),this.Ul(),this.ql(r)}S(){this.jl!==null&&clearTimeout(this.jl)}mh(t){return this.cn.priceLineColor||t}Zr(t){const e={Xr:!0},n=this.Dt();if(this.$t().St().Ni()||n.Ni()||this.zt.Ni())return e;const s=this.$t().St().Xs(),r=this.Ct();if(s===null||r===null)return e;let o,l;if(t){const c=this.zt.sl();if(c===null)return e;o=c,l=c.ee}else{const c=this.zt.ll(s.ui(),-1);if(c===null||(o=this.zt.Gh(c.ee),o===null))return e;l=c.ee}const a=o.Vt[3],u=this.Us().$s(l,{Vt:o}),h=n.Rt(a,r.Vt);return{Xr:!1,_t:a,Kt:n.Fi(a,r.Vt),xh:n.Yl(a),Sh:n.Zl(a,r.Vt),V:u.ce,ki:h,ee:l}}Us(){return this.Nl!==null||(this.Nl=new lM(this)),this.Nl}W(){return this.cn}$h(t){const e=t.priceScaleId;e!==void 0&&e!==this.cn.priceScaleId&&this.$t().Xl(this,e),ei(this.cn,t),t.priceFormat!==void 0&&(this.Ul(),this.$t().Kl()),this.$t().Gl(this),this.$t().Jl(),this.wn.bt("options")}J(t,e){this.zt.J(t),this.Ql(),this.wn.bt("data"),this.dn.bt("data"),this.El!==null&&(e&&e.ta?this.El.$r():t.length===0&&this.El.Hr());const n=this.$t().dr(this);this.$t().ia(n),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}na(t){this.Fl=t,this.Ql();const e=this.$t().dr(this);this.dn.bt("data"),this.$t().ia(e),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}sa(){return this.Fl}dh(){return this.Wl}ea(t){const e=new sM(this,t);return this.zl.push(e),this.$t().Gl(this),e}ra(t){const e=this.zl.indexOf(t);e!==-1&&this.zl.splice(e,1),this.$t().Gl(this)}Qh(){return this.$l}Ct(){const t=this.ha();return t===null?null:{Vt:t.Vt[3],la:t.ot}}ha(){const t=this.$t().St().Xs();if(t===null)return null;const e=t.Os();return this.zt.ll(e,1)}In(){return this.zt}ph(t){const e=this.zt.Gh(t);return e===null?null:this.$l==="Bar"||this.$l==="Candlestick"||this.$l==="Custom"?{ge:e.Vt[0],Me:e.Vt[1],xe:e.Vt[2],Se:e.Vt[3]}:e.Vt[3]}aa(t){const e=[];Ku(this.Hl,Yu,"top",e);const n=this.El;return n!==null&&n.yt()&&(this.jl===null&&n.qr()&&(this.jl=setTimeout(()=>{this.jl=null,this.$t().oa()},0)),n.Ur(),e.unshift(n)),e}Pn(){const t=[];this._a()||t.push(this.Ll),t.push(this.wn,this.jh,this.dn);const e=this.zl.map(n=>n.qh());return t.push(...e),Ku(this.Hl,Yu,"normal",t),t}ua(){return this.ca(Yu,"bottom")}da(t){return this.ca(dM,t)}fa(t){return this.ca(pM,t)}va(t,e){return this.Hl.map(n=>n.wr(t,e)).filter(n=>n!==null)}Ji(t){return[this.Hh,...this.zl.map(e=>e.Yh())]}Rn(t,e){if(e!==this.Yi&&!this._a())return[];const n=[...this.rn];for(const s of this.zl)n.push(s.Zh());return this.Hl.forEach(s=>{n.push(...s.Rn())}),n}Qi(){const t=[];return this.Hl.forEach(e=>{t.push(...e.Qi())}),t}Il(t,e){if(this.cn.autoscaleInfoProvider!==void 0){const n=this.cn.autoscaleInfoProvider(()=>{const s=this.pa(t,e);return s===null?null:s.Bh()});return Ca.Ah(n)}return this.pa(t,e)}ma(){return this.cn.priceFormat.minMove}ba(){return this.wa}Vn(){var t;this.wn.bt(),this.dn.bt();for(const e of this.rn)e.bt();for(const e of this.zl)e.bt();this.jh.bt(),this.Ll.bt(),(t=this.El)===null||t===void 0||t.bt(),this.Hl.forEach(e=>e.Vn())}Dt(){return M(super.Dt())}kt(t){if(!((this.$l==="Line"||this.$l==="Area"||this.$l==="Baseline")&&this.cn.crosshairMarkerVisible))return null;const e=this.zt.Gh(t);return e===null?null:{_t:e.Vt[3],ht:this.ga(),Ot:this.Ma(),Pt:this.xa(),Tt:this.Sa(t)}}bh(){return this.cn.title}yt(){return this.cn.visible}ka(t){this.Hl.push(new fM(t,this))}ya(t){this.Hl=this.Hl.filter(e=>e.Ol()!==t)}Ca(){if(this.wn instanceof Wu)return t=>this.wn.We(t)}Ta(){if(this.wn instanceof Wu)return t=>this.wn.je(t)}_a(){return!lu(this.Dt().Pa())}pa(t,e){if(!co(t)||!co(e)||this.zt.Ni())return null;const n=this.$l==="Line"||this.$l==="Area"||this.$l==="Baseline"||this.$l==="Histogram"?[3]:[2,1],s=this.zt.ol(t,e,n);let r=s!==null?new me(s.ml,s.bl):null;if(this.Qh()==="Histogram"){const l=this.cn.base,a=new me(l,l);r=r!==null?r.ts(a):a}let o=this.dn.uh();return this.Hl.forEach(l=>{const a=l.Il(t,e);if(a!=null&&a.priceRange){const d=new me(a.priceRange.minValue,a.priceRange.maxValue);r=r!==null?r.ts(d):d}var u,h,c,f;a!=null&&a.margins&&(u=o,h=a.margins,o={above:Math.max((c=u==null?void 0:u.above)!==null&&c!==void 0?c:0,h.above),below:Math.max((f=u==null?void 0:u.below)!==null&&f!==void 0?f:0,h.below)})}),new Ca(r,o)}ga(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerRadius}return 0}Ma(){switch(this.$l){case"Line":case"Area":case"Baseline":{const t=this.cn.crosshairMarkerBorderColor;if(t.length!==0)return t}}return null}xa(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerBorderWidth}return 0}Sa(t){switch(this.$l){case"Line":case"Area":case"Baseline":{const e=this.cn.crosshairMarkerBackgroundColor;if(e.length!==0)return e}}return this.Us().$s(t).ce}Ul(){switch(this.cn.priceFormat.type){case"custom":this.wa={format:this.cn.priceFormat.formatter};break;case"volume":this.wa=new _2(this.cn.priceFormat.precision);break;case"percent":this.wa=new Jg(this.cn.priceFormat.precision);break;default:{const t=Math.pow(10,this.cn.priceFormat.precision);this.wa=new au(t,this.cn.priceFormat.minMove*t)}}this.Yi!==null&&this.Yi.Ra()}Ql(){const t=this.$t().St();if(!t.Da()||this.zt.Ni())return void(this.Wl=[]);const e=M(this.zt.el());this.Wl=this.Fl.map((n,s)=>{const r=M(t.Va(n.time,!0)),o=r<e?1:-1;return{time:M(this.zt.ll(r,o)).ee,position:n.position,shape:n.shape,color:n.color,id:n.id,th:s,text:n.text,size:n.size,originalTime:n.originalTime}})}ql(t){switch(this.dn=new Z2(this,this.$t()),this.$l){case"Bar":this.wn=new T2(this,this.$t());break;case"Candlestick":this.wn=new L2(this,this.$t());break;case"Line":this.wn=new $2(this,this.$t());break;case"Custom":this.wn=new Wu(this,this.$t(),ie(t));break;case"Area":this.wn=new k2(this,this.$t());break;case"Baseline":this.wn=new z2(this,this.$t());break;case"Histogram":this.wn=new P2(this,this.$t());break;default:throw Error("Unknown chart style assigned: "+this.$l)}}ca(t,e){const n=[];return Ku(this.Hl,t,e,n),n}}class mM{constructor(t){this.cn=t}Oa(t,e,n){let s=t;if(this.cn.mode===0)return s;const r=n.vn(),o=r.Ct();if(o===null)return s;const l=r.Rt(t,o),a=n.Ba().filter(h=>h instanceof id).reduce((h,c)=>{if(n.vr(c)||!c.yt())return h;const f=c.Dt(),d=c.In();if(f.Ni()||!d.Kr(e))return h;const y=d.Gh(e);if(y===null)return h;const v=Es(c.Ct());return h.concat([f.Rt(y.Vt[3],v.Vt)])},[]);if(a.length===0)return s;a.sort((h,c)=>Math.abs(h-l)-Math.abs(c-l));const u=a[0];return s=r.pn(u,o),s}}class yM extends ni{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}K({context:t,bitmapSize:e,horizontalPixelRatio:n,verticalPixelRatio:s}){if(this.zt===null)return;const r=Math.max(1,Math.floor(n));t.lineWidth=r,function(o,l){o.save(),o.lineWidth%2&&o.translate(.5,.5),l(),o.restore()}(t,()=>{const o=M(this.zt);if(o.Aa){t.strokeStyle=o.Ia,ts(t,o.za),t.beginPath();for(const l of o.La){const a=Math.round(l.Ea*n);t.moveTo(a,-r),t.lineTo(a,e.height+r)}t.stroke()}if(o.Na){t.strokeStyle=o.Fa,ts(t,o.Wa),t.beginPath();for(const l of o.ja){const a=Math.round(l.Ea*s);t.moveTo(-r,a),t.lineTo(e.width+r,a)}t.stroke()}})}}class vM{constructor(t){this.Wt=new yM,this.ft=!0,this.tn=t}bt(){this.ft=!0}gt(){if(this.ft){const t=this.tn.$t().W().grid,e={Na:t.horzLines.visible,Aa:t.vertLines.visible,Fa:t.horzLines.color,Ia:t.vertLines.color,Wa:t.horzLines.style,za:t.vertLines.style,ja:this.tn.vn().Ha(),La:(this.tn.$t().St().Ha()||[]).map(n=>({Ea:n.coord}))};this.Wt.J(e),this.ft=!1}return this.Wt}}class gM{constructor(t){this.wn=new vM(t)}qh(){return this.wn}}const Xu={$a:4,Ua:1e-4};function ks(i,t){const e=100*(i-t)/t;return t<0?-e:e}function wM(i,t){const e=ks(i.Ph(),t),n=ks(i.Rh(),t);return new me(e,n)}function Rr(i,t){const e=100*(i-t)/t+100;return t<0?-e:e}function bM(i,t){const e=Rr(i.Ph(),t),n=Rr(i.Rh(),t);return new me(e,n)}function Ea(i,t){const e=Math.abs(i);if(e<1e-15)return 0;const n=Math.log10(e+t.Ua)+t.$a;return i<0?-n:n}function Ar(i,t){const e=Math.abs(i);if(e<1e-15)return 0;const n=Math.pow(10,e-t.$a)-t.Ua;return i<0?-n:n}function vr(i,t){if(i===null)return null;const e=Ea(i.Ph(),t),n=Ea(i.Rh(),t);return new me(e,n)}function tl(i,t){if(i===null)return null;const e=Ar(i.Ph(),t),n=Ar(i.Rh(),t);return new me(e,n)}function Qu(i){if(i===null)return Xu;const t=Math.abs(i.Rh()-i.Ph());if(t>=1||t<1e-15)return Xu;const e=Math.ceil(Math.abs(Math.log10(t))),n=Xu.$a+e;return{$a:n,Ua:1/Math.pow(10,n)}}class Ju{constructor(t,e){if(this.qa=t,this.Ya=e,function(n){if(n<0)return!1;for(let s=n;s>1;s/=10)if(s%10!=0)return!1;return!0}(this.qa))this.Za=[2,2.5,2];else{this.Za=[];for(let n=this.qa;n!==1;){if(n%2==0)this.Za.push(2),n/=2;else{if(n%5!=0)throw new Error("unexpected base");this.Za.push(2,2.5),n/=5}if(this.Za.length>100)throw new Error("something wrong with base")}}}Xa(t,e,n){const s=this.qa===0?0:1/this.qa;let r=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-e)))),o=0,l=this.Ya[0];for(;;){const c=qo(r,s,1e-14)&&r>s+1e-14,f=qo(r,n*l,1e-14),d=qo(r,1,1e-14);if(!(c&&f&&d))break;r/=l,l=this.Ya[++o%this.Ya.length]}if(r<=s+1e-14&&(r=s),r=Math.max(1,r),this.Za.length>0&&(a=r,u=1,h=1e-14,Math.abs(a-u)<h))for(o=0,l=this.Za[0];qo(r,n*l,1e-14)&&r>s+1e-14;)r/=l,l=this.Za[++o%this.Za.length];var a,u,h;return r}}class rm{constructor(t,e,n,s){this.Ka=[],this.Li=t,this.qa=e,this.Ga=n,this.Ja=s}Xa(t,e){if(t<e)throw new Error("high < low");const n=this.Li.At(),s=(t-e)*this.Qa()/n,r=new Ju(this.qa,[2,2.5,2]),o=new Ju(this.qa,[2,2,2.5]),l=new Ju(this.qa,[2.5,2,2]),a=[];return a.push(r.Xa(t,e,s),o.Xa(t,e,s),l.Xa(t,e,s)),function(u){if(u.length<1)throw Error("array is empty");let h=u[0];for(let c=1;c<u.length;++c)u[c]<h&&(h=u[c]);return h}(a)}io(){const t=this.Li,e=t.Ct();if(e===null)return void(this.Ka=[]);const n=t.At(),s=this.Ga(n-1,e),r=this.Ga(0,e),o=this.Li.W().entireTextOnly?this.no()/2:0,l=o,a=n-1-o,u=Math.max(s,r),h=Math.min(s,r);if(u===h)return void(this.Ka=[]);let c=this.Xa(u,h),f=u%c;f+=f<0?c:0;const d=u>=h?1:-1;let y=null,v=0;for(let x=u-f;x>h;x-=c){const p=this.Ja(x,e,!0);y!==null&&Math.abs(p-y)<this.Qa()||p<l||p>a||(v<this.Ka.length?(this.Ka[v].Ea=p,this.Ka[v].so=t.eo(x)):this.Ka.push({Ea:p,so:t.eo(x)}),v++,y=p,t.ro()&&(c=this.Xa(x*d,h)))}this.Ka.length=v}Ha(){return this.Ka}no(){return this.Li.P()}Qa(){return Math.ceil(2.5*this.no())}}function hw(i){return i.slice().sort((t,e)=>M(t.Xi())-M(e.Xi()))}var om;(function(i){i[i.Normal=0]="Normal",i[i.Logarithmic=1]="Logarithmic",i[i.Percentage=2]="Percentage",i[i.IndexedTo100=3]="IndexedTo100"})(om||(om={}));const lm=new Jg,am=new au(100,1);class _M{constructor(t,e,n,s){this.ho=0,this.lo=null,this.Ih=null,this.ao=null,this.oo={_o:!1,uo:null},this.co=0,this.do=0,this.fo=new Tt,this.vo=new Tt,this.po=[],this.mo=null,this.bo=null,this.wo=null,this.Mo=null,this.wa=am,this.xo=Qu(null),this.So=t,this.cn=e,this.ko=n,this.yo=s,this.Co=new rm(this,100,this.To.bind(this),this.Po.bind(this))}Pa(){return this.So}W(){return this.cn}$h(t){if(ei(this.cn,t),this.Ra(),t.mode!==void 0&&this.Ro({Cr:t.mode}),t.scaleMargins!==void 0){const e=ie(t.scaleMargins.top),n=ie(t.scaleMargins.bottom);if(e<0||e>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${e}`);if(n<0||n>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${n}`);if(e+n>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${e+n}`);this.Do(),this.bo=null}}Vo(){return this.cn.autoScale}ro(){return this.cn.mode===1}Mh(){return this.cn.mode===2}Oo(){return this.cn.mode===3}Cr(){return{Wn:this.cn.autoScale,Bo:this.cn.invertScale,Cr:this.cn.mode}}Ro(t){const e=this.Cr();let n=null;t.Wn!==void 0&&(this.cn.autoScale=t.Wn),t.Cr!==void 0&&(this.cn.mode=t.Cr,t.Cr!==2&&t.Cr!==3||(this.cn.autoScale=!0),this.oo._o=!1),e.Cr===1&&t.Cr!==e.Cr&&(function(r,o){if(r===null)return!1;const l=Ar(r.Ph(),o),a=Ar(r.Rh(),o);return isFinite(l)&&isFinite(a)}(this.Ih,this.xo)?(n=tl(this.Ih,this.xo),n!==null&&this.Ao(n)):this.cn.autoScale=!0),t.Cr===1&&t.Cr!==e.Cr&&(n=vr(this.Ih,this.xo),n!==null&&this.Ao(n));const s=e.Cr!==this.cn.mode;s&&(e.Cr===2||this.Mh())&&this.Ra(),s&&(e.Cr===3||this.Oo())&&this.Ra(),t.Bo!==void 0&&e.Bo!==t.Bo&&(this.cn.invertScale=t.Bo,this.Io()),this.vo.m(e,this.Cr())}zo(){return this.vo}P(){return this.ko.fontSize}At(){return this.ho}Lo(t){this.ho!==t&&(this.ho=t,this.Do(),this.bo=null)}Eo(){if(this.lo)return this.lo;const t=this.At()-this.No()-this.Fo();return this.lo=t,t}Lh(){return this.Wo(),this.Ih}Ao(t,e){const n=this.Ih;(e||n===null&&t!==null||n!==null&&!n.Ch(t))&&(this.bo=null,this.Ih=t)}Ni(){return this.Wo(),this.ho===0||!this.Ih||this.Ih.Ni()}jo(t){return this.Bo()?t:this.At()-1-t}Rt(t,e){return this.Mh()?t=ks(t,e):this.Oo()&&(t=Rr(t,e)),this.Po(t,e)}te(t,e,n){this.Wo();const s=this.Fo(),r=M(this.Lh()),o=r.Ph(),l=r.Rh(),a=this.Eo()-1,u=this.Bo(),h=a/(l-o),c=n===void 0?0:n.from,f=n===void 0?t.length:n.to,d=this.Ho();for(let y=c;y<f;y++){const v=t[y],x=v._t;if(isNaN(x))continue;let p=x;d!==null&&(p=d(v._t,e));const m=s+h*(p-o),g=u?m:this.ho-1-m;v.st=g}}be(t,e,n){this.Wo();const s=this.Fo(),r=M(this.Lh()),o=r.Ph(),l=r.Rh(),a=this.Eo()-1,u=this.Bo(),h=a/(l-o),c=n===void 0?0:n.from,f=n===void 0?t.length:n.to,d=this.Ho();for(let y=c;y<f;y++){const v=t[y];let x=v.ge,p=v.Me,m=v.xe,g=v.Se;d!==null&&(x=d(v.ge,e),p=d(v.Me,e),m=d(v.xe,e),g=d(v.Se,e));let b=s+h*(x-o),E=u?b:this.ho-1-b;v.pe=E,b=s+h*(p-o),E=u?b:this.ho-1-b,v.de=E,b=s+h*(m-o),E=u?b:this.ho-1-b,v.fe=E,b=s+h*(g-o),E=u?b:this.ho-1-b,v.me=E}}pn(t,e){const n=this.To(t,e);return this.$o(n,e)}$o(t,e){let n=t;return this.Mh()?n=function(s,r){return r<0&&(s=-s),s/100*r+r}(n,e):this.Oo()&&(n=function(s,r){return s-=100,r<0&&(s=-s),s/100*r+r}(n,e)),n}Ba(){return this.po}Uo(){if(this.mo)return this.mo;let t=[];for(let e=0;e<this.po.length;e++){const n=this.po[e];n.Xi()===null&&n.Ki(e+1),t.push(n)}return t=hw(t),this.mo=t,this.mo}qo(t){this.po.indexOf(t)===-1&&(this.po.push(t),this.Ra(),this.Yo())}Zo(t){const e=this.po.indexOf(t);if(e===-1)throw new Error("source is not attached to scale");this.po.splice(e,1),this.po.length===0&&(this.Ro({Wn:!0}),this.Ao(null)),this.Ra(),this.Yo()}Ct(){let t=null;for(const e of this.po){const n=e.Ct();n!==null&&(t===null||n.la<t.la)&&(t=n)}return t===null?null:t.Vt}Bo(){return this.cn.invertScale}Ha(){const t=this.Ct()===null;if(this.bo!==null&&(t||this.bo.Xo===t))return this.bo.Ha;this.Co.io();const e=this.Co.Ha();return this.bo={Ha:e,Xo:t},this.fo.m(),e}Ko(){return this.fo}Go(t){this.Mh()||this.Oo()||this.wo===null&&this.ao===null&&(this.Ni()||(this.wo=this.ho-t,this.ao=M(this.Lh()).Th()))}Jo(t){if(this.Mh()||this.Oo()||this.wo===null)return;this.Ro({Wn:!1}),(t=this.ho-t)<0&&(t=0);let e=(this.wo+.2*(this.ho-1))/(t+.2*(this.ho-1));const n=M(this.ao).Th();e=Math.max(e,.1),n.Vh(e),this.Ao(n)}Qo(){this.Mh()||this.Oo()||(this.wo=null,this.ao=null)}t_(t){this.Vo()||this.Mo===null&&this.ao===null&&(this.Ni()||(this.Mo=t,this.ao=M(this.Lh()).Th()))}i_(t){if(this.Vo()||this.Mo===null)return;const e=M(this.Lh()).Dh()/(this.Eo()-1);let n=t-this.Mo;this.Bo()&&(n*=-1);const s=n*e,r=M(this.ao).Th();r.Oh(s),this.Ao(r,!0),this.bo=null}n_(){this.Vo()||this.Mo!==null&&(this.Mo=null,this.ao=null)}ba(){return this.wa||this.Ra(),this.wa}Fi(t,e){switch(this.cn.mode){case 2:return this.s_(ks(t,e));case 3:return this.ba().format(Rr(t,e));default:return this.Wh(t)}}eo(t){switch(this.cn.mode){case 2:return this.s_(t);case 3:return this.ba().format(t);default:return this.Wh(t)}}Yl(t){return this.Wh(t,M(this.e_()).ba())}Zl(t,e){return t=ks(t,e),this.s_(t,lm)}r_(){return this.po}h_(t){this.oo={uo:t,_o:!1}}Vn(){this.po.forEach(t=>t.Vn())}Ra(){this.bo=null;const t=this.e_();let e=100;t!==null&&(e=Math.round(1/t.ma())),this.wa=am,this.Mh()?(this.wa=lm,e=100):this.Oo()?(this.wa=new au(100,1),e=100):t!==null&&(this.wa=t.ba()),this.Co=new rm(this,e,this.To.bind(this),this.Po.bind(this)),this.Co.io()}Yo(){this.mo=null}e_(){return this.po[0]||null}No(){return this.Bo()?this.cn.scaleMargins.bottom*this.At()+this.do:this.cn.scaleMargins.top*this.At()+this.co}Fo(){return this.Bo()?this.cn.scaleMargins.top*this.At()+this.co:this.cn.scaleMargins.bottom*this.At()+this.do}Wo(){this.oo._o||(this.oo._o=!0,this.l_())}Do(){this.lo=null}Po(t,e){if(this.Wo(),this.Ni())return 0;t=this.ro()&&t?Ea(t,this.xo):t;const n=M(this.Lh()),s=this.Fo()+(this.Eo()-1)*(t-n.Ph())/n.Dh();return this.jo(s)}To(t,e){if(this.Wo(),this.Ni())return 0;const n=this.jo(t),s=M(this.Lh()),r=s.Ph()+s.Dh()*((n-this.Fo())/(this.Eo()-1));return this.ro()?Ar(r,this.xo):r}Io(){this.bo=null,this.Co.io()}l_(){const t=this.oo.uo;if(t===null)return;let e=null;const n=this.r_();let s=0,r=0;for(const a of n){if(!a.yt())continue;const u=a.Ct();if(u===null)continue;const h=a.Il(t.Os(),t.ui());let c=h&&h.Lh();if(c!==null){switch(this.cn.mode){case 1:c=vr(c,this.xo);break;case 2:c=wM(c,u.Vt);break;case 3:c=bM(c,u.Vt)}if(e=e===null?c:e.ts(M(c)),h!==null){const f=h.Eh();f!==null&&(s=Math.max(s,f.above),r=Math.max(r,f.below))}}}if(s===this.co&&r===this.do||(this.co=s,this.do=r,this.bo=null,this.Do()),e!==null){if(e.Ph()===e.Rh()){const a=this.e_(),u=5*(a===null||this.Mh()||this.Oo()?1:a.ma());this.ro()&&(e=tl(e,this.xo)),e=new me(e.Ph()-u,e.Rh()+u),this.ro()&&(e=vr(e,this.xo))}if(this.ro()){const a=tl(e,this.xo),u=Qu(a);if(o=u,l=this.xo,o.$a!==l.$a||o.Ua!==l.Ua){const h=this.ao!==null?tl(this.ao,this.xo):null;this.xo=u,e=vr(a,u),h!==null&&(this.ao=vr(h,u))}}this.Ao(e)}else this.Ih===null&&(this.Ao(new me(-.5,.5)),this.xo=Qu(null));var o,l;this.oo._o=!0}Ho(){return this.Mh()?ks:this.Oo()?Rr:this.ro()?t=>Ea(t,this.xo):null}a_(t,e,n){return e===void 0?(n===void 0&&(n=this.ba()),n.format(t)):e(t)}Wh(t,e){return this.a_(t,this.yo.priceFormatter,e)}s_(t,e){return this.a_(t,this.yo.percentageFormatter,e)}}class SM{constructor(t,e){this.po=[],this.o_=new Map,this.ho=0,this.__=0,this.u_=1e3,this.mo=null,this.c_=new Tt,this.yl=t,this.$i=e,this.d_=new gM(this);const n=e.W();this.f_=this.v_("left",n.leftPriceScale),this.p_=this.v_("right",n.rightPriceScale),this.f_.zo().l(this.m_.bind(this,this.f_),this),this.p_.zo().l(this.m_.bind(this,this.p_),this),this.b_(n)}b_(t){if(t.leftPriceScale&&this.f_.$h(t.leftPriceScale),t.rightPriceScale&&this.p_.$h(t.rightPriceScale),t.localization&&(this.f_.Ra(),this.p_.Ra()),t.overlayPriceScales){const e=Array.from(this.o_.values());for(const n of e){const s=M(n[0].Dt());s.$h(t.overlayPriceScales),t.localization&&s.Ra()}}}w_(t){switch(t){case"left":return this.f_;case"right":return this.p_}return this.o_.has(t)?ie(this.o_.get(t))[0].Dt():null}S(){this.$t().g_().p(this),this.f_.zo().p(this),this.p_.zo().p(this),this.po.forEach(t=>{t.S&&t.S()}),this.c_.m()}M_(){return this.u_}x_(t){this.u_=t}$t(){return this.$i}Hi(){return this.__}At(){return this.ho}S_(t){this.__=t,this.k_()}Lo(t){this.ho=t,this.f_.Lo(t),this.p_.Lo(t),this.po.forEach(e=>{if(this.vr(e)){const n=e.Dt();n!==null&&n.Lo(t)}}),this.k_()}Ba(){return this.po}vr(t){const e=t.Dt();return e===null||this.f_!==e&&this.p_!==e}qo(t,e,n){const s=n!==void 0?n:this.C_().y_+1;this.T_(t,e,s)}Zo(t){const e=this.po.indexOf(t);Sn(e!==-1,"removeDataSource: invalid data source"),this.po.splice(e,1);const n=M(t.Dt()).Pa();if(this.o_.has(n)){const r=ie(this.o_.get(n)),o=r.indexOf(t);o!==-1&&(r.splice(o,1),r.length===0&&this.o_.delete(n))}const s=t.Dt();s&&s.Ba().indexOf(t)>=0&&s.Zo(t),s!==null&&(s.Yo(),this.P_(s)),this.mo=null}mr(t){return t===this.f_?"left":t===this.p_?"right":"overlay"}R_(){return this.f_}D_(){return this.p_}V_(t,e){t.Go(e)}O_(t,e){t.Jo(e),this.k_()}B_(t){t.Qo()}A_(t,e){t.t_(e)}I_(t,e){t.i_(e),this.k_()}z_(t){t.n_()}k_(){this.po.forEach(t=>{t.Vn()})}vn(){let t=null;return this.$i.W().rightPriceScale.visible&&this.p_.Ba().length!==0?t=this.p_:this.$i.W().leftPriceScale.visible&&this.f_.Ba().length!==0?t=this.f_:this.po.length!==0&&(t=this.po[0].Dt()),t===null&&(t=this.p_),t}pr(){let t=null;return this.$i.W().rightPriceScale.visible?t=this.p_:this.$i.W().leftPriceScale.visible&&(t=this.f_),t}P_(t){t!==null&&t.Vo()&&this.L_(t)}E_(t){const e=this.yl.Xs();t.Ro({Wn:!0}),e!==null&&t.h_(e),this.k_()}N_(){this.L_(this.f_),this.L_(this.p_)}F_(){this.P_(this.f_),this.P_(this.p_),this.po.forEach(t=>{this.vr(t)&&this.P_(t.Dt())}),this.k_(),this.$i.Uh()}Uo(){return this.mo===null&&(this.mo=hw(this.po)),this.mo}W_(){return this.c_}j_(){return this.d_}L_(t){const e=t.r_();if(e&&e.length>0&&!this.yl.Ni()){const n=this.yl.Xs();n!==null&&t.h_(n)}t.Vn()}C_(){const t=this.Uo();if(t.length===0)return{H_:0,y_:0};let e=0,n=0;for(let s=0;s<t.length;s++){const r=t[s].Xi();r!==null&&(r<e&&(e=r),r>n&&(n=r))}return{H_:e,y_:n}}T_(t,e,n){let s=this.w_(e);if(s===null&&(s=this.v_(e,this.$i.W().overlayPriceScales)),this.po.push(t),!lu(e)){const r=this.o_.get(e)||[];r.push(t),this.o_.set(e,r)}s.qo(t),t.Gi(s),t.Ki(n),this.P_(s),this.mo=null}m_(t,e,n){e.Cr!==n.Cr&&this.L_(t)}v_(t,e){const n=Object.assign({visible:!0,autoScale:!0},Li(e)),s=new _M(t,n,this.$i.W().layout,this.$i.W().localization);return s.Lo(this.At()),s}}class xM{constructor(t,e,n=50){this.Ke=0,this.Ge=1,this.Je=1,this.tr=new Map,this.Qe=new Map,this.U_=t,this.q_=e,this.ir=n}Y_(t){const e=t.time,n=this.q_.cacheKey(e),s=this.tr.get(n);if(s!==void 0)return s.Z_;if(this.Ke===this.ir){const o=this.Qe.get(this.Je);this.Qe.delete(this.Je),this.tr.delete(ie(o)),this.Je++,this.Ke--}const r=this.U_(t);return this.tr.set(n,{Z_:r,rr:this.Ge}),this.Qe.set(this.Ge,n),this.Ke++,this.Ge++,r}}class Pr{constructor(t,e){Sn(t<=e,"right should be >= left"),this.X_=t,this.K_=e}Os(){return this.X_}ui(){return this.K_}G_(){return this.K_-this.X_+1}Kr(t){return this.X_<=t&&t<=this.K_}Ch(t){return this.X_===t.Os()&&this.K_===t.ui()}}function um(i,t){return i===null||t===null?i===t:i.Ch(t)}class MM{constructor(){this.J_=new Map,this.tr=null,this.Q_=!1}tu(t){this.Q_=t,this.tr=null}iu(t,e){this.nu(e),this.tr=null;for(let n=e;n<t.length;++n){const s=t[n];let r=this.J_.get(s.timeWeight);r===void 0&&(r=[],this.J_.set(s.timeWeight,r)),r.push({index:n,time:s.time,weight:s.timeWeight,originalTime:s.originalTime})}}su(t,e){const n=Math.ceil(e/t);return this.tr!==null&&this.tr.eu===n||(this.tr={Ha:this.ru(n),eu:n}),this.tr.Ha}nu(t){if(t===0)return void this.J_.clear();const e=[];this.J_.forEach((n,s)=>{t<=n[0].index?e.push(s):n.splice(No(n,t,r=>r.index<t),1/0)});for(const n of e)this.J_.delete(n)}ru(t){let e=[];for(const n of Array.from(this.J_.keys()).sort((s,r)=>r-s)){if(!this.J_.get(n))continue;const s=e;e=[];const r=s.length;let o=0;const l=ie(this.J_.get(n)),a=l.length;let u=1/0,h=-1/0;for(let c=0;c<a;c++){const f=l[c],d=f.index;for(;o<r;){const y=s[o],v=y.index;if(!(v<d)){u=v;break}o++,e.push(y),h=v,u=1/0}if(u-d>=t&&d-h>=t)e.push(f),h=d;else if(this.Q_)return s}for(;o<r;o++)e.push(s[o])}return e}}class $s{constructor(t){this.hu=t}lu(){return this.hu===null?null:new Pr(Math.floor(this.hu.Os()),Math.ceil(this.hu.ui()))}au(){return this.hu}static ou(){return new $s(null)}}function IM(i,t){return i.weight>t.weight?i:t}class CM{constructor(t,e,n,s){this.__=0,this._u=null,this.uu=[],this.Mo=null,this.wo=null,this.cu=new MM,this.du=new Map,this.fu=$s.ou(),this.vu=!0,this.pu=new Tt,this.mu=new Tt,this.bu=new Tt,this.wu=null,this.gu=null,this.Mu=[],this.cn=e,this.yo=n,this.xu=e.rightOffset,this.Su=e.barSpacing,this.$i=t,this.q_=s,this.ku(),this.cu.tu(e.uniformDistribution)}W(){return this.cn}yu(t){ei(this.yo,t),this.Cu(),this.ku()}$h(t,e){var n;ei(this.cn,t),this.cn.fixLeftEdge&&this.Tu(),this.cn.fixRightEdge&&this.Pu(),t.barSpacing!==void 0&&this.$i.Gn(t.barSpacing),t.rightOffset!==void 0&&this.$i.Jn(t.rightOffset),t.minBarSpacing!==void 0&&this.$i.Gn((n=t.barSpacing)!==null&&n!==void 0?n:this.Su),this.Cu(),this.ku(),this.bu.m()}mn(t){var e,n;return(n=(e=this.uu[t])===null||e===void 0?void 0:e.time)!==null&&n!==void 0?n:null}Ui(t){var e;return(e=this.uu[t])!==null&&e!==void 0?e:null}Va(t,e){if(this.uu.length<1)return null;if(this.q_.key(t)>this.q_.key(this.uu[this.uu.length-1].time))return e?this.uu.length-1:null;const n=No(this.uu,this.q_.key(t),(s,r)=>this.q_.key(s.time)<r);return this.q_.key(t)<this.q_.key(this.uu[n].time)?e?n:null:n}Ni(){return this.__===0||this.uu.length===0||this._u===null}Da(){return this.uu.length>0}Xs(){return this.Ru(),this.fu.lu()}Du(){return this.Ru(),this.fu.au()}Vu(){const t=this.Xs();if(t===null)return null;const e={from:t.Os(),to:t.ui()};return this.Ou(e)}Ou(t){const e=Math.round(t.from),n=Math.round(t.to),s=M(this.Bu()),r=M(this.Au());return{from:M(this.Ui(Math.max(s,e))),to:M(this.Ui(Math.min(r,n)))}}Iu(t){return{from:M(this.Va(t.from,!0)),to:M(this.Va(t.to,!0))}}Hi(){return this.__}S_(t){if(!isFinite(t)||t<=0||this.__===t)return;const e=this.Du(),n=this.__;if(this.__=t,this.vu=!0,this.cn.lockVisibleTimeRangeOnResize&&n!==0){const s=this.Su*t/n;this.Su=s}if(this.cn.fixLeftEdge&&e!==null&&e.Os()<=0){const s=n-t;this.xu-=Math.round(s/this.Su)+1,this.vu=!0}this.zu(),this.Lu()}It(t){if(this.Ni()||!co(t))return 0;const e=this.Eu()+this.xu-t;return this.__-(e+.5)*this.Su-1}Qs(t,e){const n=this.Eu(),s=e===void 0?0:e.from,r=e===void 0?t.length:e.to;for(let o=s;o<r;o++){const l=t[o].ot,a=n+this.xu-l,u=this.__-(a+.5)*this.Su-1;t[o].nt=u}}Nu(t){return Math.ceil(this.Fu(t))}Jn(t){this.vu=!0,this.xu=t,this.Lu(),this.$i.Wu(),this.$i.Uh()}le(){return this.Su}Gn(t){this.ju(t),this.Lu(),this.$i.Wu(),this.$i.Uh()}Hu(){return this.xu}Ha(){if(this.Ni())return null;if(this.gu!==null)return this.gu;const t=this.Su,e=5*(this.$i.W().layout.fontSize+4)/8*(this.cn.tickMarkMaxCharacterLength||8),n=Math.round(e/t),s=M(this.Xs()),r=Math.max(s.Os(),s.Os()-n),o=Math.max(s.ui(),s.ui()-n),l=this.cu.su(t,e),a=this.Bu()+n,u=this.Au()-n,h=this.$u(),c=this.cn.fixLeftEdge||h,f=this.cn.fixRightEdge||h;let d=0;for(const y of l){if(!(r<=y.index&&y.index<=o))continue;let v;d<this.Mu.length?(v=this.Mu[d],v.coord=this.It(y.index),v.label=this.Uu(y),v.weight=y.weight):(v={needAlignCoordinate:!1,coord:this.It(y.index),label:this.Uu(y),weight:y.weight},this.Mu.push(v)),this.Su>e/2&&!h?v.needAlignCoordinate=!1:v.needAlignCoordinate=c&&y.index<=a||f&&y.index>=u,d++}return this.Mu.length=d,this.gu=this.Mu,this.Mu}qu(){this.vu=!0,this.Gn(this.cn.barSpacing),this.Jn(this.cn.rightOffset)}Yu(t){this.vu=!0,this._u=t,this.Lu(),this.Tu()}Zu(t,e){const n=this.Fu(t),s=this.le(),r=s+e*(s/10);this.Gn(r),this.cn.rightBarStaysOnScroll||this.Jn(this.Hu()+(n-this.Fu(t)))}Go(t){this.Mo&&this.n_(),this.wo===null&&this.wu===null&&(this.Ni()||(this.wo=t,this.Xu()))}Jo(t){if(this.wu===null)return;const e=pc(this.__-t,0,this.__),n=pc(this.__-M(this.wo),0,this.__);e!==0&&n!==0&&this.Gn(this.wu.le*e/n)}Qo(){this.wo!==null&&(this.wo=null,this.Ku())}t_(t){this.Mo===null&&this.wu===null&&(this.Ni()||(this.Mo=t,this.Xu()))}i_(t){if(this.Mo===null)return;const e=(this.Mo-t)/this.le();this.xu=M(this.wu).Hu+e,this.vu=!0,this.Lu()}n_(){this.Mo!==null&&(this.Mo=null,this.Ku())}Gu(){this.Ju(this.cn.rightOffset)}Ju(t,e=400){if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const n=this.xu,s=performance.now();this.$i.Zn({Qu:r=>(r-s)/e>=1,tc:r=>{const o=(r-s)/e;return o>=1?t:n+(t-n)*o}})}bt(t,e){this.vu=!0,this.uu=t,this.cu.iu(t,e),this.Lu()}nc(){return this.pu}sc(){return this.mu}ec(){return this.bu}Eu(){return this._u||0}rc(t){const e=t.G_();this.ju(this.__/e),this.xu=t.ui()-this.Eu(),this.Lu(),this.vu=!0,this.$i.Wu(),this.$i.Uh()}hc(){const t=this.Bu(),e=this.Au();t!==null&&e!==null&&this.rc(new Pr(t,e+this.cn.rightOffset))}lc(t){const e=new Pr(t.from,t.to);this.rc(e)}qi(t){return this.yo.timeFormatter!==void 0?this.yo.timeFormatter(t.originalTime):this.q_.formatHorzItem(t.time)}$u(){const{handleScroll:t,handleScale:e}=this.$i.W();return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||e.axisDoubleClickReset.time||e.axisPressedMouseMove.time||e.mouseWheel||e.pinch)}Bu(){return this.uu.length===0?null:0}Au(){return this.uu.length===0?null:this.uu.length-1}ac(t){return(this.__-1-t)/this.Su}Fu(t){const e=this.ac(t),n=this.Eu()+this.xu-e;return Math.round(1e6*n)/1e6}ju(t){const e=this.Su;this.Su=t,this.zu(),e!==this.Su&&(this.vu=!0,this.oc())}Ru(){if(!this.vu)return;if(this.vu=!1,this.Ni())return void this._c($s.ou());const t=this.Eu(),e=this.__/this.Su,n=this.xu+t,s=new Pr(n-e+1,n);this._c(new $s(s))}zu(){const t=this.uc();if(this.Su<t&&(this.Su=t,this.vu=!0),this.__!==0){const e=.5*this.__;this.Su>e&&(this.Su=e,this.vu=!0)}}uc(){return this.cn.fixLeftEdge&&this.cn.fixRightEdge&&this.uu.length!==0?this.__/this.uu.length:this.cn.minBarSpacing}Lu(){const t=this.cc();t!==null&&this.xu<t&&(this.xu=t,this.vu=!0);const e=this.dc();this.xu>e&&(this.xu=e,this.vu=!0)}cc(){const t=this.Bu(),e=this._u;return t===null||e===null?null:t-e-1+(this.cn.fixLeftEdge?this.__/this.Su:Math.min(2,this.uu.length))}dc(){return this.cn.fixRightEdge?0:this.__/this.Su-Math.min(2,this.uu.length)}Xu(){this.wu={le:this.le(),Hu:this.Hu()}}Ku(){this.wu=null}Uu(t){let e=this.du.get(t.weight);return e===void 0&&(e=new xM(n=>this.fc(n),this.q_),this.du.set(t.weight,e)),e.Y_(t)}fc(t){return this.q_.formatTickmark(t,this.yo)}_c(t){const e=this.fu;this.fu=t,um(e.lu(),this.fu.lu())||this.pu.m(),um(e.au(),this.fu.au())||this.mu.m(),this.oc()}oc(){this.gu=null}Cu(){this.oc(),this.du.clear()}ku(){this.q_.updateFormatter(this.yo)}Tu(){if(!this.cn.fixLeftEdge)return;const t=this.Bu();if(t===null)return;const e=this.Xs();if(e===null)return;const n=e.Os()-t;if(n<0){const s=this.xu-n-1;this.Jn(s)}this.zu()}Pu(){this.Lu(),this.zu()}}class EM{X(t,e,n){t.useMediaCoordinateSpace(s=>this.K(s,e,n))}gl(t,e,n){t.useMediaCoordinateSpace(s=>this.vc(s,e,n))}vc(t,e,n){}}class kM extends EM{constructor(t){super(),this.mc=new Map,this.zt=t}K(t){}vc(t){if(!this.zt.yt)return;const{context:e,mediaSize:n}=t;let s=0;for(const o of this.zt.bc){if(o.Kt.length===0)continue;e.font=o.R;const l=this.wc(e,o.Kt);l>n.width?o.Zu=n.width/l:o.Zu=1,s+=o.gc*o.Zu}let r=0;switch(this.zt.Mc){case"top":r=0;break;case"center":r=Math.max((n.height-s)/2,0);break;case"bottom":r=Math.max(n.height-s,0)}e.fillStyle=this.zt.V;for(const o of this.zt.bc){e.save();let l=0;switch(this.zt.xc){case"left":e.textAlign="left",l=o.gc/2;break;case"center":e.textAlign="center",l=n.width/2;break;case"right":e.textAlign="right",l=n.width-1-o.gc/2}e.translate(l,r),e.textBaseline="top",e.font=o.R,e.scale(o.Zu,o.Zu),e.fillText(o.Kt,0,o.Sc),e.restore(),r+=o.gc*o.Zu}}wc(t,e){const n=this.kc(t.font);let s=n.get(e);return s===void 0&&(s=t.measureText(e).width,n.set(e,s)),s}kc(t){let e=this.mc.get(t);return e===void 0&&(e=new Map,this.mc.set(t,e)),e}}class NM{constructor(t){this.ft=!0,this.Ft={yt:!1,V:"",bc:[],Mc:"center",xc:"center"},this.Wt=new kM(this.Ft),this.jt=t}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const t=this.jt.W(),e=this.Ft;e.yt=t.visible,e.yt&&(e.V=t.color,e.xc=t.horzAlign,e.Mc=t.vertAlign,e.bc=[{Kt:t.text,R:er(t.fontSize,t.fontFamily,t.fontStyle),gc:1.2*t.fontSize,Sc:0,Zu:0}])}}class TM extends qf{constructor(t,e){super(),this.cn=e,this.wn=new NM(this)}Rn(){return[]}Pn(){return[this.wn]}W(){return this.cn}Vn(){this.wn.bt()}}var hm,cm,fm,dm,pm;(function(i){i[i.OnTouchEnd=0]="OnTouchEnd",i[i.OnNextTap=1]="OnNextTap"})(hm||(hm={}));class OM{constructor(t,e,n){this.yc=[],this.Cc=[],this.__=0,this.Tc=null,this.Pc=new Tt,this.Rc=new Tt,this.Dc=null,this.Vc=t,this.cn=e,this.q_=n,this.Oc=new u2(this),this.yl=new CM(this,e.timeScale,this.cn.localization,n),this.vt=new b2(this,e.crosshair),this.Bc=new mM(e.crosshair),this.Ac=new TM(this,e.watermark),this.Ic(),this.yc[0].x_(2e3),this.zc=this.Lc(0),this.Ec=this.Lc(1)}Kl(){this.Nc(jt.es())}Uh(){this.Nc(jt.ss())}oa(){this.Nc(new jt(1))}Gl(t){const e=this.Fc(t);this.Nc(e)}Wc(){return this.Tc}jc(t){const e=this.Tc;this.Tc=t,e!==null&&this.Gl(e.Hc),t!==null&&this.Gl(t.Hc)}W(){return this.cn}$h(t){ei(this.cn,t),this.yc.forEach(e=>e.b_(t)),t.timeScale!==void 0&&this.yl.$h(t.timeScale),t.localization!==void 0&&this.yl.yu(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.Pc.m(),this.zc=this.Lc(0),this.Ec=this.Lc(1),this.Kl()}$c(t,e){if(t==="left")return void this.$h({leftPriceScale:e});if(t==="right")return void this.$h({rightPriceScale:e});const n=this.Uc(t);n!==null&&(n.Dt.$h(e),this.Pc.m())}Uc(t){for(const e of this.yc){const n=e.w_(t);if(n!==null)return{Ht:e,Dt:n}}return null}St(){return this.yl}qc(){return this.yc}Yc(){return this.Ac}Zc(){return this.vt}Xc(){return this.Rc}Kc(t,e){t.Lo(e),this.Wu()}S_(t){this.__=t,this.yl.S_(this.__),this.yc.forEach(e=>e.S_(t)),this.Wu()}Ic(t){const e=new SM(this.yl,this);t!==void 0?this.yc.splice(t,0,e):this.yc.push(e);const n=t===void 0?this.yc.length-1:t,s=jt.es();return s.Nn(n,{Fn:0,Wn:!0}),this.Nc(s),e}V_(t,e,n){t.V_(e,n)}O_(t,e,n){t.O_(e,n),this.Jl(),this.Nc(this.Gc(t,2))}B_(t,e){t.B_(e),this.Nc(this.Gc(t,2))}A_(t,e,n){e.Vo()||t.A_(e,n)}I_(t,e,n){e.Vo()||(t.I_(e,n),this.Jl(),this.Nc(this.Gc(t,2)))}z_(t,e){e.Vo()||(t.z_(e),this.Nc(this.Gc(t,2)))}E_(t,e){t.E_(e),this.Nc(this.Gc(t,2))}Jc(t){this.yl.Go(t)}Qc(t,e){const n=this.St();if(n.Ni()||e===0)return;const s=n.Hi();t=Math.max(1,Math.min(t,s)),n.Zu(t,e),this.Wu()}td(t){this.nd(0),this.sd(t),this.ed()}rd(t){this.yl.Jo(t),this.Wu()}hd(){this.yl.Qo(),this.Uh()}nd(t){this.yl.t_(t)}sd(t){this.yl.i_(t),this.Wu()}ed(){this.yl.n_(),this.Uh()}wt(){return this.Cc}ld(t,e,n,s,r){this.vt.gn(t,e);let o=NaN,l=this.yl.Nu(t);const a=this.yl.Xs();a!==null&&(l=Math.min(Math.max(a.Os(),l),a.ui()));const u=s.vn(),h=u.Ct();h!==null&&(o=u.pn(e,h)),o=this.Bc.Oa(o,l,s),this.vt.kn(l,o,s),this.oa(),r||this.Rc.m(this.vt.xt(),{x:t,y:e},n)}ad(t,e,n){const s=n.vn(),r=s.Ct(),o=s.Rt(t,M(r)),l=this.yl.Va(e,!0),a=this.yl.It(M(l));this.ld(a,o,null,n,!0)}od(t){this.Zc().Cn(),this.oa(),t||this.Rc.m(null,null,null)}Jl(){const t=this.vt.Ht();if(t!==null){const e=this.vt.xn(),n=this.vt.Sn();this.ld(e,n,null,t)}this.vt.Vn()}_d(t,e,n){const s=this.yl.mn(0);e!==void 0&&n!==void 0&&this.yl.bt(e,n);const r=this.yl.mn(0),o=this.yl.Eu(),l=this.yl.Xs();if(l!==null&&s!==null&&r!==null){const a=l.Kr(o),u=this.q_.key(s)>this.q_.key(r),h=t!==null&&t>o&&!u,c=this.yl.W().allowShiftVisibleRangeOnWhitespaceReplacement,f=a&&(n!==void 0||c)&&this.yl.W().shiftVisibleRangeOnNewBar;if(h&&!f){const d=t-o;this.yl.Jn(this.yl.Hu()-d)}}this.yl.Yu(t)}ia(t){t!==null&&t.F_()}dr(t){const e=this.yc.find(n=>n.Uo().includes(t));return e===void 0?null:e}Wu(){this.Ac.Vn(),this.yc.forEach(t=>t.F_()),this.Jl()}S(){this.yc.forEach(t=>t.S()),this.yc.length=0,this.cn.localization.priceFormatter=void 0,this.cn.localization.percentageFormatter=void 0,this.cn.localization.timeFormatter=void 0}ud(){return this.Oc}br(){return this.Oc.W()}g_(){return this.Pc}dd(t,e,n){const s=this.yc[0],r=this.fd(e,t,s,n);return this.Cc.push(r),this.Cc.length===1?this.Kl():this.Uh(),r}vd(t){const e=this.dr(t),n=this.Cc.indexOf(t);Sn(n!==-1,"Series not found"),this.Cc.splice(n,1),M(e).Zo(t),t.S&&t.S()}Xl(t,e){const n=M(this.dr(t));n.Zo(t);const s=this.Uc(e);if(s===null){const r=t.Xi();n.qo(t,e,r)}else{const r=s.Ht===n?t.Xi():void 0;s.Ht.qo(t,e,r)}}hc(){const t=jt.ss();t.$n(),this.Nc(t)}pd(t){const e=jt.ss();e.Yn(t),this.Nc(e)}Kn(){const t=jt.ss();t.Kn(),this.Nc(t)}Gn(t){const e=jt.ss();e.Gn(t),this.Nc(e)}Jn(t){const e=jt.ss();e.Jn(t),this.Nc(e)}Zn(t){const e=jt.ss();e.Zn(t),this.Nc(e)}Un(){const t=jt.ss();t.Un(),this.Nc(t)}md(){return this.cn.rightPriceScale.visible?"right":"left"}bd(){return this.Ec}q(){return this.zc}Bt(t){const e=this.Ec,n=this.zc;if(e===n)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),this.Dc===null||this.Dc.Ps!==n||this.Dc.Rs!==e)this.Dc={Ps:n,Rs:e,wd:new Map};else{const r=this.Dc.wd.get(t);if(r!==void 0)return r}const s=function(r,o,l){const[a,u,h,c]=ho(r),[f,d,y,v]=ho(o),x=[De(a+l*(f-a)),De(u+l*(d-u)),De(h+l*(y-h)),Kg(c+l*(v-c))];return`rgba(${x[0]}, ${x[1]}, ${x[2]}, ${x[3]})`}(n,e,t/100);return this.Dc.wd.set(t,s),s}Gc(t,e){const n=new jt(e);if(t!==null){const s=this.yc.indexOf(t);n.Nn(s,{Fn:e})}return n}Fc(t,e){return e===void 0&&(e=2),this.Gc(this.dr(t),e)}Nc(t){this.Vc&&this.Vc(t),this.yc.forEach(e=>e.j_().qh().bt())}fd(t,e,n,s){const r=new id(this,t,e,n,s),o=t.priceScaleId!==void 0?t.priceScaleId:this.md();return n.qo(r,o),lu(o)||r.$h(t),r}Lc(t){const e=this.cn.layout;return e.background.type==="gradient"?t===0?e.background.topColor:e.background.bottomColor:e.background.color}}function mc(i){return!wi(i)&&!ko(i)}function cw(i){return wi(i)}(function(i){i[i.Disabled=0]="Disabled",i[i.Continuous=1]="Continuous",i[i.OnDataUpdate=2]="OnDataUpdate"})(cm||(cm={})),function(i){i[i.LastBar=0]="LastBar",i[i.LastVisible=1]="LastVisible"}(fm||(fm={})),function(i){i.Solid="solid",i.VerticalGradient="gradient"}(dm||(dm={})),function(i){i[i.Year=0]="Year",i[i.Month=1]="Month",i[i.DayOfMonth=2]="DayOfMonth",i[i.Time=3]="Time",i[i.TimeWithSeconds=4]="TimeWithSeconds"}(pm||(pm={}));const mm=i=>i.getUTCFullYear();function BM(i,t,e){return t.replace(/yyyy/g,(n=>Fi(mm(n),4))(i)).replace(/yy/g,(n=>Fi(mm(n)%100,2))(i)).replace(/MMMM/g,((n,s)=>new Date(n.getUTCFullYear(),n.getUTCMonth(),1).toLocaleString(s,{month:"long"}))(i,e)).replace(/MMM/g,((n,s)=>new Date(n.getUTCFullYear(),n.getUTCMonth(),1).toLocaleString(s,{month:"short"}))(i,e)).replace(/MM/g,(n=>Fi((s=>s.getUTCMonth()+1)(n),2))(i)).replace(/dd/g,(n=>Fi((s=>s.getUTCDate())(n),2))(i))}class fw{constructor(t="yyyy-MM-dd",e="default"){this.gd=t,this.Md=e}Y_(t){return BM(t,this.gd,this.Md)}}class zM{constructor(t){this.xd=t||"%h:%m:%s"}Y_(t){return this.xd.replace("%h",Fi(t.getUTCHours(),2)).replace("%m",Fi(t.getUTCMinutes(),2)).replace("%s",Fi(t.getUTCSeconds(),2))}}const DM={Sd:"yyyy-MM-dd",kd:"%h:%m:%s",yd:" ",Cd:"default"};class LM{constructor(t={}){const e=Object.assign(Object.assign({},DM),t);this.Td=new fw(e.Sd,e.Cd),this.Pd=new zM(e.kd),this.Rd=e.yd}Y_(t){return`${this.Td.Y_(t)}${this.Rd}${this.Pd.Y_(t)}`}}function el(i){return 60*i*60*1e3}function Gu(i){return 60*i*1e3}const il=[{Dd:(ym=1,1e3*ym),Vd:10},{Dd:Gu(1),Vd:20},{Dd:Gu(5),Vd:21},{Dd:Gu(30),Vd:22},{Dd:el(1),Vd:30},{Dd:el(3),Vd:31},{Dd:el(6),Vd:32},{Dd:el(12),Vd:33}];var ym;function vm(i,t){if(i.getUTCFullYear()!==t.getUTCFullYear())return 70;if(i.getUTCMonth()!==t.getUTCMonth())return 60;if(i.getUTCDate()!==t.getUTCDate())return 50;for(let e=il.length-1;e>=0;--e)if(Math.floor(t.getTime()/il[e].Dd)!==Math.floor(i.getTime()/il[e].Dd))return il[e].Vd;return 0}function qu(i){let t=i;if(ko(i)&&(t=nd(i)),!mc(t))throw new Error("time must be of type BusinessDay");const e=new Date(Date.UTC(t.year,t.month-1,t.day,0,0,0,0));return{Od:Math.round(e.getTime()/1e3),Bd:t}}function gm(i){if(!cw(i))throw new Error("time must be of type isUTCTimestamp");return{Od:i}}function nd(i){const t=new Date(i);if(isNaN(t.getTime()))throw new Error(`Invalid date string=${i}, expected format=yyyy-mm-dd`);return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}}function wm(i){ko(i.time)&&(i.time=nd(i.time))}class bm{options(){return this.cn}setOptions(t){this.cn=t,this.updateFormatter(t.localization)}preprocessData(t){Array.isArray(t)?function(e){e.forEach(wm)}(t):wm(t)}createConverterToInternalObj(t){return M(function(e){return e.length===0?null:mc(e[0].time)||ko(e[0].time)?qu:gm}(t))}key(t){return typeof t=="object"&&"Od"in t?t.Od:this.key(this.convertHorzItemToInternal(t))}cacheKey(t){const e=t;return e.Bd===void 0?new Date(1e3*e.Od).getTime():new Date(Date.UTC(e.Bd.year,e.Bd.month-1,e.Bd.day)).getTime()}convertHorzItemToInternal(t){return cw(e=t)?gm(e):mc(e)?qu(e):qu(nd(e));var e}updateFormatter(t){if(!this.cn)return;const e=t.dateFormat;this.cn.timeScale.timeVisible?this.Ad=new LM({Sd:e,kd:this.cn.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",yd:"   ",Cd:t.locale}):this.Ad=new fw(e,t.locale)}formatHorzItem(t){const e=t;return this.Ad.Y_(new Date(1e3*e.Od))}formatTickmark(t,e){const n=function(r,o,l){switch(r){case 0:case 10:return o?l?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return o?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.weight,this.cn.timeScale.timeVisible,this.cn.timeScale.secondsVisible),s=this.cn.timeScale;if(s.tickMarkFormatter!==void 0){const r=s.tickMarkFormatter(t.originalTime,n,e.locale);if(r!==null)return r}return function(r,o,l){const a={};switch(o){case 0:a.year="numeric";break;case 1:a.month="short";break;case 2:a.day="numeric";break;case 3:a.hour12=!1,a.hour="2-digit",a.minute="2-digit";break;case 4:a.hour12=!1,a.hour="2-digit",a.minute="2-digit",a.second="2-digit"}const u=r.Bd===void 0?new Date(1e3*r.Od):new Date(Date.UTC(r.Bd.year,r.Bd.month-1,r.Bd.day));return new Date(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate(),u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()).toLocaleString(l,a)}(t.time,n,e.locale)}maxTickMarkWeight(t){let e=t.reduce(IM,t[0]).weight;return e>30&&e<50&&(e=30),e}fillWeightsForPoints(t,e){(function(n,s=0){if(n.length===0)return;let r=s===0?null:n[s-1].time.Od,o=r!==null?new Date(1e3*r):null,l=0;for(let a=s;a<n.length;++a){const u=n[a],h=new Date(1e3*u.time.Od);o!==null&&(u.timeWeight=vm(h,o)),l+=u.time.Od-(r||u.time.Od),r=u.time.Od,o=h}if(s===0&&n.length>1){const a=Math.ceil(l/(n.length-1)),u=new Date(1e3*(n[0].time.Od-a));n[0].timeWeight=vm(new Date(1e3*n[0].time.Od),u)}})(t,e)}static Id(t){return ei({localization:{dateFormat:"dd MMM 'yy"}},t??{})}}const ir=typeof window<"u";function _m(){return!!ir&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function Zu(){return!!ir&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function yc(i){return i+i%2}function th(i,t){return i.zd-t.zd}function eh(i,t,e){const n=(i.zd-t.zd)/(i.ot-t.ot);return Math.sign(n)*Math.min(Math.abs(n),e)}class FM{constructor(t,e,n,s){this.Ld=null,this.Ed=null,this.Nd=null,this.Fd=null,this.Wd=null,this.jd=0,this.Hd=0,this.$d=t,this.Ud=e,this.qd=n,this.rs=s}Yd(t,e){if(this.Ld!==null){if(this.Ld.ot===e)return void(this.Ld.zd=t);if(Math.abs(this.Ld.zd-t)<this.rs)return}this.Fd=this.Nd,this.Nd=this.Ed,this.Ed=this.Ld,this.Ld={ot:e,zd:t}}Vr(t,e){if(this.Ld===null||this.Ed===null||e-this.Ld.ot>50)return;let n=0;const s=eh(this.Ld,this.Ed,this.Ud),r=th(this.Ld,this.Ed),o=[s],l=[r];if(n+=r,this.Nd!==null){const u=eh(this.Ed,this.Nd,this.Ud);if(Math.sign(u)===Math.sign(s)){const h=th(this.Ed,this.Nd);if(o.push(u),l.push(h),n+=h,this.Fd!==null){const c=eh(this.Nd,this.Fd,this.Ud);if(Math.sign(c)===Math.sign(s)){const f=th(this.Nd,this.Fd);o.push(c),l.push(f),n+=f}}}}let a=0;for(let u=0;u<o.length;++u)a+=l[u]/n*o[u];Math.abs(a)<this.$d||(this.Wd={zd:t,ot:e},this.Hd=a,this.jd=function(u,h){const c=Math.log(h);return Math.log(1*c/-u)/c}(Math.abs(a),this.qd))}tc(t){const e=M(this.Wd),n=t-e.ot;return e.zd+this.Hd*(Math.pow(this.qd,n)-1)/Math.log(this.qd)}Qu(t){return this.Wd===null||this.Zd(t)===this.jd}Zd(t){const e=t-M(this.Wd).ot;return Math.min(e,this.jd)}}class RM{constructor(t,e){this.Xd=void 0,this.Kd=void 0,this.Gd=void 0,this.en=!1,this.Jd=t,this.Qd=e,this.tf()}bt(){this.tf()}if(){this.Xd&&this.Jd.removeChild(this.Xd),this.Kd&&this.Jd.removeChild(this.Kd),this.Xd=void 0,this.Kd=void 0}nf(){return this.en!==this.sf()||this.Gd!==this.ef()}ef(){return Yg(ho(this.Qd.W().layout.textColor))>160?"dark":"light"}sf(){return this.Qd.W().layout.attributionLogo}rf(){const t=new URL(location.href);return t.hostname?"&utm_source="+t.hostname+t.pathname:""}tf(){this.nf()&&(this.if(),this.en=this.sf(),this.en&&(this.Gd=this.ef(),this.Kd=document.createElement("style"),this.Kd.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Xd=document.createElement("a"),this.Xd.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.rf()}`,this.Xd.title="Charting by TradingView",this.Xd.id="tv-attr-logo",this.Xd.target="_blank",this.Xd.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 19" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Xd.toggleAttribute("data-dark",this.Gd==="dark"),this.Jd.appendChild(this.Kd),this.Jd.appendChild(this.Xd)))}}function es(i,t){const e=M(i.ownerDocument).createElement("canvas");i.appendChild(e);const n=Xx(e,{options:{allowResizeObserver:!1},transform:(s,r)=>({width:Math.max(s.width,r.width),height:Math.max(s.height,r.height)})});return n.resizeCanvasElement(t),n}function is(i){var t;i.width=1,i.height=1,(t=i.getContext("2d"))===null||t===void 0||t.clearRect(0,0,1,1)}function vc(i,t,e,n){i.gl&&i.gl(t,e,n)}function Cl(i,t,e,n){i.X(t,e,n)}function gc(i,t,e,n){const s=i(e,n);for(const r of s){const o=r.gt();o!==null&&t(o)}}function AM(i){ir&&window.chrome!==void 0&&i.addEventListener("mousedown",t=>{if(t.button===1)return t.preventDefault(),!1})}class sd{constructor(t,e,n){this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.df=null,this.ff=!1,this.vf=null,this.pf=null,this.mf=!1,this.bf=!1,this.wf=!1,this.gf=null,this.Mf=null,this.xf=null,this.Sf=null,this.kf=null,this.yf=null,this.Cf=null,this.Tf=0,this.Pf=!1,this.Rf=!1,this.Df=!1,this.Vf=0,this.Of=null,this.Bf=!Zu(),this.Af=s=>{this.If(s)},this.zf=s=>{if(this.Lf(s)){const r=this.Ef(s);if(++this._f,this.uf&&this._f>1){const{Nf:o}=this.Ff(ri(s),this.cf);o<30&&!this.wf&&this.Wf(r,this.Hf.jf),this.$f()}}else{const r=this.Ef(s);if(++this.hf,this.lf&&this.hf>1){const{Nf:o}=this.Ff(ri(s),this.af);o<5&&!this.bf&&this.Uf(r,this.Hf.qf),this.Yf()}}},this.Zf=t,this.Hf=e,this.cn=n,this.Xf()}S(){this.gf!==null&&(this.gf(),this.gf=null),this.Mf!==null&&(this.Mf(),this.Mf=null),this.Sf!==null&&(this.Sf(),this.Sf=null),this.kf!==null&&(this.kf(),this.kf=null),this.yf!==null&&(this.yf(),this.yf=null),this.xf!==null&&(this.xf(),this.xf=null),this.Kf(),this.Yf()}Gf(t){this.Sf&&this.Sf();const e=this.Jf.bind(this);if(this.Sf=()=>{this.Zf.removeEventListener("mousemove",e)},this.Zf.addEventListener("mousemove",e),this.Lf(t))return;const n=this.Ef(t);this.Uf(n,this.Hf.Qf),this.Bf=!0}Yf(){this.lf!==null&&clearTimeout(this.lf),this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}$f(){this.uf!==null&&clearTimeout(this.uf),this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Jf(t){if(this.Df||this.pf!==null||this.Lf(t))return;const e=this.Ef(t);this.Uf(e,this.Hf.tv),this.Bf=!0}iv(t){const e=ih(t.changedTouches,M(this.Of));if(e===null||(this.Vf=nl(t),this.Cf!==null)||this.Rf)return;this.Pf=!0;const n=this.Ff(ri(e),M(this.pf)),{nv:s,sv:r,Nf:o}=n;if(this.mf||!(o<5)){if(!this.mf){const l=.5*s,a=r>=l&&!this.cn.ev(),u=l>r&&!this.cn.rv();a||u||(this.Rf=!0),this.mf=!0,this.wf=!0,this.Kf(),this.$f()}if(!this.Rf){const l=this.Ef(t,e);this.Wf(l,this.Hf.hv),as(t)}}}lv(t){if(t.button!==0)return;const e=this.Ff(ri(t),M(this.vf)),{Nf:n}=e;if(n>=5&&(this.bf=!0,this.Yf()),this.bf){const s=this.Ef(t);this.Uf(s,this.Hf.av)}}Ff(t,e){const n=Math.abs(e.nt-t.nt),s=Math.abs(e.st-t.st);return{nv:n,sv:s,Nf:n+s}}ov(t){let e=ih(t.changedTouches,M(this.Of));if(e===null&&t.touches.length===0&&(e=t.changedTouches[0]),e===null)return;this.Of=null,this.Vf=nl(t),this.Kf(),this.pf=null,this.yf&&(this.yf(),this.yf=null);const n=this.Ef(t,e);if(this.Wf(n,this.Hf._v),++this._f,this.uf&&this._f>1){const{Nf:s}=this.Ff(ri(e),this.cf);s<30&&!this.wf&&this.Wf(n,this.Hf.jf),this.$f()}else this.wf||(this.Wf(n,this.Hf.uv),this.Hf.uv&&as(t));this._f===0&&as(t),t.touches.length===0&&this.ff&&(this.ff=!1,as(t))}If(t){if(t.button!==0)return;const e=this.Ef(t);if(this.vf=null,this.Df=!1,this.kf&&(this.kf(),this.kf=null),_m()&&this.Zf.ownerDocument.documentElement.removeEventListener("mouseleave",this.Af),!this.Lf(t))if(this.Uf(e,this.Hf.cv),++this.hf,this.lf&&this.hf>1){const{Nf:n}=this.Ff(ri(t),this.af);n<5&&!this.bf&&this.Uf(e,this.Hf.qf),this.Yf()}else this.bf||this.Uf(e,this.Hf.dv)}Kf(){this.df!==null&&(clearTimeout(this.df),this.df=null)}fv(t){if(this.Of!==null)return;const e=t.changedTouches[0];this.Of=e.identifier,this.Vf=nl(t);const n=this.Zf.ownerDocument.documentElement;this.wf=!1,this.mf=!1,this.Rf=!1,this.pf=ri(e),this.yf&&(this.yf(),this.yf=null);{const r=this.iv.bind(this),o=this.ov.bind(this);this.yf=()=>{n.removeEventListener("touchmove",r),n.removeEventListener("touchend",o)},n.addEventListener("touchmove",r,{passive:!1}),n.addEventListener("touchend",o,{passive:!1}),this.Kf(),this.df=setTimeout(this.vv.bind(this,t),240)}const s=this.Ef(t,e);this.Wf(s,this.Hf.pv),this.uf||(this._f=0,this.uf=setTimeout(this.$f.bind(this),500),this.cf=ri(e))}mv(t){if(t.button!==0)return;const e=this.Zf.ownerDocument.documentElement;_m()&&e.addEventListener("mouseleave",this.Af),this.bf=!1,this.vf=ri(t),this.kf&&(this.kf(),this.kf=null);{const s=this.lv.bind(this),r=this.If.bind(this);this.kf=()=>{e.removeEventListener("mousemove",s),e.removeEventListener("mouseup",r)},e.addEventListener("mousemove",s),e.addEventListener("mouseup",r)}if(this.Df=!0,this.Lf(t))return;const n=this.Ef(t);this.Uf(n,this.Hf.bv),this.lf||(this.hf=0,this.lf=setTimeout(this.Yf.bind(this),500),this.af=ri(t))}Xf(){this.Zf.addEventListener("mouseenter",this.Gf.bind(this)),this.Zf.addEventListener("touchcancel",this.Kf.bind(this));{const t=this.Zf.ownerDocument,e=n=>{this.Hf.wv&&(n.composed&&this.Zf.contains(n.composedPath()[0])||n.target&&this.Zf.contains(n.target)||this.Hf.wv())};this.Mf=()=>{t.removeEventListener("touchstart",e)},this.gf=()=>{t.removeEventListener("mousedown",e)},t.addEventListener("mousedown",e),t.addEventListener("touchstart",e,{passive:!0})}Zu()&&(this.xf=()=>{this.Zf.removeEventListener("dblclick",this.zf)},this.Zf.addEventListener("dblclick",this.zf)),this.Zf.addEventListener("mouseleave",this.gv.bind(this)),this.Zf.addEventListener("touchstart",this.fv.bind(this),{passive:!0}),AM(this.Zf),this.Zf.addEventListener("mousedown",this.mv.bind(this)),this.Mv(),this.Zf.addEventListener("touchmove",()=>{},{passive:!1})}Mv(){this.Hf.xv===void 0&&this.Hf.Sv===void 0&&this.Hf.kv===void 0||(this.Zf.addEventListener("touchstart",t=>this.yv(t.touches),{passive:!0}),this.Zf.addEventListener("touchmove",t=>{if(t.touches.length===2&&this.Cf!==null&&this.Hf.Sv!==void 0){const e=Sm(t.touches[0],t.touches[1])/this.Tf;this.Hf.Sv(this.Cf,e),as(t)}},{passive:!1}),this.Zf.addEventListener("touchend",t=>{this.yv(t.touches)}))}yv(t){t.length===1&&(this.Pf=!1),t.length!==2||this.Pf||this.ff?this.Cv():this.Tv(t)}Tv(t){const e=this.Zf.getBoundingClientRect()||{left:0,top:0};this.Cf={nt:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,st:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.Tf=Sm(t[0],t[1]),this.Hf.xv!==void 0&&this.Hf.xv(),this.Kf()}Cv(){this.Cf!==null&&(this.Cf=null,this.Hf.kv!==void 0&&this.Hf.kv())}gv(t){if(this.Sf&&this.Sf(),this.Lf(t)||!this.Bf)return;const e=this.Ef(t);this.Uf(e,this.Hf.Pv),this.Bf=!Zu()}vv(t){const e=ih(t.touches,M(this.Of));if(e===null)return;const n=this.Ef(t,e);this.Wf(n,this.Hf.Rv),this.wf=!0,this.ff=!0}Lf(t){return t.sourceCapabilities&&t.sourceCapabilities.firesTouchEvents!==void 0?t.sourceCapabilities.firesTouchEvents:nl(t)<this.Vf+500}Wf(t,e){e&&e.call(this.Hf,t)}Uf(t,e){e&&e.call(this.Hf,t)}Ef(t,e){const n=e||t,s=this.Zf.getBoundingClientRect()||{left:0,top:0};return{clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY,screenX:n.screenX,screenY:n.screenY,localX:n.clientX-s.left,localY:n.clientY-s.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,Dv:!t.type.startsWith("mouse")&&t.type!=="contextmenu"&&t.type!=="click",Vv:t.type,Ov:n.target,Bv:t.view,Av:()=>{t.type!=="touchstart"&&as(t)}}}}function Sm(i,t){const e=i.clientX-t.clientX,n=i.clientY-t.clientY;return Math.sqrt(e*e+n*n)}function as(i){i.cancelable&&i.preventDefault()}function ri(i){return{nt:i.pageX,st:i.pageY}}function nl(i){return i.timeStamp||performance.now()}function ih(i,t){for(let e=0;e<i.length;++e)if(i[e].identifier===t)return i[e];return null}function sl(i){return{Hc:i.Hc,Iv:{gr:i.zv.externalId},Lv:i.zv.cursorStyle}}function PM(i,t,e){for(const n of i){const s=n.gt();if(s!==null&&s.wr){const r=s.wr(t,e);if(r!==null)return{Bv:n,Iv:r}}}return null}function nh(i,t){return e=>{var n,s,r,o;return((s=(n=e.Dt())===null||n===void 0?void 0:n.Pa())!==null&&s!==void 0?s:"")!==t?[]:(o=(r=e.da)===null||r===void 0?void 0:r.call(e,i))!==null&&o!==void 0?o:[]}}function xm(i,t,e,n){if(!i.length)return;let s=0;const r=e/2,o=i[0].At(n,!0);let l=t===1?r-(i[0].Vi()-o/2):i[0].Vi()-o/2-r;l=Math.max(0,l);for(let a=1;a<i.length;a++){const u=i[a],h=i[a-1],c=h.At(n,!1),f=u.Vi(),d=h.Vi();if(t===1?f>d-c:f<d+c){const y=d-c*t;u.Oi(y);const v=y-t*c/2;if((t===1?v<0:v>e)&&l>0){const x=t===1?-1-v:v-e,p=Math.min(x,l);for(let m=s;m<i.length;m++)i[m].Oi(i[m].Vi()+t*p);l-=p}}else s=a,l=t===1?d-c-f:f-(d+c)}}class Mm{constructor(t,e,n,s){this.Li=null,this.Ev=null,this.Nv=!1,this.Fv=new po(200),this.Qr=null,this.Wv=0,this.jv=!1,this.Hv=()=>{this.jv||this.tn.$v().$t().Uh()},this.Uv=()=>{this.jv||this.tn.$v().$t().Uh()},this.tn=t,this.cn=e,this.ko=e.layout,this.Oc=n,this.qv=s==="left",this.Yv=nh("normal",s),this.Zv=nh("top",s),this.Xv=nh("bottom",s),this.Kv=document.createElement("div"),this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Kv.style.width="25px",this.Kv.style.left="0",this.Kv.style.position="relative",this.Gv=es(this.Kv,wt({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const r=this.Gv.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Jv=es(this.Kv,wt({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const o=this.Jv.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0";const l={bv:this.Qv.bind(this),pv:this.Qv.bind(this),av:this.tp.bind(this),hv:this.tp.bind(this),wv:this.ip.bind(this),cv:this.np.bind(this),_v:this.np.bind(this),qf:this.sp.bind(this),jf:this.sp.bind(this),Qf:this.ep.bind(this),Pv:this.rp.bind(this)};this.hp=new sd(this.Jv.canvasElement,l,{ev:()=>!this.cn.handleScroll.vertTouchDrag,rv:()=>!0})}S(){this.hp.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),is(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),is(this.Gv.canvasElement),this.Gv.dispose(),this.Li!==null&&this.Li.Ko().p(this),this.Li=null}lp(){return this.Kv}P(){return this.ko.fontSize}ap(){const t=this.Oc.W();return this.Qr!==t.R&&(this.Fv.nr(),this.Qr=t.R),t}op(){if(this.Li===null)return 0;let t=0;const e=this.ap(),n=M(this.Gv.canvasElement.getContext("2d"));n.save();const s=this.Li.Ha();n.font=this._p(),s.length>0&&(t=Math.max(this.Fv.xi(n,s[0].so),this.Fv.xi(n,s[s.length-1].so)));const r=this.up();for(let u=r.length;u--;){const h=this.Fv.xi(n,r[u].Kt());h>t&&(t=h)}const o=this.Li.Ct();if(o!==null&&this.Ev!==null&&(l=this.cn.crosshair).mode!==2&&l.horzLine.visible&&l.horzLine.labelVisible){const u=this.Li.pn(1,o),h=this.Li.pn(this.Ev.height-2,o);t=Math.max(t,this.Fv.xi(n,this.Li.Fi(Math.floor(Math.min(u,h))+.11111111111111,o)),this.Fv.xi(n,this.Li.Fi(Math.ceil(Math.max(u,h))-.11111111111111,o)))}var l;n.restore();const a=t||34;return yc(Math.ceil(e.C+e.T+e.A+e.I+5+a))}cp(t){this.Ev!==null&&Kn(this.Ev,t)||(this.Ev=t,this.jv=!0,this.Gv.resizeCanvasElement(t),this.Jv.resizeCanvasElement(t),this.jv=!1,this.Kv.style.width=`${t.width}px`,this.Kv.style.height=`${t.height}px`)}dp(){return M(this.Ev).width}Gi(t){this.Li!==t&&(this.Li!==null&&this.Li.Ko().p(this),this.Li=t,t.Ko().l(this.fo.bind(this),this))}Dt(){return this.Li}nr(){const t=this.tn.fp();this.tn.$v().$t().E_(t,M(this.Dt()))}vp(t){if(this.Ev===null)return;if(t!==1){this.pp(),this.Gv.applySuggestedBitmapSize();const n=Zn(this.Gv);n!==null&&(n.useBitmapCoordinateSpace(s=>{this.mp(s),this.Ie(s)}),this.tn.bp(n,this.Xv),this.wp(n),this.tn.bp(n,this.Yv),this.gp(n))}this.Jv.applySuggestedBitmapSize();const e=Zn(this.Jv);e!==null&&(e.useBitmapCoordinateSpace(({context:n,bitmapSize:s})=>{n.clearRect(0,0,s.width,s.height)}),this.Mp(e),this.tn.bp(e,this.Zv))}xp(){return this.Gv.bitmapSize}Sp(t,e,n){const s=this.xp();s.width>0&&s.height>0&&t.drawImage(this.Gv.canvasElement,e,n)}bt(){var t;(t=this.Li)===null||t===void 0||t.Ha()}Qv(t){if(this.Li===null||this.Li.Ni()||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.tn.$v().$t(),n=this.tn.fp();this.Nv=!0,e.V_(n,this.Li,t.localY)}tp(t){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.tn.$v().$t(),n=this.tn.fp(),s=this.Li;e.O_(n,s,t.localY)}ip(){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const t=this.tn.$v().$t(),e=this.tn.fp(),n=this.Li;this.Nv&&(this.Nv=!1,t.B_(e,n))}np(t){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.tn.$v().$t(),n=this.tn.fp();this.Nv=!1,e.B_(n,this.Li)}sp(t){this.cn.handleScale.axisDoubleClickReset.price&&this.nr()}ep(t){this.Li!==null&&(!this.tn.$v().$t().W().handleScale.axisPressedMouseMove.price||this.Li.Mh()||this.Li.Oo()||this.kp(1))}rp(t){this.kp(0)}up(){const t=[],e=this.Li===null?void 0:this.Li;return(n=>{for(let s=0;s<n.length;++s){const r=n[s].Rn(this.tn.fp(),e);for(let o=0;o<r.length;o++)t.push(r[o])}})(this.tn.fp().Uo()),t}mp({context:t,bitmapSize:e}){const{width:n,height:s}=e,r=this.tn.fp().$t(),o=r.q(),l=r.bd();o===l?ru(t,0,0,n,s,o):Xg(t,0,0,n,s,o,l)}Ie({context:t,bitmapSize:e,horizontalPixelRatio:n}){if(this.Ev===null||this.Li===null||!this.Li.W().borderVisible)return;t.fillStyle=this.Li.W().borderColor;const s=Math.max(1,Math.floor(this.ap().C*n));let r;r=this.qv?e.width-s:0,t.fillRect(r,0,s,e.height)}wp(t){if(this.Ev===null||this.Li===null)return;const e=this.Li.Ha(),n=this.Li.W(),s=this.ap(),r=this.qv?this.Ev.width-s.T:0;n.borderVisible&&n.ticksVisible&&t.useBitmapCoordinateSpace(({context:o,horizontalPixelRatio:l,verticalPixelRatio:a})=>{o.fillStyle=n.borderColor;const u=Math.max(1,Math.floor(a)),h=Math.floor(.5*a),c=Math.round(s.T*l);o.beginPath();for(const f of e)o.rect(Math.floor(r*l),Math.round(f.Ea*a)-h,c,u);o.fill()}),t.useMediaCoordinateSpace(({context:o})=>{var l;o.font=this._p(),o.fillStyle=(l=n.textColor)!==null&&l!==void 0?l:this.ko.textColor,o.textAlign=this.qv?"right":"left",o.textBaseline="middle";const a=this.qv?Math.round(r-s.A):Math.round(r+s.T+s.A),u=e.map(h=>this.Fv.Mi(o,h.so));for(let h=e.length;h--;){const c=e[h];o.fillText(c.so,a,c.Ea+u[h])}})}pp(){if(this.Ev===null||this.Li===null)return;const t=[],e=this.Li.Uo().slice(),n=this.tn.fp(),s=this.ap();this.Li===n.pr()&&this.tn.fp().Uo().forEach(o=>{n.vr(o)&&e.push(o)});const r=this.Li;e.forEach(o=>{o.Rn(n,r).forEach(l=>{l.Oi(null),l.Bi()&&t.push(l)})}),t.forEach(o=>o.Oi(o.ki())),this.Li.W().alignLabels&&this.yp(t,s)}yp(t,e){if(this.Ev===null)return;const n=this.Ev.height/2,s=t.filter(o=>o.ki()<=n),r=t.filter(o=>o.ki()>n);s.sort((o,l)=>l.ki()-o.ki()),r.sort((o,l)=>o.ki()-l.ki());for(const o of t){const l=Math.floor(o.At(e)/2),a=o.ki();a>-l&&a<l&&o.Oi(l),a>this.Ev.height-l&&a<this.Ev.height+l&&o.Oi(this.Ev.height-l)}xm(s,1,this.Ev.height,e),xm(r,-1,this.Ev.height,e)}gp(t){if(this.Ev===null)return;const e=this.up(),n=this.ap(),s=this.qv?"right":"left";e.forEach(r=>{r.Ai()&&r.gt(M(this.Li)).X(t,n,this.Fv,s)})}Mp(t){if(this.Ev===null||this.Li===null)return;const e=this.tn.$v().$t(),n=[],s=this.tn.fp(),r=e.Zc().Rn(s,this.Li);r.length&&n.push(r);const o=this.ap(),l=this.qv?"right":"left";n.forEach(a=>{a.forEach(u=>{u.gt(M(this.Li)).X(t,o,this.Fv,l)})})}kp(t){this.Kv.style.cursor=t===1?"ns-resize":"default"}fo(){const t=this.op();this.Wv<t&&this.tn.$v().$t().Kl(),this.Wv=t}_p(){return er(this.ko.fontSize,this.ko.fontFamily)}}function $M(i,t){var e,n;return(n=(e=i.ua)===null||e===void 0?void 0:e.call(i,t))!==null&&n!==void 0?n:[]}function rl(i,t){var e,n;return(n=(e=i.Pn)===null||e===void 0?void 0:e.call(i,t))!==null&&n!==void 0?n:[]}function VM(i,t){var e,n;return(n=(e=i.Ji)===null||e===void 0?void 0:e.call(i,t))!==null&&n!==void 0?n:[]}function UM(i,t){var e,n;return(n=(e=i.aa)===null||e===void 0?void 0:e.call(i,t))!==null&&n!==void 0?n:[]}class rd{constructor(t,e){this.Ev=wt({width:0,height:0}),this.Cp=null,this.Tp=null,this.Pp=null,this.Rp=null,this.Dp=!1,this.Vp=new Tt,this.Op=new Tt,this.Bp=0,this.Ap=!1,this.Ip=null,this.zp=!1,this.Lp=null,this.Ep=null,this.jv=!1,this.Hv=()=>{this.jv||this.Np===null||this.$i().Uh()},this.Uv=()=>{this.jv||this.Np===null||this.$i().Uh()},this.Qd=t,this.Np=e,this.Np.W_().l(this.Fp.bind(this),this,!0),this.Wp=document.createElement("td"),this.Wp.style.padding="0",this.Wp.style.position="relative";const n=document.createElement("div");n.style.width="100%",n.style.height="100%",n.style.position="relative",n.style.overflow="hidden",this.jp=document.createElement("td"),this.jp.style.padding="0",this.Hp=document.createElement("td"),this.Hp.style.padding="0",this.Wp.appendChild(n),this.Gv=es(n,wt({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const s=this.Gv.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.Jv=es(n,wt({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const r=this.Jv.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.$p=document.createElement("tr"),this.$p.appendChild(this.jp),this.$p.appendChild(this.Wp),this.$p.appendChild(this.Hp),this.Up(),this.hp=new sd(this.Jv.canvasElement,this,{ev:()=>this.Ip===null&&!this.Qd.W().handleScroll.vertTouchDrag,rv:()=>this.Ip===null&&!this.Qd.W().handleScroll.horzTouchDrag})}S(){this.Cp!==null&&this.Cp.S(),this.Tp!==null&&this.Tp.S(),this.Pp=null,this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),is(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),is(this.Gv.canvasElement),this.Gv.dispose(),this.Np!==null&&this.Np.W_().p(this),this.hp.S()}fp(){return M(this.Np)}qp(t){var e,n;this.Np!==null&&this.Np.W_().p(this),this.Np=t,this.Np!==null&&this.Np.W_().l(rd.prototype.Fp.bind(this),this,!0),this.Up(),this.Qd.Yp().indexOf(this)===this.Qd.Yp().length-1?(this.Pp=(e=this.Pp)!==null&&e!==void 0?e:new RM(this.Wp,this.Qd),this.Pp.bt()):((n=this.Pp)===null||n===void 0||n.if(),this.Pp=null)}$v(){return this.Qd}lp(){return this.$p}Up(){if(this.Np!==null&&(this.Zp(),this.$i().wt().length!==0)){if(this.Cp!==null){const t=this.Np.R_();this.Cp.Gi(M(t))}if(this.Tp!==null){const t=this.Np.D_();this.Tp.Gi(M(t))}}}Xp(){this.Cp!==null&&this.Cp.bt(),this.Tp!==null&&this.Tp.bt()}M_(){return this.Np!==null?this.Np.M_():0}x_(t){this.Np&&this.Np.x_(t)}Qf(t){if(!this.Np)return;this.Kp();const e=t.localX,n=t.localY;this.Gp(e,n,t)}bv(t){this.Kp(),this.Jp(),this.Gp(t.localX,t.localY,t)}tv(t){var e;if(!this.Np)return;this.Kp();const n=t.localX,s=t.localY;this.Gp(n,s,t);const r=this.wr(n,s);this.Qd.Qp((e=r==null?void 0:r.Lv)!==null&&e!==void 0?e:null),this.$i().jc(r&&{Hc:r.Hc,Iv:r.Iv})}dv(t){this.Np!==null&&(this.Kp(),this.tm(t))}qf(t){this.Np!==null&&this.im(this.Op,t)}jf(t){this.qf(t)}av(t){this.Kp(),this.nm(t),this.Gp(t.localX,t.localY,t)}cv(t){this.Np!==null&&(this.Kp(),this.Ap=!1,this.sm(t))}uv(t){this.Np!==null&&this.tm(t)}Rv(t){if(this.Ap=!0,this.Ip===null){const e={x:t.localX,y:t.localY};this.rm(e,e,t)}}Pv(t){this.Np!==null&&(this.Kp(),this.Np.$t().jc(null),this.hm())}lm(){return this.Vp}am(){return this.Op}xv(){this.Bp=1,this.$i().Un()}Sv(t,e){if(!this.Qd.W().handleScale.pinch)return;const n=5*(e-this.Bp);this.Bp=e,this.$i().Qc(t.nt,n)}pv(t){this.Ap=!1,this.zp=this.Ip!==null,this.Jp();const e=this.$i().Zc();this.Ip!==null&&e.yt()&&(this.Lp={x:e.Yt(),y:e.Zt()},this.Ip={x:t.localX,y:t.localY})}hv(t){if(this.Np===null)return;const e=t.localX,n=t.localY;if(this.Ip===null)this.nm(t);else{this.zp=!1;const s=M(this.Lp),r=s.x+(e-this.Ip.x),o=s.y+(n-this.Ip.y);this.Gp(r,o,t)}}_v(t){this.$v().W().trackingMode.exitMode===0&&(this.zp=!0),this.om(),this.sm(t)}wr(t,e){const n=this.Np;return n===null?null:function(s,r,o){const l=s.Uo(),a=function(u,h,c){var f,d;let y,v;for(const m of u){const g=(d=(f=m.va)===null||f===void 0?void 0:f.call(m,h,c))!==null&&d!==void 0?d:[];for(const b of g)x=b.zOrder,(!(p=y==null?void 0:y.zOrder)||x==="top"&&p!=="top"||x==="normal"&&p==="bottom")&&(y=b,v=m)}var x,p;return y&&v?{zv:y,Hc:v}:null}(l,r,o);if((a==null?void 0:a.zv.zOrder)==="top")return sl(a);for(const u of l){if(a&&a.Hc===u&&a.zv.zOrder!=="bottom"&&!a.zv.isBackground)return sl(a);const h=PM(u.Pn(s),r,o);if(h!==null)return{Hc:u,Bv:h.Bv,Iv:h.Iv};if(a&&a.Hc===u&&a.zv.zOrder!=="bottom"&&a.zv.isBackground)return sl(a)}return a!=null&&a.zv?sl(a):null}(n,t,e)}_m(t,e){M(e==="left"?this.Cp:this.Tp).cp(wt({width:t,height:this.Ev.height}))}um(){return this.Ev}cp(t){Kn(this.Ev,t)||(this.Ev=t,this.jv=!0,this.Gv.resizeCanvasElement(t),this.Jv.resizeCanvasElement(t),this.jv=!1,this.Wp.style.width=t.width+"px",this.Wp.style.height=t.height+"px")}dm(){const t=M(this.Np);t.P_(t.R_()),t.P_(t.D_());for(const e of t.Ba())if(t.vr(e)){const n=e.Dt();n!==null&&t.P_(n),e.Vn()}}xp(){return this.Gv.bitmapSize}Sp(t,e,n){const s=this.xp();s.width>0&&s.height>0&&t.drawImage(this.Gv.canvasElement,e,n)}vp(t){if(t===0||this.Np===null)return;if(t>1&&this.dm(),this.Cp!==null&&this.Cp.vp(t),this.Tp!==null&&this.Tp.vp(t),t!==1){this.Gv.applySuggestedBitmapSize();const n=Zn(this.Gv);n!==null&&(n.useBitmapCoordinateSpace(s=>{this.mp(s)}),this.Np&&(this.fm(n,$M),this.vm(n),this.pm(n),this.fm(n,rl),this.fm(n,VM)))}this.Jv.applySuggestedBitmapSize();const e=Zn(this.Jv);e!==null&&(e.useBitmapCoordinateSpace(({context:n,bitmapSize:s})=>{n.clearRect(0,0,s.width,s.height)}),this.bm(e),this.fm(e,UM))}wm(){return this.Cp}gm(){return this.Tp}bp(t,e){this.fm(t,e)}Fp(){this.Np!==null&&this.Np.W_().p(this),this.Np=null}tm(t){this.im(this.Vp,t)}im(t,e){const n=e.localX,s=e.localY;t.M()&&t.m(this.$i().St().Nu(n),{x:n,y:s},e)}mp({context:t,bitmapSize:e}){const{width:n,height:s}=e,r=this.$i(),o=r.q(),l=r.bd();o===l?ru(t,0,0,n,s,l):Xg(t,0,0,n,s,o,l)}vm(t){const e=M(this.Np).j_().qh().gt();e!==null&&e.X(t,!1)}pm(t){const e=this.$i().Yc();this.Mm(t,rl,vc,e),this.Mm(t,rl,Cl,e)}bm(t){this.Mm(t,rl,Cl,this.$i().Zc())}fm(t,e){const n=M(this.Np).Uo();for(const s of n)this.Mm(t,e,vc,s);for(const s of n)this.Mm(t,e,Cl,s)}Mm(t,e,n,s){const r=M(this.Np),o=r.$t().Wc(),l=o!==null&&o.Hc===s,a=o!==null&&l&&o.Iv!==void 0?o.Iv.Mr:void 0;gc(e,u=>n(u,t,l,a),s,r)}Zp(){if(this.Np===null)return;const t=this.Qd,e=this.Np.R_().W().visible,n=this.Np.D_().W().visible;e||this.Cp===null||(this.jp.removeChild(this.Cp.lp()),this.Cp.S(),this.Cp=null),n||this.Tp===null||(this.Hp.removeChild(this.Tp.lp()),this.Tp.S(),this.Tp=null);const s=t.$t().ud();e&&this.Cp===null&&(this.Cp=new Mm(this,t.W(),s,"left"),this.jp.appendChild(this.Cp.lp())),n&&this.Tp===null&&(this.Tp=new Mm(this,t.W(),s,"right"),this.Hp.appendChild(this.Tp.lp()))}xm(t){return t.Dv&&this.Ap||this.Ip!==null}Sm(t){return Math.max(0,Math.min(t,this.Ev.width-1))}km(t){return Math.max(0,Math.min(t,this.Ev.height-1))}Gp(t,e,n){this.$i().ld(this.Sm(t),this.km(e),n,M(this.Np))}hm(){this.$i().od()}om(){this.zp&&(this.Ip=null,this.hm())}rm(t,e,n){this.Ip=t,this.zp=!1,this.Gp(e.x,e.y,n);const s=this.$i().Zc();this.Lp={x:s.Yt(),y:s.Zt()}}$i(){return this.Qd.$t()}sm(t){if(!this.Dp)return;const e=this.$i(),n=this.fp();if(e.z_(n,n.vn()),this.Rp=null,this.Dp=!1,e.ed(),this.Ep!==null){const s=performance.now(),r=e.St();this.Ep.Vr(r.Hu(),s),this.Ep.Qu(s)||e.Zn(this.Ep)}}Kp(){this.Ip=null}Jp(){if(this.Np){if(this.$i().Un(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)M(document.activeElement).blur();else{const t=document.getSelection();t!==null&&t.removeAllRanges()}!this.Np.vn().Ni()&&this.$i().St().Ni()}}nm(t){if(this.Np===null)return;const e=this.$i(),n=e.St();if(n.Ni())return;const s=this.Qd.W(),r=s.handleScroll,o=s.kineticScroll;if((!r.pressedMouseMove||t.Dv)&&(!r.horzTouchDrag&&!r.vertTouchDrag||!t.Dv))return;const l=this.Np.vn(),a=performance.now();if(this.Rp!==null||this.xm(t)||(this.Rp={x:t.clientX,y:t.clientY,Od:a,ym:t.localX,Cm:t.localY}),this.Rp!==null&&!this.Dp&&(this.Rp.x!==t.clientX||this.Rp.y!==t.clientY)){if(t.Dv&&o.touch||!t.Dv&&o.mouse){const u=n.le();this.Ep=new FM(.2/u,7/u,.997,15/u),this.Ep.Yd(n.Hu(),this.Rp.Od)}else this.Ep=null;l.Ni()||e.A_(this.Np,l,t.localY),e.nd(t.localX),this.Dp=!0}this.Dp&&(l.Ni()||e.I_(this.Np,l,t.localY),e.sd(t.localX),this.Ep!==null&&this.Ep.Yd(n.Hu(),a))}}class Im{constructor(t,e,n,s,r){this.ft=!0,this.Ev=wt({width:0,height:0}),this.Hv=()=>this.vp(3),this.qv=t==="left",this.Oc=n.ud,this.cn=e,this.Tm=s,this.Pm=r,this.Kv=document.createElement("div"),this.Kv.style.width="25px",this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Gv=es(this.Kv,wt({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv)}S(){this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),is(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Kv}um(){return this.Ev}cp(t){Kn(this.Ev,t)||(this.Ev=t,this.Gv.resizeCanvasElement(t),this.Kv.style.width=`${t.width}px`,this.Kv.style.height=`${t.height}px`,this.ft=!0)}vp(t){if(t<3&&!this.ft||this.Ev.width===0||this.Ev.height===0)return;this.ft=!1,this.Gv.applySuggestedBitmapSize();const e=Zn(this.Gv);e!==null&&e.useBitmapCoordinateSpace(n=>{this.mp(n),this.Ie(n)})}xp(){return this.Gv.bitmapSize}Sp(t,e,n){const s=this.xp();s.width>0&&s.height>0&&t.drawImage(this.Gv.canvasElement,e,n)}Ie({context:t,bitmapSize:e,horizontalPixelRatio:n,verticalPixelRatio:s}){if(!this.Tm())return;t.fillStyle=this.cn.timeScale.borderColor;const r=Math.floor(this.Oc.W().C*n),o=Math.floor(this.Oc.W().C*s),l=this.qv?e.width-r:0;t.fillRect(l,0,r,o)}mp({context:t,bitmapSize:e}){ru(t,0,0,e.width,e.height,this.Pm())}}function od(i){return t=>{var e,n;return(n=(e=t.fa)===null||e===void 0?void 0:e.call(t,i))!==null&&n!==void 0?n:[]}}const jM=od("normal"),WM=od("top"),HM=od("bottom");class KM{constructor(t,e){this.Rm=null,this.Dm=null,this.k=null,this.Vm=!1,this.Ev=wt({width:0,height:0}),this.Om=new Tt,this.Fv=new po(5),this.jv=!1,this.Hv=()=>{this.jv||this.Qd.$t().Uh()},this.Uv=()=>{this.jv||this.Qd.$t().Uh()},this.Qd=t,this.q_=e,this.cn=t.W().layout,this.Xd=document.createElement("tr"),this.Bm=document.createElement("td"),this.Bm.style.padding="0",this.Am=document.createElement("td"),this.Am.style.padding="0",this.Kv=document.createElement("td"),this.Kv.style.height="25px",this.Kv.style.padding="0",this.Im=document.createElement("div"),this.Im.style.width="100%",this.Im.style.height="100%",this.Im.style.position="relative",this.Im.style.overflow="hidden",this.Kv.appendChild(this.Im),this.Gv=es(this.Im,wt({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const n=this.Gv.canvasElement;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.Jv=es(this.Im,wt({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const s=this.Jv.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this.Xd.appendChild(this.Bm),this.Xd.appendChild(this.Kv),this.Xd.appendChild(this.Am),this.zm(),this.Qd.$t().g_().l(this.zm.bind(this),this),this.hp=new sd(this.Jv.canvasElement,this,{ev:()=>!0,rv:()=>!this.Qd.W().handleScroll.horzTouchDrag})}S(){this.hp.S(),this.Rm!==null&&this.Rm.S(),this.Dm!==null&&this.Dm.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),is(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),is(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Xd}Lm(){return this.Rm}Em(){return this.Dm}bv(t){if(this.Vm)return;this.Vm=!0;const e=this.Qd.$t();!e.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&e.Jc(t.localX)}pv(t){this.bv(t)}wv(){const t=this.Qd.$t();!t.St().Ni()&&this.Vm&&(this.Vm=!1,this.Qd.W().handleScale.axisPressedMouseMove.time&&t.hd())}av(t){const e=this.Qd.$t();!e.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&e.rd(t.localX)}hv(t){this.av(t)}cv(){this.Vm=!1;const t=this.Qd.$t();t.St().Ni()&&!this.Qd.W().handleScale.axisPressedMouseMove.time||t.hd()}_v(){this.cv()}qf(){this.Qd.W().handleScale.axisDoubleClickReset.time&&this.Qd.$t().Kn()}jf(){this.qf()}Qf(){this.Qd.$t().W().handleScale.axisPressedMouseMove.time&&this.kp(1)}Pv(){this.kp(0)}um(){return this.Ev}Nm(){return this.Om}Fm(t,e,n){Kn(this.Ev,t)||(this.Ev=t,this.jv=!0,this.Gv.resizeCanvasElement(t),this.Jv.resizeCanvasElement(t),this.jv=!1,this.Kv.style.width=`${t.width}px`,this.Kv.style.height=`${t.height}px`,this.Om.m(t)),this.Rm!==null&&this.Rm.cp(wt({width:e,height:t.height})),this.Dm!==null&&this.Dm.cp(wt({width:n,height:t.height}))}Wm(){const t=this.jm();return Math.ceil(t.C+t.T+t.P+t.L+t.B+t.Hm)}bt(){this.Qd.$t().St().Ha()}xp(){return this.Gv.bitmapSize}Sp(t,e,n){const s=this.xp();s.width>0&&s.height>0&&t.drawImage(this.Gv.canvasElement,e,n)}vp(t){if(t===0)return;if(t!==1){this.Gv.applySuggestedBitmapSize();const n=Zn(this.Gv);n!==null&&(n.useBitmapCoordinateSpace(s=>{this.mp(s),this.Ie(s),this.$m(n,HM)}),this.wp(n),this.$m(n,jM)),this.Rm!==null&&this.Rm.vp(t),this.Dm!==null&&this.Dm.vp(t)}this.Jv.applySuggestedBitmapSize();const e=Zn(this.Jv);e!==null&&(e.useBitmapCoordinateSpace(({context:n,bitmapSize:s})=>{n.clearRect(0,0,s.width,s.height)}),this.Um([...this.Qd.$t().wt(),this.Qd.$t().Zc()],e),this.$m(e,WM))}$m(t,e){const n=this.Qd.$t().wt();for(const s of n)gc(e,r=>vc(r,t,!1,void 0),s,void 0);for(const s of n)gc(e,r=>Cl(r,t,!1,void 0),s,void 0)}mp({context:t,bitmapSize:e}){ru(t,0,0,e.width,e.height,this.Qd.$t().bd())}Ie({context:t,bitmapSize:e,verticalPixelRatio:n}){if(this.Qd.W().timeScale.borderVisible){t.fillStyle=this.qm();const s=Math.max(1,Math.floor(this.jm().C*n));t.fillRect(0,0,e.width,s)}}wp(t){const e=this.Qd.$t().St(),n=e.Ha();if(!n||n.length===0)return;const s=this.q_.maxTickMarkWeight(n),r=this.jm(),o=e.W();o.borderVisible&&o.ticksVisible&&t.useBitmapCoordinateSpace(({context:l,horizontalPixelRatio:a,verticalPixelRatio:u})=>{l.strokeStyle=this.qm(),l.fillStyle=this.qm();const h=Math.max(1,Math.floor(a)),c=Math.floor(.5*a);l.beginPath();const f=Math.round(r.T*u);for(let d=n.length;d--;){const y=Math.round(n[d].coord*a);l.rect(y-c,0,h,f)}l.fill()}),t.useMediaCoordinateSpace(({context:l})=>{const a=r.C+r.T+r.L+r.P/2;l.textAlign="center",l.textBaseline="middle",l.fillStyle=this.$(),l.font=this._p();for(const u of n)if(u.weight<s){const h=u.needAlignCoordinate?this.Ym(l,u.coord,u.label):u.coord;l.fillText(u.label,h,a)}this.Qd.W().timeScale.allowBoldLabels&&(l.font=this.Zm());for(const u of n)if(u.weight>=s){const h=u.needAlignCoordinate?this.Ym(l,u.coord,u.label):u.coord;l.fillText(u.label,h,a)}})}Ym(t,e,n){const s=this.Fv.xi(t,n),r=s/2,o=Math.floor(e-r)+.5;return o<0?e+=Math.abs(0-o):o+s>this.Ev.width&&(e-=Math.abs(this.Ev.width-(o+s))),e}Um(t,e){const n=this.jm();for(const s of t)for(const r of s.Qi())r.gt().X(e,n)}qm(){return this.Qd.W().timeScale.borderColor}$(){return this.cn.textColor}j(){return this.cn.fontSize}_p(){return er(this.j(),this.cn.fontFamily)}Zm(){return er(this.j(),this.cn.fontFamily,"bold")}jm(){this.k===null&&(this.k={C:1,N:NaN,L:NaN,B:NaN,ji:NaN,T:5,P:NaN,R:"",Wi:new po,Hm:0});const t=this.k,e=this._p();if(t.R!==e){const n=this.j();t.P=n,t.R=e,t.L=3*n/12,t.B=3*n/12,t.ji=9*n/12,t.N=0,t.Hm=4*n/12,t.Wi.nr()}return this.k}kp(t){this.Kv.style.cursor=t===1?"ew-resize":"default"}zm(){const t=this.Qd.$t(),e=t.W();e.leftPriceScale.visible||this.Rm===null||(this.Bm.removeChild(this.Rm.lp()),this.Rm.S(),this.Rm=null),e.rightPriceScale.visible||this.Dm===null||(this.Am.removeChild(this.Dm.lp()),this.Dm.S(),this.Dm=null);const n={ud:this.Qd.$t().ud()},s=()=>e.leftPriceScale.borderVisible&&t.St().W().borderVisible,r=()=>t.bd();e.leftPriceScale.visible&&this.Rm===null&&(this.Rm=new Im("left",e,n,s,r),this.Bm.appendChild(this.Rm.lp())),e.rightPriceScale.visible&&this.Dm===null&&(this.Dm=new Im("right",e,n,s,r),this.Am.appendChild(this.Dm.lp()))}}const YM=!!ir&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(i=>i.brand.includes("Chromium"))&&!!ir&&(!((sh=navigator==null?void 0:navigator.userAgentData)===null||sh===void 0)&&sh.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);var sh;class XM{constructor(t,e,n){var s;this.Xm=[],this.Km=0,this.ho=0,this.__=0,this.Gm=0,this.Jm=0,this.Qm=null,this.tb=!1,this.Vp=new Tt,this.Op=new Tt,this.Rc=new Tt,this.ib=null,this.nb=null,this.Jd=t,this.cn=e,this.q_=n,this.Xd=document.createElement("div"),this.Xd.classList.add("tv-lightweight-charts"),this.Xd.style.overflow="hidden",this.Xd.style.direction="ltr",this.Xd.style.width="100%",this.Xd.style.height="100%",(s=this.Xd).style.userSelect="none",s.style.webkitUserSelect="none",s.style.msUserSelect="none",s.style.MozUserSelect="none",s.style.webkitTapHighlightColor="transparent",this.sb=document.createElement("table"),this.sb.setAttribute("cellspacing","0"),this.Xd.appendChild(this.sb),this.eb=this.rb.bind(this),rh(this.cn)&&this.hb(!0),this.$i=new OM(this.Vc.bind(this),this.cn,n),this.$t().Xc().l(this.lb.bind(this),this),this.ab=new KM(this,this.q_),this.sb.appendChild(this.ab.lp());const r=e.autoSize&&this.ob();let o=this.cn.width,l=this.cn.height;if(r||o===0||l===0){const a=t.getBoundingClientRect();o=o||a.width,l=l||a.height}this._b(o,l),this.ub(),t.appendChild(this.Xd),this.cb(),this.$i.St().ec().l(this.$i.Kl.bind(this.$i),this),this.$i.g_().l(this.$i.Kl.bind(this.$i),this)}$t(){return this.$i}W(){return this.cn}Yp(){return this.Xm}fb(){return this.ab}S(){this.hb(!1),this.Km!==0&&window.cancelAnimationFrame(this.Km),this.$i.Xc().p(this),this.$i.St().ec().p(this),this.$i.g_().p(this),this.$i.S();for(const t of this.Xm)this.sb.removeChild(t.lp()),t.lm().p(this),t.am().p(this),t.S();this.Xm=[],M(this.ab).S(),this.Xd.parentElement!==null&&this.Xd.parentElement.removeChild(this.Xd),this.Rc.S(),this.Vp.S(),this.Op.S(),this.pb()}_b(t,e,n=!1){if(this.ho===e&&this.__===t)return;const s=function(l){const a=Math.floor(l.width),u=Math.floor(l.height);return wt({width:a-a%2,height:u-u%2})}(wt({width:t,height:e}));this.ho=s.height,this.__=s.width;const r=this.ho+"px",o=this.__+"px";M(this.Xd).style.height=r,M(this.Xd).style.width=o,this.sb.style.height=r,this.sb.style.width=o,n?this.mb(jt.es(),performance.now()):this.$i.Kl()}vp(t){t===void 0&&(t=jt.es());for(let e=0;e<this.Xm.length;e++)this.Xm[e].vp(t.Hn(e).Fn);this.cn.timeScale.visible&&this.ab.vp(t.jn())}$h(t){const e=rh(this.cn);this.$i.$h(t);const n=rh(this.cn);n!==e&&this.hb(n),this.cb(),this.bb(t)}lm(){return this.Vp}am(){return this.Op}Xc(){return this.Rc}wb(){this.Qm!==null&&(this.mb(this.Qm,performance.now()),this.Qm=null);const t=this.gb(null),e=document.createElement("canvas");e.width=t.width,e.height=t.height;const n=M(e.getContext("2d"));return this.gb(n),e}Mb(t){return t==="left"&&!this.xb()||t==="right"&&!this.Sb()||this.Xm.length===0?0:M(t==="left"?this.Xm[0].wm():this.Xm[0].gm()).dp()}kb(){return this.cn.autoSize&&this.ib!==null}yb(){return this.Xd}Qp(t){this.nb=t,this.nb?this.yb().style.setProperty("cursor",t):this.yb().style.removeProperty("cursor")}Cb(){return this.nb}Tb(){return ie(this.Xm[0]).um()}bb(t){(t.autoSize!==void 0||!this.ib||t.width===void 0&&t.height===void 0)&&(t.autoSize&&!this.ib&&this.ob(),t.autoSize===!1&&this.ib!==null&&this.pb(),t.autoSize||t.width===void 0&&t.height===void 0||this._b(t.width||this.__,t.height||this.ho))}gb(t){let e=0,n=0;const s=this.Xm[0],r=(l,a)=>{let u=0;for(let h=0;h<this.Xm.length;h++){const c=this.Xm[h],f=M(l==="left"?c.wm():c.gm()),d=f.xp();t!==null&&f.Sp(t,a,u),u+=d.height}};this.xb()&&(r("left",0),e+=M(s.wm()).xp().width);for(let l=0;l<this.Xm.length;l++){const a=this.Xm[l],u=a.xp();t!==null&&a.Sp(t,e,n),n+=u.height}e+=s.xp().width,this.Sb()&&(r("right",e),e+=M(s.gm()).xp().width);const o=(l,a,u)=>{M(l==="left"?this.ab.Lm():this.ab.Em()).Sp(M(t),a,u)};if(this.cn.timeScale.visible){const l=this.ab.xp();if(t!==null){let a=0;this.xb()&&(o("left",a,n),a=M(s.wm()).xp().width),this.ab.Sp(t,a,n),a+=l.width,this.Sb()&&o("right",a,n)}n+=l.height}return wt({width:e,height:n})}Pb(){let t=0,e=0,n=0;for(const y of this.Xm)this.xb()&&(e=Math.max(e,M(y.wm()).op(),this.cn.leftPriceScale.minimumWidth)),this.Sb()&&(n=Math.max(n,M(y.gm()).op(),this.cn.rightPriceScale.minimumWidth)),t+=y.M_();e=yc(e),n=yc(n);const s=this.__,r=this.ho,o=Math.max(s-e-n,0),l=this.cn.timeScale.visible;let a=l?Math.max(this.ab.Wm(),this.cn.timeScale.minimumHeight):0;var u;a=(u=a)+u%2;const h=0+a,c=r<h?0:r-h,f=c/t;let d=0;for(let y=0;y<this.Xm.length;++y){const v=this.Xm[y];v.qp(this.$i.qc()[y]);let x=0,p=0;p=y===this.Xm.length-1?c-d:Math.round(v.M_()*f),x=Math.max(p,2),d+=x,v.cp(wt({width:o,height:x})),this.xb()&&v._m(e,"left"),this.Sb()&&v._m(n,"right"),v.fp()&&this.$i.Kc(v.fp(),x)}this.ab.Fm(wt({width:l?o:0,height:a}),l?e:0,l?n:0),this.$i.S_(o),this.Gm!==e&&(this.Gm=e),this.Jm!==n&&(this.Jm=n)}hb(t){t?this.Xd.addEventListener("wheel",this.eb,{passive:!1}):this.Xd.removeEventListener("wheel",this.eb)}Rb(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return YM?1/window.devicePixelRatio:1}rb(t){if(!(t.deltaX!==0&&this.cn.handleScroll.mouseWheel||t.deltaY!==0&&this.cn.handleScale.mouseWheel))return;const e=this.Rb(t),n=e*t.deltaX/100,s=-e*t.deltaY/100;if(t.cancelable&&t.preventDefault(),s!==0&&this.cn.handleScale.mouseWheel){const r=Math.sign(s)*Math.min(1,Math.abs(s)),o=t.clientX-this.Xd.getBoundingClientRect().left;this.$t().Qc(o,r)}n!==0&&this.cn.handleScroll.mouseWheel&&this.$t().td(-80*n)}mb(t,e){var n;const s=t.jn();s===3&&this.Db(),s!==3&&s!==2||(this.Vb(t),this.Ob(t,e),this.ab.bt(),this.Xm.forEach(r=>{r.Xp()}),((n=this.Qm)===null||n===void 0?void 0:n.jn())===3&&(this.Qm.ts(t),this.Db(),this.Vb(this.Qm),this.Ob(this.Qm,e),t=this.Qm,this.Qm=null)),this.vp(t)}Ob(t,e){for(const n of t.Qn())this.ns(n,e)}Vb(t){const e=this.$i.qc();for(let n=0;n<e.length;n++)t.Hn(n).Wn&&e[n].N_()}ns(t,e){const n=this.$i.St();switch(t.qn){case 0:n.hc();break;case 1:n.lc(t.Vt);break;case 2:n.Gn(t.Vt);break;case 3:n.Jn(t.Vt);break;case 4:n.qu();break;case 5:t.Vt.Qu(e)||n.Jn(t.Vt.tc(e))}}Vc(t){this.Qm!==null?this.Qm.ts(t):this.Qm=t,this.tb||(this.tb=!0,this.Km=window.requestAnimationFrame(e=>{if(this.tb=!1,this.Km=0,this.Qm!==null){const n=this.Qm;this.Qm=null,this.mb(n,e);for(const s of n.Qn())if(s.qn===5&&!s.Vt.Qu(e)){this.$t().Zn(s.Vt);break}}}))}Db(){this.ub()}ub(){const t=this.$i.qc(),e=t.length,n=this.Xm.length;for(let s=e;s<n;s++){const r=ie(this.Xm.pop());this.sb.removeChild(r.lp()),r.lm().p(this),r.am().p(this),r.S()}for(let s=n;s<e;s++){const r=new rd(this,t[s]);r.lm().l(this.Bb.bind(this),this),r.am().l(this.Ab.bind(this),this),this.Xm.push(r),this.sb.insertBefore(r.lp(),this.ab.lp())}for(let s=0;s<e;s++){const r=t[s],o=this.Xm[s];o.fp()!==r?o.qp(r):o.Up()}this.cb(),this.Pb()}Ib(t,e,n){var s;const r=new Map;t!==null&&this.$i.wt().forEach(h=>{const c=h.In().ll(t);c!==null&&r.set(h,c)});let o;if(t!==null){const h=(s=this.$i.St().Ui(t))===null||s===void 0?void 0:s.originalTime;h!==void 0&&(o=h)}const l=this.$t().Wc(),a=l!==null&&l.Hc instanceof id?l.Hc:void 0,u=l!==null&&l.Iv!==void 0?l.Iv.gr:void 0;return{zb:o,ee:t??void 0,Lb:e??void 0,Eb:a,Nb:r,Fb:u,Wb:n??void 0}}Bb(t,e,n){this.Vp.m(()=>this.Ib(t,e,n))}Ab(t,e,n){this.Op.m(()=>this.Ib(t,e,n))}lb(t,e,n){this.Rc.m(()=>this.Ib(t,e,n))}cb(){const t=this.cn.timeScale.visible?"":"none";this.ab.lp().style.display=t}xb(){return this.Xm[0].fp().R_().W().visible}Sb(){return this.Xm[0].fp().D_().W().visible}ob(){return"ResizeObserver"in window&&(this.ib=new ResizeObserver(t=>{const e=t.find(n=>n.target===this.Jd);e&&this._b(e.contentRect.width,e.contentRect.height)}),this.ib.observe(this.Jd,{box:"border-box"}),!0)}pb(){this.ib!==null&&this.ib.disconnect(),this.ib=null}}function rh(i){return!!(i.handleScroll.mouseWheel||i.handleScale.mouseWheel)}function QM(i){return function(t){return t.open!==void 0}(i)||function(t){return t.value!==void 0}(i)}function dw(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var s=0;for(n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]])}return e}function Cm(i,t,e,n){const s=e.value,r={ee:t,ot:i,Vt:[s,s,s,s],zb:n};return e.color!==void 0&&(r.V=e.color),r}function JM(i,t,e,n){const s=e.value,r={ee:t,ot:i,Vt:[s,s,s,s],zb:n};return e.lineColor!==void 0&&(r.lt=e.lineColor),e.topColor!==void 0&&(r.Ps=e.topColor),e.bottomColor!==void 0&&(r.Rs=e.bottomColor),r}function GM(i,t,e,n){const s=e.value,r={ee:t,ot:i,Vt:[s,s,s,s],zb:n};return e.topLineColor!==void 0&&(r.Re=e.topLineColor),e.bottomLineColor!==void 0&&(r.De=e.bottomLineColor),e.topFillColor1!==void 0&&(r.ke=e.topFillColor1),e.topFillColor2!==void 0&&(r.ye=e.topFillColor2),e.bottomFillColor1!==void 0&&(r.Ce=e.bottomFillColor1),e.bottomFillColor2!==void 0&&(r.Te=e.bottomFillColor2),r}function qM(i,t,e,n){const s={ee:t,ot:i,Vt:[e.open,e.high,e.low,e.close],zb:n};return e.color!==void 0&&(s.V=e.color),s}function ZM(i,t,e,n){const s={ee:t,ot:i,Vt:[e.open,e.high,e.low,e.close],zb:n};return e.color!==void 0&&(s.V=e.color),e.borderColor!==void 0&&(s.Ot=e.borderColor),e.wickColor!==void 0&&(s.Xh=e.wickColor),s}function tI(i,t,e,n,s){const r=ie(s)(e),o=Math.max(...r),l=Math.min(...r),a=r[r.length-1],u=[a,o,l,a],h=e,{time:c,color:f}=h;return{ee:t,ot:i,Vt:u,zb:n,$e:dw(h,["time","color"]),V:f}}function ol(i){return i.Vt!==void 0}function Em(i,t){return t.customValues!==void 0&&(i.jb=t.customValues),i}function Tn(i){return(t,e,n,s,r,o)=>function(l,a){return a?a(l):(u=l).open===void 0&&u.value===void 0;var u}(n,o)?Em({ot:t,ee:e,zb:s},n):Em(i(t,e,n,s,r),n)}function km(i){return{Candlestick:Tn(ZM),Bar:Tn(qM),Area:Tn(JM),Baseline:Tn(GM),Histogram:Tn(Cm),Line:Tn(Cm),Custom:Tn(tI)}[i]}function Nm(i){return{ee:0,Hb:new Map,la:i}}function Tm(i,t){if(i!==void 0&&i.length!==0)return{$b:t.key(i[0].ot),Ub:t.key(i[i.length-1].ot)}}function Om(i){let t;return i.forEach(e=>{t===void 0&&(t=e.zb)}),ie(t)}class eI{constructor(t){this.qb=new Map,this.Yb=new Map,this.Zb=new Map,this.Xb=[],this.q_=t}S(){this.qb.clear(),this.Yb.clear(),this.Zb.clear(),this.Xb=[]}Kb(t,e){let n=this.qb.size!==0,s=!1;const r=this.Yb.get(t);if(r!==void 0)if(this.Yb.size===1)n=!1,s=!0,this.qb.clear();else for(const a of this.Xb)a.pointData.Hb.delete(t)&&(s=!0);let o=[];if(e.length!==0){const a=e.map(d=>d.time),u=this.q_.createConverterToInternalObj(e),h=km(t.Qh()),c=t.Ca(),f=t.Ta();o=e.map((d,y)=>{const v=u(d.time),x=this.q_.key(v);let p=this.qb.get(x);p===void 0&&(p=Nm(v),this.qb.set(x,p),s=!0);const m=h(v,p.ee,d,a[y],c,f);return p.Hb.set(t,m),m})}n&&this.Gb(),this.Jb(t,o);let l=-1;if(s){const a=[];this.qb.forEach(u=>{a.push({timeWeight:0,time:u.la,pointData:u,originalTime:Om(u.Hb)})}),a.sort((u,h)=>this.q_.key(u.time)-this.q_.key(h.time)),l=this.Qb(a)}return this.tw(t,l,function(a,u,h){const c=Tm(a,h),f=Tm(u,h);if(c!==void 0&&f!==void 0)return{ta:c.Ub>=f.Ub&&c.$b>=f.$b}}(this.Yb.get(t),r,this.q_))}vd(t){return this.Kb(t,[])}iw(t,e){const n=e;(function(v){v.zb===void 0&&(v.zb=v.time)})(n),this.q_.preprocessData(e);const s=this.q_.createConverterToInternalObj([e])(e.time),r=this.Zb.get(t);if(r!==void 0&&this.q_.key(s)<this.q_.key(r))throw new Error(`Cannot update oldest data, last time=${r}, new time=${s}`);let o=this.qb.get(this.q_.key(s));const l=o===void 0;o===void 0&&(o=Nm(s),this.qb.set(this.q_.key(s),o));const a=km(t.Qh()),u=t.Ca(),h=t.Ta(),c=a(s,o.ee,e,n.zb,u,h);o.Hb.set(t,c),this.nw(t,c);const f={ta:ol(c)};if(!l)return this.tw(t,-1,f);const d={timeWeight:0,time:o.la,pointData:o,originalTime:Om(o.Hb)},y=No(this.Xb,this.q_.key(d.time),(v,x)=>this.q_.key(v.time)<x);this.Xb.splice(y,0,d);for(let v=y;v<this.Xb.length;++v)oh(this.Xb[v].pointData,v);return this.q_.fillWeightsForPoints(this.Xb,y),this.tw(t,y,f)}nw(t,e){let n=this.Yb.get(t);n===void 0&&(n=[],this.Yb.set(t,n));const s=n.length!==0?n[n.length-1]:null;s===null||this.q_.key(e.ot)>this.q_.key(s.ot)?ol(e)&&n.push(e):ol(e)?n[n.length-1]=e:n.splice(-1,1),this.Zb.set(t,e.ot)}Jb(t,e){e.length!==0?(this.Yb.set(t,e.filter(ol)),this.Zb.set(t,e[e.length-1].ot)):(this.Yb.delete(t),this.Zb.delete(t))}Gb(){for(const t of this.Xb)t.pointData.Hb.size===0&&this.qb.delete(this.q_.key(t.time))}Qb(t){let e=-1;for(let n=0;n<this.Xb.length&&n<t.length;++n){const s=this.Xb[n],r=t[n];if(this.q_.key(s.time)!==this.q_.key(r.time)){e=n;break}r.timeWeight=s.timeWeight,oh(r.pointData,n)}if(e===-1&&this.Xb.length!==t.length&&(e=Math.min(this.Xb.length,t.length)),e===-1)return-1;for(let n=e;n<t.length;++n)oh(t[n].pointData,n);return this.q_.fillWeightsForPoints(t,e),this.Xb=t,e}sw(){if(this.Yb.size===0)return null;let t=0;return this.Yb.forEach(e=>{e.length!==0&&(t=Math.max(t,e[e.length-1].ee))}),t}tw(t,e,n){const s={ew:new Map,St:{Eu:this.sw()}};if(e!==-1)this.Yb.forEach((r,o)=>{s.ew.set(o,{$e:r,rw:o===t?n:void 0})}),this.Yb.has(t)||s.ew.set(t,{$e:[],rw:n}),s.St.hw=this.Xb,s.St.lw=e;else{const r=this.Yb.get(t);s.ew.set(t,{$e:r||[],rw:n})}return s}}function oh(i,t){i.ee=t,i.Hb.forEach(e=>{e.ee=t})}function ld(i){const t={value:i.Vt[3],time:i.zb};return i.jb!==void 0&&(t.customValues=i.jb),t}function Bm(i){const t=ld(i);return i.V!==void 0&&(t.color=i.V),t}function iI(i){const t=ld(i);return i.lt!==void 0&&(t.lineColor=i.lt),i.Ps!==void 0&&(t.topColor=i.Ps),i.Rs!==void 0&&(t.bottomColor=i.Rs),t}function nI(i){const t=ld(i);return i.Re!==void 0&&(t.topLineColor=i.Re),i.De!==void 0&&(t.bottomLineColor=i.De),i.ke!==void 0&&(t.topFillColor1=i.ke),i.ye!==void 0&&(t.topFillColor2=i.ye),i.Ce!==void 0&&(t.bottomFillColor1=i.Ce),i.Te!==void 0&&(t.bottomFillColor2=i.Te),t}function pw(i){const t={open:i.Vt[0],high:i.Vt[1],low:i.Vt[2],close:i.Vt[3],time:i.zb};return i.jb!==void 0&&(t.customValues=i.jb),t}function sI(i){const t=pw(i);return i.V!==void 0&&(t.color=i.V),t}function rI(i){const t=pw(i),{V:e,Ot:n,Xh:s}=i;return e!==void 0&&(t.color=e),n!==void 0&&(t.borderColor=n),s!==void 0&&(t.wickColor=s),t}function wc(i){return{Area:iI,Line:Bm,Baseline:nI,Histogram:Bm,Bar:sI,Candlestick:rI,Custom:oI}[i]}function oI(i){const t=i.zb;return Object.assign(Object.assign({},i.$e),{time:t})}const lI={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},aI={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},uI={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:Jf,attributionLogo:!0},lh={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},hI={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0},cI={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:Jf,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"};function zm(){return{width:0,height:0,autoSize:!1,layout:uI,crosshair:lI,grid:aI,overlayPriceScales:Object.assign({},lh),leftPriceScale:Object.assign(Object.assign({},lh),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},lh),{visible:!0}),timeScale:hI,watermark:cI,localization:{locale:ir?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class fI{constructor(t,e){this.aw=t,this.ow=e}applyOptions(t){this.aw.$t().$c(this.ow,t)}options(){return this.Li().W()}width(){return lu(this.ow)?this.aw.Mb(this.ow):0}Li(){return M(this.aw.$t().Uc(this.ow)).Dt}}function Dm(i,t,e){const n=dw(i,["time","originalTime"]),s=Object.assign({time:t},n);return e!==void 0&&(s.originalTime=e),s}const dI={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class pI{constructor(t){this.Nh=t}applyOptions(t){this.Nh.$h(t)}options(){return this.Nh.W()}_w(){return this.Nh}}class mI{constructor(t,e,n,s,r){this.uw=new Tt,this.Es=t,this.cw=e,this.dw=n,this.q_=r,this.fw=s}S(){this.uw.S()}priceFormatter(){return this.Es.ba()}priceToCoordinate(t){const e=this.Es.Ct();return e===null?null:this.Es.Dt().Rt(t,e.Vt)}coordinateToPrice(t){const e=this.Es.Ct();return e===null?null:this.Es.Dt().pn(t,e.Vt)}barsInLogicalRange(t){if(t===null)return null;const e=new $s(new Pr(t.from,t.to)).lu(),n=this.Es.In();if(n.Ni())return null;const s=n.ll(e.Os(),1),r=n.ll(e.ui(),-1),o=M(n.el()),l=M(n.An());if(s!==null&&r!==null&&s.ee>r.ee)return{barsBefore:t.from-o,barsAfter:l-t.to};const a={barsBefore:s===null||s.ee===o?t.from-o:s.ee-o,barsAfter:r===null||r.ee===l?l-t.to:l-r.ee};return s!==null&&r!==null&&(a.from=s.zb,a.to=r.zb),a}setData(t){this.q_,this.Es.Qh(),this.cw.pw(this.Es,t),this.mw("full")}update(t){this.Es.Qh(),this.cw.bw(this.Es,t),this.mw("update")}dataByIndex(t,e){const n=this.Es.In().ll(t,e);return n===null?null:wc(this.seriesType())(n)}data(){const t=wc(this.seriesType());return this.Es.In().ne().map(e=>t(e))}subscribeDataChanged(t){this.uw.l(t)}unsubscribeDataChanged(t){this.uw.v(t)}setMarkers(t){this.q_;const e=t.map(n=>Dm(n,this.q_.convertHorzItemToInternal(n.time),n.time));this.Es.na(e)}markers(){return this.Es.sa().map(t=>Dm(t,t.originalTime,void 0))}applyOptions(t){this.Es.$h(t)}options(){return Li(this.Es.W())}priceScale(){return this.dw.priceScale(this.Es.Dt().Pa())}createPriceLine(t){const e=ei(Li(dI),t),n=this.Es.ea(e);return new pI(n)}removePriceLine(t){this.Es.ra(t._w())}seriesType(){return this.Es.Qh()}attachPrimitive(t){this.Es.ka(t),t.attached&&t.attached({chart:this.fw,series:this,requestUpdate:()=>this.Es.$t().Kl()})}detachPrimitive(t){this.Es.ya(t),t.detached&&t.detached()}mw(t){this.uw.M()&&this.uw.m(t)}}class yI{constructor(t,e,n){this.ww=new Tt,this.mu=new Tt,this.Om=new Tt,this.$i=t,this.yl=t.St(),this.ab=e,this.yl.nc().l(this.gw.bind(this)),this.yl.sc().l(this.Mw.bind(this)),this.ab.Nm().l(this.xw.bind(this)),this.q_=n}S(){this.yl.nc().p(this),this.yl.sc().p(this),this.ab.Nm().p(this),this.ww.S(),this.mu.S(),this.Om.S()}scrollPosition(){return this.yl.Hu()}scrollToPosition(t,e){e?this.yl.Ju(t,1e3):this.$i.Jn(t)}scrollToRealTime(){this.yl.Gu()}getVisibleRange(){const t=this.yl.Vu();return t===null?null:{from:t.from.originalTime,to:t.to.originalTime}}setVisibleRange(t){const e={from:this.q_.convertHorzItemToInternal(t.from),to:this.q_.convertHorzItemToInternal(t.to)},n=this.yl.Iu(e);this.$i.pd(n)}getVisibleLogicalRange(){const t=this.yl.Du();return t===null?null:{from:t.Os(),to:t.ui()}}setVisibleLogicalRange(t){Sn(t.from<=t.to,"The from index cannot be after the to index."),this.$i.pd(t)}resetTimeScale(){this.$i.Kn()}fitContent(){this.$i.hc()}logicalToCoordinate(t){const e=this.$i.St();return e.Ni()?null:e.It(t)}coordinateToLogical(t){return this.yl.Ni()?null:this.yl.Nu(t)}timeToCoordinate(t){const e=this.q_.convertHorzItemToInternal(t),n=this.yl.Va(e,!1);return n===null?null:this.yl.It(n)}coordinateToTime(t){const e=this.$i.St(),n=e.Nu(t),s=e.Ui(n);return s===null?null:s.originalTime}width(){return this.ab.um().width}height(){return this.ab.um().height}subscribeVisibleTimeRangeChange(t){this.ww.l(t)}unsubscribeVisibleTimeRangeChange(t){this.ww.v(t)}subscribeVisibleLogicalRangeChange(t){this.mu.l(t)}unsubscribeVisibleLogicalRangeChange(t){this.mu.v(t)}subscribeSizeChange(t){this.Om.l(t)}unsubscribeSizeChange(t){this.Om.v(t)}applyOptions(t){this.yl.$h(t)}options(){return Object.assign(Object.assign({},Li(this.yl.W())),{barSpacing:this.yl.le()})}gw(){this.ww.M()&&this.ww.m(this.getVisibleRange())}Mw(){this.mu.M()&&this.mu.m(this.getVisibleLogicalRange())}xw(t){this.Om.m(t.width,t.height)}}function vI(i){if(i===void 0||i.type==="custom")return;const t=i;t.minMove!==void 0&&t.precision===void 0&&(t.precision=function(e){if(e>=1)return 0;let n=0;for(;n<8;n++){const s=Math.round(e);if(Math.abs(s-e)<1e-8)return n;e*=10}return n}(t.minMove))}function Lm(i){return function(t){if(Go(t.handleScale)){const n=t.handleScale;t.handleScale={axisDoubleClickReset:{time:n,price:n},axisPressedMouseMove:{time:n,price:n},mouseWheel:n,pinch:n}}else if(t.handleScale!==void 0){const{axisPressedMouseMove:n,axisDoubleClickReset:s}=t.handleScale;Go(n)&&(t.handleScale.axisPressedMouseMove={time:n,price:n}),Go(s)&&(t.handleScale.axisDoubleClickReset={time:s,price:s})}const e=t.handleScroll;Go(e)&&(t.handleScroll={horzTouchDrag:e,vertTouchDrag:e,mouseWheel:e,pressedMouseMove:e})}(i),i}class gI{constructor(t,e,n){this.Sw=new Map,this.kw=new Map,this.yw=new Tt,this.Cw=new Tt,this.Tw=new Tt,this.Pw=new eI(e);const s=n===void 0?Li(zm()):ei(Li(zm()),Lm(n));this.q_=e,this.aw=new XM(t,s,e),this.aw.lm().l(o=>{this.yw.M()&&this.yw.m(this.Rw(o()))},this),this.aw.am().l(o=>{this.Cw.M()&&this.Cw.m(this.Rw(o()))},this),this.aw.Xc().l(o=>{this.Tw.M()&&this.Tw.m(this.Rw(o()))},this);const r=this.aw.$t();this.Dw=new yI(r,this.aw.fb(),this.q_)}remove(){this.aw.lm().p(this),this.aw.am().p(this),this.aw.Xc().p(this),this.Dw.S(),this.aw.S(),this.Sw.clear(),this.kw.clear(),this.yw.S(),this.Cw.S(),this.Tw.S(),this.Pw.S()}resize(t,e,n){this.autoSizeActive()||this.aw._b(t,e,n)}addCustomSeries(t,e){const n=Es(t),s=Object.assign(Object.assign({},jg),n.defaultOptions());return this.Vw("Custom",s,e,n)}addAreaSeries(t){return this.Vw("Area",e2,t)}addBaselineSeries(t){return this.Vw("Baseline",i2,t)}addBarSeries(t){return this.Vw("Bar",Zx,t)}addCandlestickSeries(t={}){return function(e){e.borderColor!==void 0&&(e.borderUpColor=e.borderColor,e.borderDownColor=e.borderColor),e.wickColor!==void 0&&(e.wickUpColor=e.wickColor,e.wickDownColor=e.wickColor)}(t),this.Vw("Candlestick",qx,t)}addHistogramSeries(t){return this.Vw("Histogram",n2,t)}addLineSeries(t){return this.Vw("Line",t2,t)}removeSeries(t){const e=ie(this.Sw.get(t)),n=this.Pw.vd(e);this.aw.$t().vd(e),this.Ow(n),this.Sw.delete(t),this.kw.delete(e)}pw(t,e){this.Ow(this.Pw.Kb(t,e))}bw(t,e){this.Ow(this.Pw.iw(t,e))}subscribeClick(t){this.yw.l(t)}unsubscribeClick(t){this.yw.v(t)}subscribeCrosshairMove(t){this.Tw.l(t)}unsubscribeCrosshairMove(t){this.Tw.v(t)}subscribeDblClick(t){this.Cw.l(t)}unsubscribeDblClick(t){this.Cw.v(t)}priceScale(t){return new fI(this.aw,t)}timeScale(){return this.Dw}applyOptions(t){this.aw.$h(Lm(t))}options(){return this.aw.W()}takeScreenshot(){return this.aw.wb()}autoSizeActive(){return this.aw.kb()}chartElement(){return this.aw.yb()}paneSize(){const t=this.aw.Tb();return{height:t.height,width:t.width}}setCrosshairPosition(t,e,n){const s=this.Sw.get(n);if(s===void 0)return;const r=this.aw.$t().dr(s);r!==null&&this.aw.$t().ad(t,e,r)}clearCrosshairPosition(){this.aw.$t().od(!0)}Vw(t,e,n={},s){vI(n.priceFormat);const r=ei(Li(Wg),Li(e),n),o=this.aw.$t().dd(t,r,s),l=new mI(o,this,this,this,this.q_);return this.Sw.set(l,o),this.kw.set(o,l),l}Ow(t){const e=this.aw.$t();e._d(t.St.Eu,t.St.hw,t.St.lw),t.ew.forEach((n,s)=>s.J(n.$e,n.rw)),e.Wu()}Bw(t){return ie(this.kw.get(t))}Rw(t){const e=new Map;t.Nb.forEach((s,r)=>{const o=r.Qh(),l=wc(o)(s);if(o!=="Custom")Sn(QM(l));else{const a=r.Ta();Sn(!a||a(l)===!1)}e.set(this.Bw(r),l)});const n=t.Eb!==void 0&&this.kw.has(t.Eb)?this.Bw(t.Eb):void 0;return{time:t.zb,logical:t.ee,point:t.Lb,hoveredSeries:n,hoveredObjectId:t.Fb,seriesData:e,sourceEvent:t.Wb}}}function wI(i,t,e){let n;if(ko(i)){const r=document.getElementById(i);Sn(r!==null,`Cannot find element in DOM with id=${i}`),n=r}else n=i;const s=new gI(n,t,e);return t.setOptions(s.options()),s}function mw(i,t){return wI(i,new bm,bm.Id(t))}Object.assign(Object.assign({},Wg),jg);const bI=[0,.236,.382,.5,.618,.786,1,1.272,1.618],_I=[1,1.272,1.414,1.618,2];function SI(i,t){if(i.length<2)return[];const[e,n]=i,s=n.price-e.price;return(t?_I:bI).map(o=>({level:o,price:e.price+s*o}))}function xI(i){const[t,e]=i;if(!t||!e)return null;const n=Math.min(t.time,e.time),s=Math.max(t.time,e.time),r=Math.min(t.price,e.price),o=Math.max(t.price,e.price);return{t1:n,t2:s,y1:r,y2:o}}function MI(i,t){const e=Math.abs(t.time-i.time),n=t.price-i.price,s=i.price!==0?n/i.price*100:0;return{dt:e,dp:n,pct:s}}function II(i){return Math.floor(i)}function CI({data:i,drawings:t,setDrawings:e,activeTool:n,magnet:s,toolbarKey:r,overlays:o=[],markers:l=[],onReady:a}){const u=ft.useRef(null),h=ft.useRef(null),c=ft.useRef(null),f=ft.useRef(null),d=ft.useRef([]),y=ft.useRef(new Map),[v,x]=ft.useState([]);function p(N){if(typeof N=="number")return N>1e12?Math.floor(N/1e3):Math.floor(N);const F=Date.parse(N);return Math.floor(F/1e3)}function m(N){if(!Array.isArray(N))return[];const F=N.filter(D=>D&&D.time!=null&&Number.isFinite(D.open)&&Number.isFinite(D.high)&&Number.isFinite(D.low)&&Number.isFinite(D.close)).map(D=>({time:p(D.time),open:+D.open,high:+D.high,low:+D.low,close:+D.close}));return F.sort((D,k)=>D.time-k.time),F}ft.useEffect(()=>{const N=u.current;if(!N)return;N.style.minHeight||(N.style.minHeight="420px"),N.style.position="relative";const F=mw(N,{width:N.clientWidth,height:N.clientHeight||520,layout:{background:{color:"#0e1117"},textColor:"#e5e7eb"},timeScale:{rightOffset:2,borderColor:"#333"},grid:{vertLines:{color:"#1f2937"},horzLines:{color:"#1f2937"}},handleScroll:{mouseWheel:!0,pressedMouseMove:!0},handleScale:{mouseWheel:!0,pinch:!0,axisPressedMouseMove:{time:!0,price:!0}}}),D=F.addCandlestickSeries({upColor:"#26a69a",downColor:"#ef5350",wickUpColor:"#26a69a",wickDownColor:"#ef5350",borderVisible:!1});c.current=F,f.current=D,a==null||a(F);const k=h.current,rt=()=>{if(!k||!N)return;const I=N.getBoundingClientRect(),L=window.devicePixelRatio||1;k.width=Math.floor(I.width*L),k.height=Math.floor(I.height*L),k.style.width=I.width+"px",k.style.height=I.height+"px";const J=k.getContext("2d");J&&J.setTransform(L,0,0,L,0,0)};rt();const tt=new ResizeObserver(()=>{F.applyOptions({width:N.clientWidth,height:N.clientHeight||520}),rt(),O()});tt.observe(N);const vt=()=>{rt(),O()};F.timeScale().subscribeVisibleTimeRangeChange(vt);const _=F.timeScale(),S=typeof _.subscribeVisibleLogicalRangeChange=="function"&&typeof _.unsubscribeVisibleLogicalRangeChange=="function";return S&&_.subscribeVisibleLogicalRangeChange(vt),()=>{tt.disconnect(),F.timeScale().unsubscribeVisibleTimeRangeChange(vt),S&&_.unsubscribeVisibleLogicalRangeChange(vt);for(const I of y.current.values())F.removeSeries(I);y.current.clear(),F.remove(),c.current=null,f.current=null,d.current=[]}},[]),ft.useEffect(()=>{const N=f.current;if(!N)return;const F=m(i);F.length&&(d.current=F,N.setData(F),O())},[i]),ft.useEffect(()=>{const N=c.current;if(!N)return;const F=new Set(o.map(D=>D.id));for(const[D,k]of y.current)F.has(D)||(N.removeSeries(k),y.current.delete(D));for(const D of o){const k=Math.max(1,Math.round(D.width??2)),rt=D.dash==="dash"?1:D.dash==="dot"?2:0;let tt=y.current.get(D.id);tt?tt.applyOptions({color:D.color||"#33cccc",lineWidth:k,lineStyle:rt}):(tt=N.addLineSeries({color:D.color||"#33cccc",lineWidth:k,lineStyle:rt,priceLineVisible:!1}),y.current.set(D.id,tt));const vt=(D.data||[]).filter(_=>_&&_.time!=null&&Number.isFinite(_.value)).map(_=>({time:p(_.time),value:+_.value})).sort((_,S)=>_.time-S.time);vt.length&&tt.setData(vt)}O()},[o]),ft.useEffect(()=>{const N=h.current,F=c.current,D=!!(n&&n!=="select");N&&(N.style.pointerEvents=D?"auto":"none",N.style.cursor=D?"crosshair":"default"),F!=null&&F.applyOptions&&F.applyOptions({handleScroll:D?{mouseWheel:!1,pressedMouseMove:!1,horzTouchDrag:!1,vertTouchDrag:!1}:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:D?{mouseWheel:!1,pinch:!1,axisPressedMouseMove:{time:!1,price:!1}}:{mouseWheel:!0,pinch:!0,axisPressedMouseMove:{time:!0,price:!0}}})},[n]);function g(N){const F=c.current,D=f.current;if(!F||!D)return null;const k=F.timeScale().timeToCoordinate(II(N.time));if(k==null)return null;const rt=D.priceToCoordinate(N.price)??null;return rt==null?null:{x:k,y:rt}}function b(N,F){const D=d.current;if(!D.length)return{time:N,price:F};let k=0,rt=Number.POSITIVE_INFINITY;for(let tt=0;tt<D.length;tt++){const vt=Math.abs(D[tt].time-N);vt<rt&&(rt=vt,k=tt)}return{time:D[k].time,price:F}}function E(N){const F={...t,[N.id]:N};e(F);try{localStorage.setItem(`drawings:${r}`,JSON.stringify(F))}catch{}}function B(N){const F=d.current;if(!F.length)return null;for(let D=0;D<F.length;D++)if(F[D].time===N)return F[D];return null}function T(N){const F=c.current,D=f.current;if(!F||!D)return{x:null,y:null,side:"inBar",color:"#60a5fa"};const k=p(N.time),rt=B(k);let tt=N.side||(N.position==="aboveBar"?"above":N.position==="belowBar"?"below":"inBar"),vt=typeof N.price=="number"?N.price:rt?tt==="above"?rt.high:tt==="below"?rt.low:rt.close:NaN;const _=F.timeScale().timeToCoordinate(k),S=D.priceToCoordinate(vt),I=N.color||(tt==="above"?"#ef5350":tt==="below"?"#26a69a":"#60a5fa");return{x:_??null,y:S??null,side:tt,color:I,label:N.label}}function O(){var vt;const N=h.current,F=c.current,D=f.current;if(!N||!F||!D)return;const k=N.getContext("2d"),rt=N.getBoundingClientRect();k.clearRect(0,0,rt.width,rt.height);const tt=Object.values(t).filter(_=>_.props.visible!==!1);for(const _ of tt)if(k.lineWidth=_.props.width??1.5,k.strokeStyle=_.props.color??"#eab308",k.setLineDash(_.props.style==="dash"?[6,4]:_.props.style==="dot"?[2,4]:[]),_.type==="trendline"||_.type==="ray"){const[S,I]=_.anchors;if(!S||!I)continue;const L=g(S),J=g(I);if(!L||!J)continue;if(k.beginPath(),k.moveTo(L.x,L.y),_.type==="ray"){const Kt=J.x-L.x,zt=J.y-L.y,we=(rt.width-L.x)/(Kt||1e-6);k.lineTo(L.x+Kt*we,L.y+zt*we)}else k.lineTo(J.x,J.y);k.stroke()}else if(_.type==="hline"){const S=(vt=g(_.anchors[0]))==null?void 0:vt.y;if(S==null)continue;k.beginPath(),k.moveTo(0,S),k.lineTo(rt.width,S),k.stroke()}else if(_.type==="rect"){const S=xI(_.anchors);if(!S)continue;const I=g({time:S.t1,price:S.y1}),L=g({time:S.t2,price:S.y2});if(!I||!L)continue;const J=I.x,Kt=L.y,zt=L.x-I.x,we=I.y-L.y;k.save(),k.globalAlpha=.12,k.fillStyle=_.props.color||"#eab308",k.fillRect(J,Kt,zt,we),k.restore(),k.strokeRect(J,Kt,zt,we)}else if(_.type==="path"){const S=_.anchors.map(I=>g(I)).filter(Boolean);if(S.length<2)continue;k.beginPath(),k.moveTo(S[0].x,S[0].y);for(let I=1;I<S.length;I++)k.lineTo(S[I].x,S[I].y);k.stroke()}else if(_.type==="text"){const S=g(_.anchors[0]);if(!S)continue;k.fillStyle=_.props.color||"#e5e7eb",k.font="12px Inter, system-ui, sans-serif",k.fillText(_.props.label||"Text",S.x+4,S.y-4)}else if(_.type==="measure"){const[S,I]=_.anchors;if(!S||!I)continue;const L=g(S),J=g(I);if(!L||!J)continue;k.beginPath(),k.moveTo(L.x,L.y),k.lineTo(J.x,J.y),k.stroke();const Kt=MI(S,I),zt=`Δp: ${Kt.dp.toFixed(4)} (${Kt.pct.toFixed(2)}%)  Δt: ${Kt.dt}s`;k.fillStyle="#e5e7eb",k.fillText(zt,(L.x+J.x)/2+6,(L.y+J.y)/2-6)}else if(_.type==="fib_retracement"||_.type==="fib_extension"){const S=SI(_.anchors,_.type==="fib_extension");if(S.length===0)continue;const[I,L]=_.anchors,J=Math.min(I.time,L.time),Kt=Math.max(I.time,L.time);for(const zt of S){const we=g({time:J,price:zt.price}),be=g({time:Kt,price:zt.price});!we||!be||(k.beginPath(),k.moveTo(we.x,we.y),k.lineTo(be.x,be.y),k.stroke(),k.fillStyle=_.props.color||"#e5e7eb",k.fillText(`${(zt.level*100).toFixed(1)}%  ${zt.price.toFixed(4)}`,be.x+6,be.y-2))}}for(const _ of l){const S=T(_);if(S.x==null||S.y==null)continue;const I=6;k.beginPath(),S.side==="above"?(k.moveTo(S.x,S.y-I),k.lineTo(S.x-I,S.y+I),k.lineTo(S.x+I,S.y+I)):S.side==="below"?(k.moveTo(S.x,S.y+I),k.lineTo(S.x-I,S.y-I),k.lineTo(S.x+I,S.y-I)):(k.moveTo(S.x,S.y-I),k.lineTo(S.x+I,S.y),k.lineTo(S.x,S.y+I),k.lineTo(S.x-I,S.y)),k.closePath(),k.fillStyle=S.color,k.fill(),S.label&&(k.fillStyle="#e5e7eb",k.font="10px Inter, system-ui, sans-serif",k.fillText(S.label,S.x+8,S.y+(S.side==="above"?0:-2)))}}function it(N){if(N.preventDefault(),N.stopPropagation(),!n||n==="select")return;const F=N.target.getBoundingClientRect(),D=N.clientX-F.left,k=N.clientY-F.top,rt=c.current,tt=f.current;if(!rt||!tt)return;const vt=rt.timeScale().coordinateToTime(D),_=tt.coordinateToPrice(k);if(vt==null||_==null)return;let S={time:Number(vt),price:_};s&&(S=b(S.time,S.price));const I=[...v,S];if(["trendline","ray","measure","fib_retracement","fib_extension","rect"].includes(n))if(I.length===2){const L=crypto.randomUUID();E({id:L,type:n,anchors:I,props:{color:"#eab308",width:1.6,style:"solid",visible:!0,locked:!1},meta:{createdAt:Date.now(),updatedAt:Date.now(),z:0}}),x([])}else x(I);else if(n==="hline"||n==="text"){const L=crypto.randomUUID();E({id:L,type:n,anchors:[S],props:{color:"#60a5fa",width:1.6,style:"solid",visible:!0,locked:!1,label:n==="text"?"Label":void 0},meta:{createdAt:Date.now(),updatedAt:Date.now(),z:0}})}else n==="path"&&x(I)}function A(){if(n==="path"&&v.length>1){const N=crypto.randomUUID();E({id:N,type:"path",anchors:v,props:{color:"#34d399",width:1.6,style:"solid",visible:!0,locked:!1},meta:{createdAt:Date.now(),updatedAt:Date.now(),z:0}}),x([])}}return Dt.jsx("div",{ref:u,style:{position:"relative",width:"100%",height:540},children:Dt.jsx("canvas",{ref:h,onMouseDown:it,onDoubleClick:A,style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",zIndex:5,pointerEvents:"none"}})})}const EI=[{key:"select",label:"Sel"},{key:"trendline",label:"TL"},{key:"ray",label:"Ray"},{key:"rect",label:"Rect"},{key:"hline",label:"H"},{key:"path",label:"Path"},{key:"text",label:"Txt"},{key:"measure",label:"Meas"},{key:"fib_retracement",label:"FibR"},{key:"fib_extension",label:"FibX"}],kI=({activeTool:i,onSelect:t,dock:e,setDock:n,canClear:s,onClear:r,magnet:o})=>{const l={position:"absolute",top:8,zIndex:3,display:"flex",flexDirection:"column",gap:6,background:"#0b0f15",border:"1px solid #222",borderRadius:10,padding:8,boxShadow:"0 8px 24px rgba(0,0,0,0.35)",userSelect:"none"},a=e==="left"?{left:8}:e==="right"?{right:8}:{left:16,top:16,cursor:"move"},u={font:"12px/1 system-ui, -apple-system, Segoe UI, Roboto, sans-serif",color:"#e5e7eb",background:"transparent",border:"1px solid #2a2f36",borderRadius:8,padding:"6px 8px",cursor:"pointer"},h={...u,background:"#1e293b",borderColor:"#3b4251"},c={display:"grid",gridTemplateColumns:"repeat(5, auto)",gap:6};return Dt.jsxs("div",{style:{...l,...a},children:[Dt.jsxs("div",{style:{display:"flex",justifyContent:"space-between",gap:6},children:[Dt.jsx("button",{style:u,onClick:()=>n(e==="left"?"right":"left"),title:`Dock: ${e}`,children:e==="left"?"⟷ Right":"⟷ Left"}),typeof o=="boolean"&&Dt.jsx("div",{title:o?"Magnet: on":"Magnet: off",style:{...u,padding:"6px 10px",background:o?"#0b3d2a":void 0,borderColor:o?"#115e3e":"#2a2f36"},children:"🧲"})]}),Dt.jsx("div",{style:c,children:EI.map(f=>Dt.jsx("button",{style:i===f.key?h:u,onClick:()=>t(i===f.key?null:f.key),title:f.label,children:f.label},f.key))}),Dt.jsxs("div",{style:{display:"flex",gap:6,marginTop:4},children:[Dt.jsx("button",{style:{...u,color:"#fca5a5",borderColor:"#4c1d1d"},onClick:()=>t(null),title:"Stop drawing",children:"✕ Stop"}),Dt.jsx("button",{style:{...u,color:"#f87171",borderColor:"#4c1d1d",opacity:s?1:.5},onClick:()=>s&&r&&r(),disabled:!s,title:"Clear all drawings",children:"Clear"})]})]})};function Fm(i){if(typeof i=="number")return i>1e12?Math.floor(i/1e3):Math.floor(i);const t=Date.parse(i);return Math.floor(t/1e3)}const NI=({pane:i,syncWith:t})=>{const e=ft.useRef(null),n=ft.useRef(null);return ft.useEffect(()=>{var l;const s=e.current;if(!s)return;s.style.minHeight||(s.style.minHeight=i.height+"px");const r=mw(s,{width:s.clientWidth,height:i.height,layout:{background:{color:"#0e1117"},textColor:"#e5e7eb"},grid:{vertLines:{color:"#1f2937"},horzLines:{color:"#1f2937"}},timeScale:{rightOffset:2,borderVisible:!1},rightPriceScale:{autoScale:!i.yRange,scaleMargins:{top:.15,bottom:.15}}});i.yRange&&r.priceScale("right").applyOptions({autoScale:!1,invertScale:!1});for(const a of i.lines||[]){const u=Math.max(1,Math.round(a.width??2)),h=a.dash==="dash"?1:a.dash==="dot"?2:0;r.addLineSeries({color:a.color||"#9ca3af",lineWidth:u,lineStyle:h,priceLineVisible:!1}).setData((a.data||[]).filter(f=>f&&f.time!=null&&Number.isFinite(f.value)).map(f=>({time:Fm(f.time),value:+f.value})).sort((f,d)=>f.time-d.time))}for(const a of i.hist||[])r.addHistogramSeries({color:a.color||"#60a5fa",priceLineVisible:!1}).setData((a.data||[]).filter(h=>h&&h.time!=null&&Number.isFinite(h.value)).map(h=>({time:Fm(h.time),value:+h.value})).sort((h,c)=>h.time-c.time));for(const a of i.hlines||[])(l=r.addHorizontalLine)==null||l.call(r,{price:a.y,color:a.color||"#555",lineStyle:a.dash==="dash"?1:a.dash==="dot"?2:0,lineWidth:1});n.current=r;const o=new ResizeObserver(()=>{r.applyOptions({width:s.clientWidth,height:i.height})});if(o.observe(s),t){const a=()=>{const u=t.timeScale().getVisibleRange();u&&r.timeScale().setVisibleRange(u)};return t.timeScale().subscribeVisibleTimeRangeChange(a),a(),()=>{o.disconnect(),t.timeScale().unsubscribeVisibleTimeRangeChange(a),r.remove(),n.current=null}}return()=>{o.disconnect(),r.remove(),n.current=null}},[]),Dt.jsx("div",{ref:e,style:{width:"100%",height:i.height}})},TI=i=>{const t=i.args||{},e=ft.useMemo(()=>Array.isArray(t.data)?t.data:Array.isArray(t.ohlcv)?t.ohlcv:[],[t.data,t.ohlcv]),n=ft.useMemo(()=>Array.isArray(t.overlay_indicators)?t.overlay_indicators:[],[t.overlay_indicators]),s=ft.useMemo(()=>Array.isArray(t.pane_indicators)?t.pane_indicators:[],[t.pane_indicators]),r=ft.useMemo(()=>Array.isArray(t.markers)?t.markers:[],[t.markers]),[o,l]=ft.useState(t.initial_drawings||{});ft.useEffect(()=>{Je.setComponentValue({drawings:o})},[o]);const[a,u]=ft.useState(typeof t.activeTool>"u"?null:t.activeTool);ft.useEffect(()=>{typeof t.activeTool<"u"&&u(t.activeTool)},[t.activeTool]);const h=t.toolbar_default==="docked-left"?"left":t.toolbar_default==="floating"?"floating":"right",[c,f]=ft.useState(h),d=!!t.magnet,y=t.toolbarKey||`${t.symbol||"SYMBOL"}@${t.timeframe||"TF"}`,v=ft.useRef(null),x=560+((s==null?void 0:s.reduce((p,m)=>p+(m.height||0),0))||0);return ft.useEffect(()=>{Je.setFrameHeight(x)},[x,s==null?void 0:s.length]),Dt.jsxs("div",{style:{position:"relative",width:"100%",height:x},children:[Dt.jsxs("div",{style:{position:"relative",width:"100%",height:560},children:[Dt.jsx(CI,{data:e,drawings:o,setDrawings:l,activeTool:a,magnet:d,toolbarKey:y,overlays:n,markers:r,onReady:p=>{v.current=p}}),Dt.jsx(kI,{activeTool:a,onSelect:u,dock:c,setDock:f,canClear:Object.keys(o).length>0,onClear:()=>l({}),magnet:d})]}),s.map(p=>Dt.jsx("div",{style:{width:"100%",height:p.height},children:Dt.jsx(NI,{pane:p,syncWith:v.current||void 0})},p.id))]})},OI=Wx(TI);Ub.render(Dt.jsx(OI,{}),document.getElementById("root"));Je.setComponentReady();
