(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=e(s);fetch(s.href,r)}})();function jm(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Wm={exports:{}},Da={},Hm={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xo=Symbol.for("react.element"),xw=Symbol.for("react.portal"),Mw=Symbol.for("react.fragment"),Iw=Symbol.for("react.strict_mode"),Ew=Symbol.for("react.profiler"),Cw=Symbol.for("react.provider"),kw=Symbol.for("react.context"),Nw=Symbol.for("react.forward_ref"),Tw=Symbol.for("react.suspense"),Bw=Symbol.for("react.memo"),Ow=Symbol.for("react.lazy"),pd=Symbol.iterator;function zw(i){return i===null||typeof i!="object"?null:(i=pd&&i[pd]||i["@@iterator"],typeof i=="function"?i:null)}var Km={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ym=Object.assign,Xm={};function ur(i,t,e){this.props=i,this.context=t,this.refs=Xm,this.updater=e||Km}ur.prototype.isReactComponent={};ur.prototype.setState=function(i,t){if(typeof i!="object"&&typeof i!="function"&&i!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,i,t,"setState")};ur.prototype.forceUpdate=function(i){this.updater.enqueueForceUpdate(this,i,"forceUpdate")};function Qm(){}Qm.prototype=ur.prototype;function Cc(i,t,e){this.props=i,this.context=t,this.refs=Xm,this.updater=e||Km}var kc=Cc.prototype=new Qm;kc.constructor=Cc;Ym(kc,ur.prototype);kc.isPureReactComponent=!0;var md=Array.isArray,Jm=Object.prototype.hasOwnProperty,Nc={current:null},Gm={key:!0,ref:!0,__self:!0,__source:!0};function qm(i,t,e){var n,s={},r=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(r=""+t.key),t)Jm.call(t,n)&&!Gm.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=e;else if(1<l){for(var a=Array(l),u=0;u<l;u++)a[u]=arguments[u+2];s.children=a}if(i&&i.defaultProps)for(n in l=i.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:xo,type:i,key:r,ref:o,props:s,_owner:Nc.current}}function Dw(i,t){return{$$typeof:xo,type:i.type,key:t,ref:i.ref,props:i.props,_owner:i._owner}}function Tc(i){return typeof i=="object"&&i!==null&&i.$$typeof===xo}function Lw(i){var t={"=":"=0",":":"=2"};return"$"+i.replace(/[=:]/g,function(e){return t[e]})}var yd=/\/+/g;function yu(i,t){return typeof i=="object"&&i!==null&&i.key!=null?Lw(""+i.key):t.toString(36)}function dl(i,t,e,n,s){var r=typeof i;(r==="undefined"||r==="boolean")&&(i=null);var o=!1;if(i===null)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(i.$$typeof){case xo:case xw:o=!0}}if(o)return o=i,s=s(o),i=n===""?"."+yu(o,0):n,md(s)?(e="",i!=null&&(e=i.replace(yd,"$&/")+"/"),dl(s,t,e,"",function(u){return u})):s!=null&&(Tc(s)&&(s=Dw(s,e+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(yd,"$&/")+"/")+i)),t.push(s)),1;if(o=0,n=n===""?".":n+":",md(i))for(var l=0;l<i.length;l++){r=i[l];var a=n+yu(r,l);o+=dl(r,t,e,a,s)}else if(a=zw(i),typeof a=="function")for(i=a.call(i),l=0;!(r=i.next()).done;)r=r.value,a=n+yu(r,l++),o+=dl(r,t,e,a,s);else if(r==="object")throw t=String(i),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Ro(i,t,e){if(i==null)return i;var n=[],s=0;return dl(i,n,"","",function(r){return t.call(e,r,s++)}),n}function Fw(i){if(i._status===-1){var t=i._result;t=t(),t.then(function(e){(i._status===0||i._status===-1)&&(i._status=1,i._result=e)},function(e){(i._status===0||i._status===-1)&&(i._status=2,i._result=e)}),i._status===-1&&(i._status=0,i._result=t)}if(i._status===1)return i._result.default;throw i._result}var se={current:null},pl={transition:null},Rw={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:pl,ReactCurrentOwner:Nc};function Zm(){throw Error("act(...) is not supported in production builds of React.")}q.Children={map:Ro,forEach:function(i,t,e){Ro(i,function(){t.apply(this,arguments)},e)},count:function(i){var t=0;return Ro(i,function(){t++}),t},toArray:function(i){return Ro(i,function(t){return t})||[]},only:function(i){if(!Tc(i))throw Error("React.Children.only expected to receive a single React element child.");return i}};q.Component=ur;q.Fragment=Mw;q.Profiler=Ew;q.PureComponent=Cc;q.StrictMode=Iw;q.Suspense=Tw;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rw;q.act=Zm;q.cloneElement=function(i,t,e){if(i==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+i+".");var n=Ym({},i.props),s=i.key,r=i.ref,o=i._owner;if(t!=null){if(t.ref!==void 0&&(r=t.ref,o=Nc.current),t.key!==void 0&&(s=""+t.key),i.type&&i.type.defaultProps)var l=i.type.defaultProps;for(a in t)Jm.call(t,a)&&!Gm.hasOwnProperty(a)&&(n[a]=t[a]===void 0&&l!==void 0?l[a]:t[a])}var a=arguments.length-2;if(a===1)n.children=e;else if(1<a){l=Array(a);for(var u=0;u<a;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:xo,type:i.type,key:s,ref:r,props:n,_owner:o}};q.createContext=function(i){return i={$$typeof:kw,_currentValue:i,_currentValue2:i,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},i.Provider={$$typeof:Cw,_context:i},i.Consumer=i};q.createElement=qm;q.createFactory=function(i){var t=qm.bind(null,i);return t.type=i,t};q.createRef=function(){return{current:null}};q.forwardRef=function(i){return{$$typeof:Nw,render:i}};q.isValidElement=Tc;q.lazy=function(i){return{$$typeof:Ow,_payload:{_status:-1,_result:i},_init:Fw}};q.memo=function(i,t){return{$$typeof:Bw,type:i,compare:t===void 0?null:t}};q.startTransition=function(i){var t=pl.transition;pl.transition={};try{i()}finally{pl.transition=t}};q.unstable_act=Zm;q.useCallback=function(i,t){return se.current.useCallback(i,t)};q.useContext=function(i){return se.current.useContext(i)};q.useDebugValue=function(){};q.useDeferredValue=function(i){return se.current.useDeferredValue(i)};q.useEffect=function(i,t){return se.current.useEffect(i,t)};q.useId=function(){return se.current.useId()};q.useImperativeHandle=function(i,t,e){return se.current.useImperativeHandle(i,t,e)};q.useInsertionEffect=function(i,t){return se.current.useInsertionEffect(i,t)};q.useLayoutEffect=function(i,t){return se.current.useLayoutEffect(i,t)};q.useMemo=function(i,t){return se.current.useMemo(i,t)};q.useReducer=function(i,t,e){return se.current.useReducer(i,t,e)};q.useRef=function(i){return se.current.useRef(i)};q.useState=function(i){return se.current.useState(i)};q.useSyncExternalStore=function(i,t,e){return se.current.useSyncExternalStore(i,t,e)};q.useTransition=function(){return se.current.useTransition()};q.version="18.3.1";Hm.exports=q;var Mt=Hm.exports;const An=jm(Mt);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Aw=Mt,Pw=Symbol.for("react.element"),$w=Symbol.for("react.fragment"),Vw=Object.prototype.hasOwnProperty,Uw=Aw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jw={key:!0,ref:!0,__self:!0,__source:!0};function ty(i,t,e){var n,s={},r=null,o=null;e!==void 0&&(r=""+e),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)Vw.call(t,n)&&!jw.hasOwnProperty(n)&&(s[n]=t[n]);if(i&&i.defaultProps)for(n in t=i.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:Pw,type:i,key:r,ref:o,props:s,_owner:Uw.current}}Da.Fragment=$w;Da.jsx=ty;Da.jsxs=ty;Wm.exports=Da;var dt=Wm.exports,ph={},ey={exports:{}},Te={},iy={exports:{}},ny={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(i){function t(b,I){var M=b.length;b.push(I);t:for(;0<M;){var S=M-1>>>1,F=b[S];if(0<s(F,I))b[S]=I,b[M]=F,M=S;else break t}}function e(b){return b.length===0?null:b[0]}function n(b){if(b.length===0)return null;var I=b[0],M=b.pop();if(M!==I){b[0]=M;t:for(var S=0,F=b.length,Z=F>>>1;S<Z;){var nt=2*(S+1)-1,B=b[nt],z=nt+1,A=b[z];if(0>s(B,M))z<F&&0>s(A,B)?(b[S]=A,b[z]=M,S=z):(b[S]=B,b[nt]=M,S=nt);else if(z<F&&0>s(A,M))b[S]=A,b[z]=M,S=z;else break t}}return I}function s(b,I){var M=b.sortIndex-I.sortIndex;return M!==0?M:b.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;i.unstable_now=function(){return r.now()}}else{var o=Date,l=o.now();i.unstable_now=function(){return o.now()-l}}var a=[],u=[],h=1,c=null,f=3,d=!1,y=!1,v=!1,x=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(b){for(var I=e(u);I!==null;){if(I.callback===null)n(u);else if(I.startTime<=b)n(u),I.sortIndex=I.expirationTime,t(a,I);else break;I=e(u)}}function _(b){if(v=!1,g(b),!y)if(e(a)!==null)y=!0,ri(k);else{var I=e(u);I!==null&&qi(_,I.startTime-b)}}function k(b,I){y=!1,v&&(v=!1,m(N),N=-1),d=!0;var M=f;try{for(g(I),c=e(a);c!==null&&(!(c.expirationTime>I)||b&&!Pt());){var S=c.callback;if(typeof S=="function"){c.callback=null,f=c.priorityLevel;var F=S(c.expirationTime<=I);I=i.unstable_now(),typeof F=="function"?c.callback=F:c===e(a)&&n(a),g(I)}else n(a);c=e(a)}if(c!==null)var Z=!0;else{var nt=e(u);nt!==null&&qi(_,nt.startTime-I),Z=!1}return Z}finally{c=null,f=M,d=!1}}var O=!1,T=null,N=-1,it=5,R=-1;function Pt(){return!(i.unstable_now()-R<it)}function Ci(){if(T!==null){var b=i.unstable_now();R=b;var I=!0;try{I=T(!0,b)}finally{I?si():(O=!1,T=null)}}else O=!1}var si;if(typeof p=="function")si=function(){p(Ci)};else if(typeof MessageChannel<"u"){var Gi=new MessageChannel,fs=Gi.port2;Gi.port1.onmessage=Ci,si=function(){fs.postMessage(null)}}else si=function(){x(Ci,0)};function ri(b){T=b,O||(O=!0,si())}function qi(b,I){N=x(function(){b(i.unstable_now())},I)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(b){b.callback=null},i.unstable_continueExecution=function(){y||d||(y=!0,ri(k))},i.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):it=0<b?Math.floor(1e3/b):5},i.unstable_getCurrentPriorityLevel=function(){return f},i.unstable_getFirstCallbackNode=function(){return e(a)},i.unstable_next=function(b){switch(f){case 1:case 2:case 3:var I=3;break;default:I=f}var M=f;f=I;try{return b()}finally{f=M}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(b,I){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var M=f;f=b;try{return I()}finally{f=M}},i.unstable_scheduleCallback=function(b,I,M){var S=i.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?S+M:S):M=S,b){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=M+F,b={id:h++,callback:I,priorityLevel:b,startTime:M,expirationTime:F,sortIndex:-1},M>S?(b.sortIndex=M,t(u,b),e(a)===null&&b===e(u)&&(v?(m(N),N=-1):v=!0,qi(_,M-S))):(b.sortIndex=F,t(a,b),y||d||(y=!0,ri(k))),b},i.unstable_shouldYield=Pt,i.unstable_wrapCallback=function(b){var I=f;return function(){var M=f;f=I;try{return b.apply(this,arguments)}finally{f=M}}}})(ny);iy.exports=ny;var Ww=iy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hw=Mt,Ce=Ww;function C(i){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+i,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+i+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sy=new Set,Yr={};function us(i,t){Ys(i,t),Ys(i+"Capture",t)}function Ys(i,t){for(Yr[i]=t,i=0;i<t.length;i++)sy.add(t[i])}var ji=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mh=Object.prototype.hasOwnProperty,Kw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vd={},gd={};function Yw(i){return mh.call(gd,i)?!0:mh.call(vd,i)?!1:Kw.test(i)?gd[i]=!0:(vd[i]=!0,!1)}function Xw(i,t,e,n){if(e!==null&&e.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:e!==null?!e.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function Qw(i,t,e,n){if(t===null||typeof t>"u"||Xw(i,t,e,n))return!0;if(n)return!1;if(e!==null)switch(e.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function re(i,t,e,n,s,r,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=e,this.propertyName=i,this.type=t,this.sanitizeURL=r,this.removeEmptyString=o}var Kt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){Kt[i]=new re(i,0,!1,i,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var t=i[0];Kt[t]=new re(t,1,!1,i[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(i){Kt[i]=new re(i,2,!1,i.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){Kt[i]=new re(i,2,!1,i,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){Kt[i]=new re(i,3,!1,i.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(i){Kt[i]=new re(i,3,!0,i,null,!1,!1)});["capture","download"].forEach(function(i){Kt[i]=new re(i,4,!1,i,null,!1,!1)});["cols","rows","size","span"].forEach(function(i){Kt[i]=new re(i,6,!1,i,null,!1,!1)});["rowSpan","start"].forEach(function(i){Kt[i]=new re(i,5,!1,i.toLowerCase(),null,!1,!1)});var Bc=/[\-:]([a-z])/g;function Oc(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var t=i.replace(Bc,Oc);Kt[t]=new re(t,1,!1,i,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var t=i.replace(Bc,Oc);Kt[t]=new re(t,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(i){var t=i.replace(Bc,Oc);Kt[t]=new re(t,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(i){Kt[i]=new re(i,1,!1,i.toLowerCase(),null,!1,!1)});Kt.xlinkHref=new re("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(i){Kt[i]=new re(i,1,!1,i.toLowerCase(),null,!0,!0)});function zc(i,t,e,n){var s=Kt.hasOwnProperty(t)?Kt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Qw(t,e,s,n)&&(e=null),n||s===null?Yw(t)&&(e===null?i.removeAttribute(t):i.setAttribute(t,""+e)):s.mustUseProperty?i[s.propertyName]=e===null?s.type===3?!1:"":e:(t=s.attributeName,n=s.attributeNamespace,e===null?i.removeAttribute(t):(s=s.type,e=s===3||s===4&&e===!0?"":""+e,n?i.setAttributeNS(n,t,e):i.setAttribute(t,e))))}var Xi=Hw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ao=Symbol.for("react.element"),bs=Symbol.for("react.portal"),_s=Symbol.for("react.fragment"),Dc=Symbol.for("react.strict_mode"),yh=Symbol.for("react.profiler"),ry=Symbol.for("react.provider"),oy=Symbol.for("react.context"),Lc=Symbol.for("react.forward_ref"),vh=Symbol.for("react.suspense"),gh=Symbol.for("react.suspense_list"),Fc=Symbol.for("react.memo"),nn=Symbol.for("react.lazy"),ly=Symbol.for("react.offscreen"),wd=Symbol.iterator;function mr(i){return i===null||typeof i!="object"?null:(i=wd&&i[wd]||i["@@iterator"],typeof i=="function"?i:null)}var kt=Object.assign,vu;function Ir(i){if(vu===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);vu=t&&t[1]||""}return`
`+vu+i}var gu=!1;function wu(i,t){if(!i||gu)return"";gu=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(i,[],t)}else{try{t.call()}catch(u){n=u}i.call(t.prototype)}else{try{throw Error()}catch(u){n=u}i()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),r=n.stack.split(`
`),o=s.length-1,l=r.length-1;1<=o&&0<=l&&s[o]!==r[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==r[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==r[l]){var a=`
`+s[o].replace(" at new "," at ");return i.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",i.displayName)),a}while(1<=o&&0<=l);break}}}finally{gu=!1,Error.prepareStackTrace=e}return(i=i?i.displayName||i.name:"")?Ir(i):""}function Jw(i){switch(i.tag){case 5:return Ir(i.type);case 16:return Ir("Lazy");case 13:return Ir("Suspense");case 19:return Ir("SuspenseList");case 0:case 2:case 15:return i=wu(i.type,!1),i;case 11:return i=wu(i.type.render,!1),i;case 1:return i=wu(i.type,!0),i;default:return""}}function wh(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case _s:return"Fragment";case bs:return"Portal";case yh:return"Profiler";case Dc:return"StrictMode";case vh:return"Suspense";case gh:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case oy:return(i.displayName||"Context")+".Consumer";case ry:return(i._context.displayName||"Context")+".Provider";case Lc:var t=i.render;return i=i.displayName,i||(i=t.displayName||t.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Fc:return t=i.displayName||null,t!==null?t:wh(i.type)||"Memo";case nn:t=i._payload,i=i._init;try{return wh(i(t))}catch{}}return null}function Gw(i){var t=i.type;switch(i.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=t.render,i=i.displayName||i.name||"",t.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wh(t);case 8:return t===Dc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function wn(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function ay(i){var t=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function qw(i){var t=ay(i)?"checked":"value",e=Object.getOwnPropertyDescriptor(i.constructor.prototype,t),n=""+i[t];if(!i.hasOwnProperty(t)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var s=e.get,r=e.set;return Object.defineProperty(i,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,r.call(this,o)}}),Object.defineProperty(i,t,{enumerable:e.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){i._valueTracker=null,delete i[t]}}}}function Po(i){i._valueTracker||(i._valueTracker=qw(i))}function uy(i){if(!i)return!1;var t=i._valueTracker;if(!t)return!0;var e=t.getValue(),n="";return i&&(n=ay(i)?i.checked?"true":"false":i.value),i=n,i!==e?(t.setValue(i),!0):!1}function zl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function bh(i,t){var e=t.checked;return kt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e??i._wrapperState.initialChecked})}function bd(i,t){var e=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;e=wn(t.value!=null?t.value:e),i._wrapperState={initialChecked:n,initialValue:e,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function hy(i,t){t=t.checked,t!=null&&zc(i,"checked",t,!1)}function _h(i,t){hy(i,t);var e=wn(t.value),n=t.type;if(e!=null)n==="number"?(e===0&&i.value===""||i.value!=e)&&(i.value=""+e):i.value!==""+e&&(i.value=""+e);else if(n==="submit"||n==="reset"){i.removeAttribute("value");return}t.hasOwnProperty("value")?Sh(i,t.type,e):t.hasOwnProperty("defaultValue")&&Sh(i,t.type,wn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(i.defaultChecked=!!t.defaultChecked)}function _d(i,t,e){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+i._wrapperState.initialValue,e||t===i.value||(i.value=t),i.defaultValue=t}e=i.name,e!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,e!==""&&(i.name=e)}function Sh(i,t,e){(t!=="number"||zl(i.ownerDocument)!==i)&&(e==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+e&&(i.defaultValue=""+e))}var Er=Array.isArray;function Ls(i,t,e,n){if(i=i.options,t){t={};for(var s=0;s<e.length;s++)t["$"+e[s]]=!0;for(e=0;e<i.length;e++)s=t.hasOwnProperty("$"+i[e].value),i[e].selected!==s&&(i[e].selected=s),s&&n&&(i[e].defaultSelected=!0)}else{for(e=""+wn(e),t=null,s=0;s<i.length;s++){if(i[s].value===e){i[s].selected=!0,n&&(i[s].defaultSelected=!0);return}t!==null||i[s].disabled||(t=i[s])}t!==null&&(t.selected=!0)}}function xh(i,t){if(t.dangerouslySetInnerHTML!=null)throw Error(C(91));return kt({},t,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Sd(i,t){var e=t.value;if(e==null){if(e=t.children,t=t.defaultValue,e!=null){if(t!=null)throw Error(C(92));if(Er(e)){if(1<e.length)throw Error(C(93));e=e[0]}t=e}t==null&&(t=""),e=t}i._wrapperState={initialValue:wn(e)}}function cy(i,t){var e=wn(t.value),n=wn(t.defaultValue);e!=null&&(e=""+e,e!==i.value&&(i.value=e),t.defaultValue==null&&i.defaultValue!==e&&(i.defaultValue=e)),n!=null&&(i.defaultValue=""+n)}function xd(i){var t=i.textContent;t===i._wrapperState.initialValue&&t!==""&&t!==null&&(i.value=t)}function fy(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Mh(i,t){return i==null||i==="http://www.w3.org/1999/xhtml"?fy(t):i==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var $o,dy=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,e,n,s){MSApp.execUnsafeLocalFunction(function(){return i(t,e,n,s)})}:i}(function(i,t){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=t;else{for($o=$o||document.createElement("div"),$o.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=$o.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;t.firstChild;)i.appendChild(t.firstChild)}});function Xr(i,t){if(t){var e=i.firstChild;if(e&&e===i.lastChild&&e.nodeType===3){e.nodeValue=t;return}}i.textContent=t}var Br={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Zw=["Webkit","ms","Moz","O"];Object.keys(Br).forEach(function(i){Zw.forEach(function(t){t=t+i.charAt(0).toUpperCase()+i.substring(1),Br[t]=Br[i]})});function py(i,t,e){return t==null||typeof t=="boolean"||t===""?"":e||typeof t!="number"||t===0||Br.hasOwnProperty(i)&&Br[i]?(""+t).trim():t+"px"}function my(i,t){i=i.style;for(var e in t)if(t.hasOwnProperty(e)){var n=e.indexOf("--")===0,s=py(e,t[e],n);e==="float"&&(e="cssFloat"),n?i.setProperty(e,s):i[e]=s}}var t1=kt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ih(i,t){if(t){if(t1[i]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(C(137,i));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(C(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(C(61))}if(t.style!=null&&typeof t.style!="object")throw Error(C(62))}}function Eh(i,t){if(i.indexOf("-")===-1)return typeof t.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ch=null;function Rc(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var kh=null,Fs=null,Rs=null;function Md(i){if(i=Eo(i)){if(typeof kh!="function")throw Error(C(280));var t=i.stateNode;t&&(t=Pa(t),kh(i.stateNode,i.type,t))}}function yy(i){Fs?Rs?Rs.push(i):Rs=[i]:Fs=i}function vy(){if(Fs){var i=Fs,t=Rs;if(Rs=Fs=null,Md(i),t)for(i=0;i<t.length;i++)Md(t[i])}}function gy(i,t){return i(t)}function wy(){}var bu=!1;function by(i,t,e){if(bu)return i(t,e);bu=!0;try{return gy(i,t,e)}finally{bu=!1,(Fs!==null||Rs!==null)&&(wy(),vy())}}function Qr(i,t){var e=i.stateNode;if(e===null)return null;var n=Pa(e);if(n===null)return null;e=n[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(i=i.type,n=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!n;break t;default:i=!1}if(i)return null;if(e&&typeof e!="function")throw Error(C(231,t,typeof e));return e}var Nh=!1;if(ji)try{var yr={};Object.defineProperty(yr,"passive",{get:function(){Nh=!0}}),window.addEventListener("test",yr,yr),window.removeEventListener("test",yr,yr)}catch{Nh=!1}function e1(i,t,e,n,s,r,o,l,a){var u=Array.prototype.slice.call(arguments,3);try{t.apply(e,u)}catch(h){this.onError(h)}}var Or=!1,Dl=null,Ll=!1,Th=null,i1={onError:function(i){Or=!0,Dl=i}};function n1(i,t,e,n,s,r,o,l,a){Or=!1,Dl=null,e1.apply(i1,arguments)}function s1(i,t,e,n,s,r,o,l,a){if(n1.apply(this,arguments),Or){if(Or){var u=Dl;Or=!1,Dl=null}else throw Error(C(198));Ll||(Ll=!0,Th=u)}}function hs(i){var t=i,e=i;if(i.alternate)for(;t.return;)t=t.return;else{i=t;do t=i,t.flags&4098&&(e=t.return),i=t.return;while(i)}return t.tag===3?e:null}function _y(i){if(i.tag===13){var t=i.memoizedState;if(t===null&&(i=i.alternate,i!==null&&(t=i.memoizedState)),t!==null)return t.dehydrated}return null}function Id(i){if(hs(i)!==i)throw Error(C(188))}function r1(i){var t=i.alternate;if(!t){if(t=hs(i),t===null)throw Error(C(188));return t!==i?null:i}for(var e=i,n=t;;){var s=e.return;if(s===null)break;var r=s.alternate;if(r===null){if(n=s.return,n!==null){e=n;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===e)return Id(s),i;if(r===n)return Id(s),t;r=r.sibling}throw Error(C(188))}if(e.return!==n.return)e=s,n=r;else{for(var o=!1,l=s.child;l;){if(l===e){o=!0,e=s,n=r;break}if(l===n){o=!0,n=s,e=r;break}l=l.sibling}if(!o){for(l=r.child;l;){if(l===e){o=!0,e=r,n=s;break}if(l===n){o=!0,n=r,e=s;break}l=l.sibling}if(!o)throw Error(C(189))}}if(e.alternate!==n)throw Error(C(190))}if(e.tag!==3)throw Error(C(188));return e.stateNode.current===e?i:t}function Sy(i){return i=r1(i),i!==null?xy(i):null}function xy(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var t=xy(i);if(t!==null)return t;i=i.sibling}return null}var My=Ce.unstable_scheduleCallback,Ed=Ce.unstable_cancelCallback,o1=Ce.unstable_shouldYield,l1=Ce.unstable_requestPaint,Bt=Ce.unstable_now,a1=Ce.unstable_getCurrentPriorityLevel,Ac=Ce.unstable_ImmediatePriority,Iy=Ce.unstable_UserBlockingPriority,Fl=Ce.unstable_NormalPriority,u1=Ce.unstable_LowPriority,Ey=Ce.unstable_IdlePriority,La=null,Si=null;function h1(i){if(Si&&typeof Si.onCommitFiberRoot=="function")try{Si.onCommitFiberRoot(La,i,void 0,(i.current.flags&128)===128)}catch{}}var Ge=Math.clz32?Math.clz32:d1,c1=Math.log,f1=Math.LN2;function d1(i){return i>>>=0,i===0?32:31-(c1(i)/f1|0)|0}var Vo=64,Uo=4194304;function Cr(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Rl(i,t){var e=i.pendingLanes;if(e===0)return 0;var n=0,s=i.suspendedLanes,r=i.pingedLanes,o=e&268435455;if(o!==0){var l=o&~s;l!==0?n=Cr(l):(r&=o,r!==0&&(n=Cr(r)))}else o=e&~s,o!==0?n=Cr(o):r!==0&&(n=Cr(r));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,r=t&-t,s>=r||s===16&&(r&4194240)!==0))return t;if(n&4&&(n|=e&16),t=i.entangledLanes,t!==0)for(i=i.entanglements,t&=n;0<t;)e=31-Ge(t),s=1<<e,n|=i[e],t&=~s;return n}function p1(i,t){switch(i){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function m1(i,t){for(var e=i.suspendedLanes,n=i.pingedLanes,s=i.expirationTimes,r=i.pendingLanes;0<r;){var o=31-Ge(r),l=1<<o,a=s[o];a===-1?(!(l&e)||l&n)&&(s[o]=p1(l,t)):a<=t&&(i.expiredLanes|=l),r&=~l}}function Bh(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Cy(){var i=Vo;return Vo<<=1,!(Vo&4194240)&&(Vo=64),i}function _u(i){for(var t=[],e=0;31>e;e++)t.push(i);return t}function Mo(i,t,e){i.pendingLanes|=t,t!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,t=31-Ge(t),i[t]=e}function y1(i,t){var e=i.pendingLanes&~t;i.pendingLanes=t,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=t,i.mutableReadLanes&=t,i.entangledLanes&=t,t=i.entanglements;var n=i.eventTimes;for(i=i.expirationTimes;0<e;){var s=31-Ge(e),r=1<<s;t[s]=0,n[s]=-1,i[s]=-1,e&=~r}}function Pc(i,t){var e=i.entangledLanes|=t;for(i=i.entanglements;e;){var n=31-Ge(e),s=1<<n;s&t|i[n]&t&&(i[n]|=t),e&=~s}}var ct=0;function ky(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Ny,$c,Ty,By,Oy,Oh=!1,jo=[],cn=null,fn=null,dn=null,Jr=new Map,Gr=new Map,ln=[],v1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Cd(i,t){switch(i){case"focusin":case"focusout":cn=null;break;case"dragenter":case"dragleave":fn=null;break;case"mouseover":case"mouseout":dn=null;break;case"pointerover":case"pointerout":Jr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gr.delete(t.pointerId)}}function vr(i,t,e,n,s,r){return i===null||i.nativeEvent!==r?(i={blockedOn:t,domEventName:e,eventSystemFlags:n,nativeEvent:r,targetContainers:[s]},t!==null&&(t=Eo(t),t!==null&&$c(t)),i):(i.eventSystemFlags|=n,t=i.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),i)}function g1(i,t,e,n,s){switch(t){case"focusin":return cn=vr(cn,i,t,e,n,s),!0;case"dragenter":return fn=vr(fn,i,t,e,n,s),!0;case"mouseover":return dn=vr(dn,i,t,e,n,s),!0;case"pointerover":var r=s.pointerId;return Jr.set(r,vr(Jr.get(r)||null,i,t,e,n,s)),!0;case"gotpointercapture":return r=s.pointerId,Gr.set(r,vr(Gr.get(r)||null,i,t,e,n,s)),!0}return!1}function zy(i){var t=Pn(i.target);if(t!==null){var e=hs(t);if(e!==null){if(t=e.tag,t===13){if(t=_y(e),t!==null){i.blockedOn=t,Oy(i.priority,function(){Ty(e)});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){i.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ml(i){if(i.blockedOn!==null)return!1;for(var t=i.targetContainers;0<t.length;){var e=zh(i.domEventName,i.eventSystemFlags,t[0],i.nativeEvent);if(e===null){e=i.nativeEvent;var n=new e.constructor(e.type,e);Ch=n,e.target.dispatchEvent(n),Ch=null}else return t=Eo(e),t!==null&&$c(t),i.blockedOn=e,!1;t.shift()}return!0}function kd(i,t,e){ml(i)&&e.delete(t)}function w1(){Oh=!1,cn!==null&&ml(cn)&&(cn=null),fn!==null&&ml(fn)&&(fn=null),dn!==null&&ml(dn)&&(dn=null),Jr.forEach(kd),Gr.forEach(kd)}function gr(i,t){i.blockedOn===t&&(i.blockedOn=null,Oh||(Oh=!0,Ce.unstable_scheduleCallback(Ce.unstable_NormalPriority,w1)))}function qr(i){function t(s){return gr(s,i)}if(0<jo.length){gr(jo[0],i);for(var e=1;e<jo.length;e++){var n=jo[e];n.blockedOn===i&&(n.blockedOn=null)}}for(cn!==null&&gr(cn,i),fn!==null&&gr(fn,i),dn!==null&&gr(dn,i),Jr.forEach(t),Gr.forEach(t),e=0;e<ln.length;e++)n=ln[e],n.blockedOn===i&&(n.blockedOn=null);for(;0<ln.length&&(e=ln[0],e.blockedOn===null);)zy(e),e.blockedOn===null&&ln.shift()}var As=Xi.ReactCurrentBatchConfig,Al=!0;function b1(i,t,e,n){var s=ct,r=As.transition;As.transition=null;try{ct=1,Vc(i,t,e,n)}finally{ct=s,As.transition=r}}function _1(i,t,e,n){var s=ct,r=As.transition;As.transition=null;try{ct=4,Vc(i,t,e,n)}finally{ct=s,As.transition=r}}function Vc(i,t,e,n){if(Al){var s=zh(i,t,e,n);if(s===null)Bu(i,t,n,Pl,e),Cd(i,n);else if(g1(s,i,t,e,n))n.stopPropagation();else if(Cd(i,n),t&4&&-1<v1.indexOf(i)){for(;s!==null;){var r=Eo(s);if(r!==null&&Ny(r),r=zh(i,t,e,n),r===null&&Bu(i,t,n,Pl,e),r===s)break;s=r}s!==null&&n.stopPropagation()}else Bu(i,t,n,null,e)}}var Pl=null;function zh(i,t,e,n){if(Pl=null,i=Rc(n),i=Pn(i),i!==null)if(t=hs(i),t===null)i=null;else if(e=t.tag,e===13){if(i=_y(t),i!==null)return i;i=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;i=null}else t!==i&&(i=null);return Pl=i,null}function Dy(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(a1()){case Ac:return 1;case Iy:return 4;case Fl:case u1:return 16;case Ey:return 536870912;default:return 16}default:return 16}}var un=null,Uc=null,yl=null;function Ly(){if(yl)return yl;var i,t=Uc,e=t.length,n,s="value"in un?un.value:un.textContent,r=s.length;for(i=0;i<e&&t[i]===s[i];i++);var o=e-i;for(n=1;n<=o&&t[e-n]===s[r-n];n++);return yl=s.slice(i,1<n?1-n:void 0)}function vl(i){var t=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&t===13&&(i=13)):i=t,i===10&&(i=13),32<=i||i===13?i:0}function Wo(){return!0}function Nd(){return!1}function Be(i){function t(e,n,s,r,o){this._reactName=e,this._targetInst=s,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null;for(var l in i)i.hasOwnProperty(l)&&(e=i[l],this[l]=e?e(r):r[l]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?Wo:Nd,this.isPropagationStopped=Nd,this}return kt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=Wo)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=Wo)},persist:function(){},isPersistent:Wo}),t}var hr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jc=Be(hr),Io=kt({},hr,{view:0,detail:0}),S1=Be(Io),Su,xu,wr,Fa=kt({},Io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wc,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==wr&&(wr&&i.type==="mousemove"?(Su=i.screenX-wr.screenX,xu=i.screenY-wr.screenY):xu=Su=0,wr=i),Su)},movementY:function(i){return"movementY"in i?i.movementY:xu}}),Td=Be(Fa),x1=kt({},Fa,{dataTransfer:0}),M1=Be(x1),I1=kt({},Io,{relatedTarget:0}),Mu=Be(I1),E1=kt({},hr,{animationName:0,elapsedTime:0,pseudoElement:0}),C1=Be(E1),k1=kt({},hr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),N1=Be(k1),T1=kt({},hr,{data:0}),Bd=Be(T1),B1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},O1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},z1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function D1(i){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(i):(i=z1[i])?!!t[i]:!1}function Wc(){return D1}var L1=kt({},Io,{key:function(i){if(i.key){var t=B1[i.key]||i.key;if(t!=="Unidentified")return t}return i.type==="keypress"?(i=vl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?O1[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wc,charCode:function(i){return i.type==="keypress"?vl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?vl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),F1=Be(L1),R1=kt({},Fa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Od=Be(R1),A1=kt({},Io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wc}),P1=Be(A1),$1=kt({},hr,{propertyName:0,elapsedTime:0,pseudoElement:0}),V1=Be($1),U1=kt({},Fa,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),j1=Be(U1),W1=[9,13,27,32],Hc=ji&&"CompositionEvent"in window,zr=null;ji&&"documentMode"in document&&(zr=document.documentMode);var H1=ji&&"TextEvent"in window&&!zr,Fy=ji&&(!Hc||zr&&8<zr&&11>=zr),zd=" ",Dd=!1;function Ry(i,t){switch(i){case"keyup":return W1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ay(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ss=!1;function K1(i,t){switch(i){case"compositionend":return Ay(t);case"keypress":return t.which!==32?null:(Dd=!0,zd);case"textInput":return i=t.data,i===zd&&Dd?null:i;default:return null}}function Y1(i,t){if(Ss)return i==="compositionend"||!Hc&&Ry(i,t)?(i=Ly(),yl=Uc=un=null,Ss=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fy&&t.locale!=="ko"?null:t.data;default:return null}}var X1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ld(i){var t=i&&i.nodeName&&i.nodeName.toLowerCase();return t==="input"?!!X1[i.type]:t==="textarea"}function Py(i,t,e,n){yy(n),t=$l(t,"onChange"),0<t.length&&(e=new jc("onChange","change",null,e,n),i.push({event:e,listeners:t}))}var Dr=null,Zr=null;function Q1(i){Jy(i,0)}function Ra(i){var t=Is(i);if(uy(t))return i}function J1(i,t){if(i==="change")return t}var $y=!1;if(ji){var Iu;if(ji){var Eu="oninput"in document;if(!Eu){var Fd=document.createElement("div");Fd.setAttribute("oninput","return;"),Eu=typeof Fd.oninput=="function"}Iu=Eu}else Iu=!1;$y=Iu&&(!document.documentMode||9<document.documentMode)}function Rd(){Dr&&(Dr.detachEvent("onpropertychange",Vy),Zr=Dr=null)}function Vy(i){if(i.propertyName==="value"&&Ra(Zr)){var t=[];Py(t,Zr,i,Rc(i)),by(Q1,t)}}function G1(i,t,e){i==="focusin"?(Rd(),Dr=t,Zr=e,Dr.attachEvent("onpropertychange",Vy)):i==="focusout"&&Rd()}function q1(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ra(Zr)}function Z1(i,t){if(i==="click")return Ra(t)}function tb(i,t){if(i==="input"||i==="change")return Ra(t)}function eb(i,t){return i===t&&(i!==0||1/i===1/t)||i!==i&&t!==t}var ti=typeof Object.is=="function"?Object.is:eb;function to(i,t){if(ti(i,t))return!0;if(typeof i!="object"||i===null||typeof t!="object"||t===null)return!1;var e=Object.keys(i),n=Object.keys(t);if(e.length!==n.length)return!1;for(n=0;n<e.length;n++){var s=e[n];if(!mh.call(t,s)||!ti(i[s],t[s]))return!1}return!0}function Ad(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function Pd(i,t){var e=Ad(i);i=0;for(var n;e;){if(e.nodeType===3){if(n=i+e.textContent.length,i<=t&&n>=t)return{node:e,offset:t-i};i=n}t:{for(;e;){if(e.nextSibling){e=e.nextSibling;break t}e=e.parentNode}e=void 0}e=Ad(e)}}function Uy(i,t){return i&&t?i===t?!0:i&&i.nodeType===3?!1:t&&t.nodeType===3?Uy(i,t.parentNode):"contains"in i?i.contains(t):i.compareDocumentPosition?!!(i.compareDocumentPosition(t)&16):!1:!1}function jy(){for(var i=window,t=zl();t instanceof i.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)i=t.contentWindow;else break;t=zl(i.document)}return t}function Kc(i){var t=i&&i.nodeName&&i.nodeName.toLowerCase();return t&&(t==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||t==="textarea"||i.contentEditable==="true")}function ib(i){var t=jy(),e=i.focusedElem,n=i.selectionRange;if(t!==e&&e&&e.ownerDocument&&Uy(e.ownerDocument.documentElement,e)){if(n!==null&&Kc(e)){if(t=n.start,i=n.end,i===void 0&&(i=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(i,e.value.length);else if(i=(t=e.ownerDocument||document)&&t.defaultView||window,i.getSelection){i=i.getSelection();var s=e.textContent.length,r=Math.min(n.start,s);n=n.end===void 0?r:Math.min(n.end,s),!i.extend&&r>n&&(s=n,n=r,r=s),s=Pd(e,r);var o=Pd(e,n);s&&o&&(i.rangeCount!==1||i.anchorNode!==s.node||i.anchorOffset!==s.offset||i.focusNode!==o.node||i.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),i.removeAllRanges(),r>n?(i.addRange(t),i.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),i.addRange(t)))}}for(t=[],i=e;i=i.parentNode;)i.nodeType===1&&t.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)i=t[e],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var nb=ji&&"documentMode"in document&&11>=document.documentMode,xs=null,Dh=null,Lr=null,Lh=!1;function $d(i,t,e){var n=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;Lh||xs==null||xs!==zl(n)||(n=xs,"selectionStart"in n&&Kc(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Lr&&to(Lr,n)||(Lr=n,n=$l(Dh,"onSelect"),0<n.length&&(t=new jc("onSelect","select",null,t,e),i.push({event:t,listeners:n}),t.target=xs)))}function Ho(i,t){var e={};return e[i.toLowerCase()]=t.toLowerCase(),e["Webkit"+i]="webkit"+t,e["Moz"+i]="moz"+t,e}var Ms={animationend:Ho("Animation","AnimationEnd"),animationiteration:Ho("Animation","AnimationIteration"),animationstart:Ho("Animation","AnimationStart"),transitionend:Ho("Transition","TransitionEnd")},Cu={},Wy={};ji&&(Wy=document.createElement("div").style,"AnimationEvent"in window||(delete Ms.animationend.animation,delete Ms.animationiteration.animation,delete Ms.animationstart.animation),"TransitionEvent"in window||delete Ms.transitionend.transition);function Aa(i){if(Cu[i])return Cu[i];if(!Ms[i])return i;var t=Ms[i],e;for(e in t)if(t.hasOwnProperty(e)&&e in Wy)return Cu[i]=t[e];return i}var Hy=Aa("animationend"),Ky=Aa("animationiteration"),Yy=Aa("animationstart"),Xy=Aa("transitionend"),Qy=new Map,Vd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function kn(i,t){Qy.set(i,t),us(t,[i])}for(var ku=0;ku<Vd.length;ku++){var Nu=Vd[ku],sb=Nu.toLowerCase(),rb=Nu[0].toUpperCase()+Nu.slice(1);kn(sb,"on"+rb)}kn(Hy,"onAnimationEnd");kn(Ky,"onAnimationIteration");kn(Yy,"onAnimationStart");kn("dblclick","onDoubleClick");kn("focusin","onFocus");kn("focusout","onBlur");kn(Xy,"onTransitionEnd");Ys("onMouseEnter",["mouseout","mouseover"]);Ys("onMouseLeave",["mouseout","mouseover"]);Ys("onPointerEnter",["pointerout","pointerover"]);Ys("onPointerLeave",["pointerout","pointerover"]);us("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));us("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));us("onBeforeInput",["compositionend","keypress","textInput","paste"]);us("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));us("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));us("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ob=new Set("cancel close invalid load scroll toggle".split(" ").concat(kr));function Ud(i,t,e){var n=i.type||"unknown-event";i.currentTarget=e,s1(n,t,void 0,i),i.currentTarget=null}function Jy(i,t){t=(t&4)!==0;for(var e=0;e<i.length;e++){var n=i[e],s=n.event;n=n.listeners;t:{var r=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],a=l.instance,u=l.currentTarget;if(l=l.listener,a!==r&&s.isPropagationStopped())break t;Ud(s,l,u),r=a}else for(o=0;o<n.length;o++){if(l=n[o],a=l.instance,u=l.currentTarget,l=l.listener,a!==r&&s.isPropagationStopped())break t;Ud(s,l,u),r=a}}}if(Ll)throw i=Th,Ll=!1,Th=null,i}function gt(i,t){var e=t[$h];e===void 0&&(e=t[$h]=new Set);var n=i+"__bubble";e.has(n)||(Gy(t,i,2,!1),e.add(n))}function Tu(i,t,e){var n=0;t&&(n|=4),Gy(e,i,n,t)}var Ko="_reactListening"+Math.random().toString(36).slice(2);function eo(i){if(!i[Ko]){i[Ko]=!0,sy.forEach(function(e){e!=="selectionchange"&&(ob.has(e)||Tu(e,!1,i),Tu(e,!0,i))});var t=i.nodeType===9?i:i.ownerDocument;t===null||t[Ko]||(t[Ko]=!0,Tu("selectionchange",!1,t))}}function Gy(i,t,e,n){switch(Dy(t)){case 1:var s=b1;break;case 4:s=_1;break;default:s=Vc}e=s.bind(null,t,e,i),s=void 0,!Nh||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?i.addEventListener(t,e,{capture:!0,passive:s}):i.addEventListener(t,e,!0):s!==void 0?i.addEventListener(t,e,{passive:s}):i.addEventListener(t,e,!1)}function Bu(i,t,e,n,s){var r=n;if(!(t&1)&&!(t&2)&&n!==null)t:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var a=o.tag;if((a===3||a===4)&&(a=o.stateNode.containerInfo,a===s||a.nodeType===8&&a.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Pn(l),o===null)return;if(a=o.tag,a===5||a===6){n=r=o;continue t}l=l.parentNode}}n=n.return}by(function(){var u=r,h=Rc(e),c=[];t:{var f=Qy.get(i);if(f!==void 0){var d=jc,y=i;switch(i){case"keypress":if(vl(e)===0)break t;case"keydown":case"keyup":d=F1;break;case"focusin":y="focus",d=Mu;break;case"focusout":y="blur",d=Mu;break;case"beforeblur":case"afterblur":d=Mu;break;case"click":if(e.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Td;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=M1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=P1;break;case Hy:case Ky:case Yy:d=C1;break;case Xy:d=V1;break;case"scroll":d=S1;break;case"wheel":d=j1;break;case"copy":case"cut":case"paste":d=N1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=Od}var v=(t&4)!==0,x=!v&&i==="scroll",m=v?f!==null?f+"Capture":null:f;v=[];for(var p=u,g;p!==null;){g=p;var _=g.stateNode;if(g.tag===5&&_!==null&&(g=_,m!==null&&(_=Qr(p,m),_!=null&&v.push(io(p,_,g)))),x)break;p=p.return}0<v.length&&(f=new d(f,y,null,e,h),c.push({event:f,listeners:v}))}}if(!(t&7)){t:{if(f=i==="mouseover"||i==="pointerover",d=i==="mouseout"||i==="pointerout",f&&e!==Ch&&(y=e.relatedTarget||e.fromElement)&&(Pn(y)||y[Wi]))break t;if((d||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,d?(y=e.relatedTarget||e.toElement,d=u,y=y?Pn(y):null,y!==null&&(x=hs(y),y!==x||y.tag!==5&&y.tag!==6)&&(y=null)):(d=null,y=u),d!==y)){if(v=Td,_="onMouseLeave",m="onMouseEnter",p="mouse",(i==="pointerout"||i==="pointerover")&&(v=Od,_="onPointerLeave",m="onPointerEnter",p="pointer"),x=d==null?f:Is(d),g=y==null?f:Is(y),f=new v(_,p+"leave",d,e,h),f.target=x,f.relatedTarget=g,_=null,Pn(h)===u&&(v=new v(m,p+"enter",y,e,h),v.target=g,v.relatedTarget=x,_=v),x=_,d&&y)e:{for(v=d,m=y,p=0,g=v;g;g=ds(g))p++;for(g=0,_=m;_;_=ds(_))g++;for(;0<p-g;)v=ds(v),p--;for(;0<g-p;)m=ds(m),g--;for(;p--;){if(v===m||m!==null&&v===m.alternate)break e;v=ds(v),m=ds(m)}v=null}else v=null;d!==null&&jd(c,f,d,v,!1),y!==null&&x!==null&&jd(c,x,y,v,!0)}}t:{if(f=u?Is(u):window,d=f.nodeName&&f.nodeName.toLowerCase(),d==="select"||d==="input"&&f.type==="file")var k=J1;else if(Ld(f))if($y)k=tb;else{k=q1;var O=G1}else(d=f.nodeName)&&d.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=Z1);if(k&&(k=k(i,u))){Py(c,k,e,h);break t}O&&O(i,f,u),i==="focusout"&&(O=f._wrapperState)&&O.controlled&&f.type==="number"&&Sh(f,"number",f.value)}switch(O=u?Is(u):window,i){case"focusin":(Ld(O)||O.contentEditable==="true")&&(xs=O,Dh=u,Lr=null);break;case"focusout":Lr=Dh=xs=null;break;case"mousedown":Lh=!0;break;case"contextmenu":case"mouseup":case"dragend":Lh=!1,$d(c,e,h);break;case"selectionchange":if(nb)break;case"keydown":case"keyup":$d(c,e,h)}var T;if(Hc)t:{switch(i){case"compositionstart":var N="onCompositionStart";break t;case"compositionend":N="onCompositionEnd";break t;case"compositionupdate":N="onCompositionUpdate";break t}N=void 0}else Ss?Ry(i,e)&&(N="onCompositionEnd"):i==="keydown"&&e.keyCode===229&&(N="onCompositionStart");N&&(Fy&&e.locale!=="ko"&&(Ss||N!=="onCompositionStart"?N==="onCompositionEnd"&&Ss&&(T=Ly()):(un=h,Uc="value"in un?un.value:un.textContent,Ss=!0)),O=$l(u,N),0<O.length&&(N=new Bd(N,i,null,e,h),c.push({event:N,listeners:O}),T?N.data=T:(T=Ay(e),T!==null&&(N.data=T)))),(T=H1?K1(i,e):Y1(i,e))&&(u=$l(u,"onBeforeInput"),0<u.length&&(h=new Bd("onBeforeInput","beforeinput",null,e,h),c.push({event:h,listeners:u}),h.data=T))}Jy(c,t)})}function io(i,t,e){return{instance:i,listener:t,currentTarget:e}}function $l(i,t){for(var e=t+"Capture",n=[];i!==null;){var s=i,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=Qr(i,e),r!=null&&n.unshift(io(i,r,s)),r=Qr(i,t),r!=null&&n.push(io(i,r,s))),i=i.return}return n}function ds(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function jd(i,t,e,n,s){for(var r=t._reactName,o=[];e!==null&&e!==n;){var l=e,a=l.alternate,u=l.stateNode;if(a!==null&&a===n)break;l.tag===5&&u!==null&&(l=u,s?(a=Qr(e,r),a!=null&&o.unshift(io(e,a,l))):s||(a=Qr(e,r),a!=null&&o.push(io(e,a,l)))),e=e.return}o.length!==0&&i.push({event:t,listeners:o})}var lb=/\r\n?/g,ab=/\u0000|\uFFFD/g;function Wd(i){return(typeof i=="string"?i:""+i).replace(lb,`
`).replace(ab,"")}function Yo(i,t,e){if(t=Wd(t),Wd(i)!==t&&e)throw Error(C(425))}function Vl(){}var Fh=null,Rh=null;function Ah(i,t){return i==="textarea"||i==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ph=typeof setTimeout=="function"?setTimeout:void 0,ub=typeof clearTimeout=="function"?clearTimeout:void 0,Hd=typeof Promise=="function"?Promise:void 0,hb=typeof queueMicrotask=="function"?queueMicrotask:typeof Hd<"u"?function(i){return Hd.resolve(null).then(i).catch(cb)}:Ph;function cb(i){setTimeout(function(){throw i})}function Ou(i,t){var e=t,n=0;do{var s=e.nextSibling;if(i.removeChild(e),s&&s.nodeType===8)if(e=s.data,e==="/$"){if(n===0){i.removeChild(s),qr(t);return}n--}else e!=="$"&&e!=="$?"&&e!=="$!"||n++;e=s}while(e);qr(t)}function pn(i){for(;i!=null;i=i.nextSibling){var t=i.nodeType;if(t===1||t===3)break;if(t===8){if(t=i.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return i}function Kd(i){i=i.previousSibling;for(var t=0;i;){if(i.nodeType===8){var e=i.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return i;t--}else e==="/$"&&t++}i=i.previousSibling}return null}var cr=Math.random().toString(36).slice(2),fi="__reactFiber$"+cr,no="__reactProps$"+cr,Wi="__reactContainer$"+cr,$h="__reactEvents$"+cr,fb="__reactListeners$"+cr,db="__reactHandles$"+cr;function Pn(i){var t=i[fi];if(t)return t;for(var e=i.parentNode;e;){if(t=e[Wi]||e[fi]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(i=Kd(i);i!==null;){if(e=i[fi])return e;i=Kd(i)}return t}i=e,e=i.parentNode}return null}function Eo(i){return i=i[fi]||i[Wi],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Is(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(C(33))}function Pa(i){return i[no]||null}var Vh=[],Es=-1;function Nn(i){return{current:i}}function bt(i){0>Es||(i.current=Vh[Es],Vh[Es]=null,Es--)}function vt(i,t){Es++,Vh[Es]=i.current,i.current=t}var bn={},Jt=Nn(bn),de=Nn(!1),Zn=bn;function Xs(i,t){var e=i.type.contextTypes;if(!e)return bn;var n=i.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in e)s[r]=t[r];return n&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=t,i.__reactInternalMemoizedMaskedChildContext=s),s}function pe(i){return i=i.childContextTypes,i!=null}function Ul(){bt(de),bt(Jt)}function Yd(i,t,e){if(Jt.current!==bn)throw Error(C(168));vt(Jt,t),vt(de,e)}function qy(i,t,e){var n=i.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return e;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(C(108,Gw(i)||"Unknown",s));return kt({},e,n)}function jl(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||bn,Zn=Jt.current,vt(Jt,i),vt(de,de.current),!0}function Xd(i,t,e){var n=i.stateNode;if(!n)throw Error(C(169));e?(i=qy(i,t,Zn),n.__reactInternalMemoizedMergedChildContext=i,bt(de),bt(Jt),vt(Jt,i)):bt(de),vt(de,e)}var zi=null,$a=!1,zu=!1;function Zy(i){zi===null?zi=[i]:zi.push(i)}function pb(i){$a=!0,Zy(i)}function Tn(){if(!zu&&zi!==null){zu=!0;var i=0,t=ct;try{var e=zi;for(ct=1;i<e.length;i++){var n=e[i];do n=n(!0);while(n!==null)}zi=null,$a=!1}catch(s){throw zi!==null&&(zi=zi.slice(i+1)),My(Ac,Tn),s}finally{ct=t,zu=!1}}return null}var Cs=[],ks=0,Wl=null,Hl=0,Re=[],Ae=0,ts=null,Fi=1,Ri="";function Fn(i,t){Cs[ks++]=Hl,Cs[ks++]=Wl,Wl=i,Hl=t}function tv(i,t,e){Re[Ae++]=Fi,Re[Ae++]=Ri,Re[Ae++]=ts,ts=i;var n=Fi;i=Ri;var s=32-Ge(n)-1;n&=~(1<<s),e+=1;var r=32-Ge(t)+s;if(30<r){var o=s-s%5;r=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Fi=1<<32-Ge(t)+s|e<<s|n,Ri=r+i}else Fi=1<<r|e<<s|n,Ri=i}function Yc(i){i.return!==null&&(Fn(i,1),tv(i,1,0))}function Xc(i){for(;i===Wl;)Wl=Cs[--ks],Cs[ks]=null,Hl=Cs[--ks],Cs[ks]=null;for(;i===ts;)ts=Re[--Ae],Re[Ae]=null,Ri=Re[--Ae],Re[Ae]=null,Fi=Re[--Ae],Re[Ae]=null}var Ee=null,Ie=null,St=!1,Je=null;function ev(i,t){var e=Ve(5,null,null,0);e.elementType="DELETED",e.stateNode=t,e.return=i,t=i.deletions,t===null?(i.deletions=[e],i.flags|=16):t.push(e)}function Qd(i,t){switch(i.tag){case 5:var e=i.type;return t=t.nodeType!==1||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(i.stateNode=t,Ee=i,Ie=pn(t.firstChild),!0):!1;case 6:return t=i.pendingProps===""||t.nodeType!==3?null:t,t!==null?(i.stateNode=t,Ee=i,Ie=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(e=ts!==null?{id:Fi,overflow:Ri}:null,i.memoizedState={dehydrated:t,treeContext:e,retryLane:1073741824},e=Ve(18,null,null,0),e.stateNode=t,e.return=i,i.child=e,Ee=i,Ie=null,!0):!1;default:return!1}}function Uh(i){return(i.mode&1)!==0&&(i.flags&128)===0}function jh(i){if(St){var t=Ie;if(t){var e=t;if(!Qd(i,t)){if(Uh(i))throw Error(C(418));t=pn(e.nextSibling);var n=Ee;t&&Qd(i,t)?ev(n,e):(i.flags=i.flags&-4097|2,St=!1,Ee=i)}}else{if(Uh(i))throw Error(C(418));i.flags=i.flags&-4097|2,St=!1,Ee=i}}}function Jd(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Ee=i}function Xo(i){if(i!==Ee)return!1;if(!St)return Jd(i),St=!0,!1;var t;if((t=i.tag!==3)&&!(t=i.tag!==5)&&(t=i.type,t=t!=="head"&&t!=="body"&&!Ah(i.type,i.memoizedProps)),t&&(t=Ie)){if(Uh(i))throw iv(),Error(C(418));for(;t;)ev(i,t),t=pn(t.nextSibling)}if(Jd(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(C(317));t:{for(i=i.nextSibling,t=0;i;){if(i.nodeType===8){var e=i.data;if(e==="/$"){if(t===0){Ie=pn(i.nextSibling);break t}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++}i=i.nextSibling}Ie=null}}else Ie=Ee?pn(i.stateNode.nextSibling):null;return!0}function iv(){for(var i=Ie;i;)i=pn(i.nextSibling)}function Qs(){Ie=Ee=null,St=!1}function Qc(i){Je===null?Je=[i]:Je.push(i)}var mb=Xi.ReactCurrentBatchConfig;function br(i,t,e){if(i=e.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(C(309));var n=e.stateNode}if(!n)throw Error(C(147,i));var s=n,r=""+i;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===r?t.ref:(t=function(o){var l=s.refs;o===null?delete l[r]:l[r]=o},t._stringRef=r,t)}if(typeof i!="string")throw Error(C(284));if(!e._owner)throw Error(C(290,i))}return i}function Qo(i,t){throw i=Object.prototype.toString.call(t),Error(C(31,i==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":i))}function Gd(i){var t=i._init;return t(i._payload)}function nv(i){function t(m,p){if(i){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function e(m,p){if(!i)return null;for(;p!==null;)t(m,p),p=p.sibling;return null}function n(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=gn(m,p),m.index=0,m.sibling=null,m}function r(m,p,g){return m.index=g,i?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return i&&m.alternate===null&&(m.flags|=2),m}function l(m,p,g,_){return p===null||p.tag!==6?(p=$u(g,m.mode,_),p.return=m,p):(p=s(p,g),p.return=m,p)}function a(m,p,g,_){var k=g.type;return k===_s?h(m,p,g.props.children,_,g.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===nn&&Gd(k)===p.type)?(_=s(p,g.props),_.ref=br(m,p,g),_.return=m,_):(_=Ml(g.type,g.key,g.props,null,m.mode,_),_.ref=br(m,p,g),_.return=m,_)}function u(m,p,g,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Vu(g,m.mode,_),p.return=m,p):(p=s(p,g.children||[]),p.return=m,p)}function h(m,p,g,_,k){return p===null||p.tag!==7?(p=Qn(g,m.mode,_,k),p.return=m,p):(p=s(p,g),p.return=m,p)}function c(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=$u(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Ao:return g=Ml(p.type,p.key,p.props,null,m.mode,g),g.ref=br(m,null,p),g.return=m,g;case bs:return p=Vu(p,m.mode,g),p.return=m,p;case nn:var _=p._init;return c(m,_(p._payload),g)}if(Er(p)||mr(p))return p=Qn(p,m.mode,g,null),p.return=m,p;Qo(m,p)}return null}function f(m,p,g,_){var k=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return k!==null?null:l(m,p,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ao:return g.key===k?a(m,p,g,_):null;case bs:return g.key===k?u(m,p,g,_):null;case nn:return k=g._init,f(m,p,k(g._payload),_)}if(Er(g)||mr(g))return k!==null?null:h(m,p,g,_,null);Qo(m,g)}return null}function d(m,p,g,_,k){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(g)||null,l(p,m,""+_,k);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ao:return m=m.get(_.key===null?g:_.key)||null,a(p,m,_,k);case bs:return m=m.get(_.key===null?g:_.key)||null,u(p,m,_,k);case nn:var O=_._init;return d(m,p,g,O(_._payload),k)}if(Er(_)||mr(_))return m=m.get(g)||null,h(p,m,_,k,null);Qo(p,_)}return null}function y(m,p,g,_){for(var k=null,O=null,T=p,N=p=0,it=null;T!==null&&N<g.length;N++){T.index>N?(it=T,T=null):it=T.sibling;var R=f(m,T,g[N],_);if(R===null){T===null&&(T=it);break}i&&T&&R.alternate===null&&t(m,T),p=r(R,p,N),O===null?k=R:O.sibling=R,O=R,T=it}if(N===g.length)return e(m,T),St&&Fn(m,N),k;if(T===null){for(;N<g.length;N++)T=c(m,g[N],_),T!==null&&(p=r(T,p,N),O===null?k=T:O.sibling=T,O=T);return St&&Fn(m,N),k}for(T=n(m,T);N<g.length;N++)it=d(T,m,N,g[N],_),it!==null&&(i&&it.alternate!==null&&T.delete(it.key===null?N:it.key),p=r(it,p,N),O===null?k=it:O.sibling=it,O=it);return i&&T.forEach(function(Pt){return t(m,Pt)}),St&&Fn(m,N),k}function v(m,p,g,_){var k=mr(g);if(typeof k!="function")throw Error(C(150));if(g=k.call(g),g==null)throw Error(C(151));for(var O=k=null,T=p,N=p=0,it=null,R=g.next();T!==null&&!R.done;N++,R=g.next()){T.index>N?(it=T,T=null):it=T.sibling;var Pt=f(m,T,R.value,_);if(Pt===null){T===null&&(T=it);break}i&&T&&Pt.alternate===null&&t(m,T),p=r(Pt,p,N),O===null?k=Pt:O.sibling=Pt,O=Pt,T=it}if(R.done)return e(m,T),St&&Fn(m,N),k;if(T===null){for(;!R.done;N++,R=g.next())R=c(m,R.value,_),R!==null&&(p=r(R,p,N),O===null?k=R:O.sibling=R,O=R);return St&&Fn(m,N),k}for(T=n(m,T);!R.done;N++,R=g.next())R=d(T,m,N,R.value,_),R!==null&&(i&&R.alternate!==null&&T.delete(R.key===null?N:R.key),p=r(R,p,N),O===null?k=R:O.sibling=R,O=R);return i&&T.forEach(function(Ci){return t(m,Ci)}),St&&Fn(m,N),k}function x(m,p,g,_){if(typeof g=="object"&&g!==null&&g.type===_s&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ao:t:{for(var k=g.key,O=p;O!==null;){if(O.key===k){if(k=g.type,k===_s){if(O.tag===7){e(m,O.sibling),p=s(O,g.props.children),p.return=m,m=p;break t}}else if(O.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===nn&&Gd(k)===O.type){e(m,O.sibling),p=s(O,g.props),p.ref=br(m,O,g),p.return=m,m=p;break t}e(m,O);break}else t(m,O);O=O.sibling}g.type===_s?(p=Qn(g.props.children,m.mode,_,g.key),p.return=m,m=p):(_=Ml(g.type,g.key,g.props,null,m.mode,_),_.ref=br(m,p,g),_.return=m,m=_)}return o(m);case bs:t:{for(O=g.key;p!==null;){if(p.key===O)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){e(m,p.sibling),p=s(p,g.children||[]),p.return=m,m=p;break t}else{e(m,p);break}else t(m,p);p=p.sibling}p=Vu(g,m.mode,_),p.return=m,m=p}return o(m);case nn:return O=g._init,x(m,p,O(g._payload),_)}if(Er(g))return y(m,p,g,_);if(mr(g))return v(m,p,g,_);Qo(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(e(m,p.sibling),p=s(p,g),p.return=m,m=p):(e(m,p),p=$u(g,m.mode,_),p.return=m,m=p),o(m)):e(m,p)}return x}var Js=nv(!0),sv=nv(!1),Kl=Nn(null),Yl=null,Ns=null,Jc=null;function Gc(){Jc=Ns=Yl=null}function qc(i){var t=Kl.current;bt(Kl),i._currentValue=t}function Wh(i,t,e){for(;i!==null;){var n=i.alternate;if((i.childLanes&t)!==t?(i.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),i===e)break;i=i.return}}function Ps(i,t){Yl=i,Jc=Ns=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&t&&(fe=!0),i.firstContext=null)}function je(i){var t=i._currentValue;if(Jc!==i)if(i={context:i,memoizedValue:t,next:null},Ns===null){if(Yl===null)throw Error(C(308));Ns=i,Yl.dependencies={lanes:0,firstContext:i}}else Ns=Ns.next=i;return t}var $n=null;function Zc(i){$n===null?$n=[i]:$n.push(i)}function rv(i,t,e,n){var s=t.interleaved;return s===null?(e.next=e,Zc(t)):(e.next=s.next,s.next=e),t.interleaved=e,Hi(i,n)}function Hi(i,t){i.lanes|=t;var e=i.alternate;for(e!==null&&(e.lanes|=t),e=i,i=i.return;i!==null;)i.childLanes|=t,e=i.alternate,e!==null&&(e.childLanes|=t),e=i,i=i.return;return e.tag===3?e.stateNode:null}var sn=!1;function tf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ov(i,t){i=i.updateQueue,t.updateQueue===i&&(t.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function $i(i,t){return{eventTime:i,lane:t,tag:0,payload:null,callback:null,next:null}}function mn(i,t,e){var n=i.updateQueue;if(n===null)return null;if(n=n.shared,st&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Hi(i,e)}return s=n.interleaved,s===null?(t.next=t,Zc(n)):(t.next=s.next,s.next=t),n.interleaved=t,Hi(i,e)}function gl(i,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194240)!==0)){var n=t.lanes;n&=i.pendingLanes,e|=n,t.lanes=e,Pc(i,e)}}function qd(i,t){var e=i.updateQueue,n=i.alternate;if(n!==null&&(n=n.updateQueue,e===n)){var s=null,r=null;if(e=e.firstBaseUpdate,e!==null){do{var o={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};r===null?s=r=o:r=r.next=o,e=e.next}while(e!==null);r===null?s=r=t:r=r.next=t}else s=r=t;e={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:n.shared,effects:n.effects},i.updateQueue=e;return}i=e.lastBaseUpdate,i===null?e.firstBaseUpdate=t:i.next=t,e.lastBaseUpdate=t}function Xl(i,t,e,n){var s=i.updateQueue;sn=!1;var r=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var a=l,u=a.next;a.next=null,o===null?r=u:o.next=u,o=a;var h=i.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=u:l.next=u,h.lastBaseUpdate=a))}if(r!==null){var c=s.baseState;o=0,h=u=a=null,l=r;do{var f=l.lane,d=l.eventTime;if((n&f)===f){h!==null&&(h=h.next={eventTime:d,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});t:{var y=i,v=l;switch(f=t,d=e,v.tag){case 1:if(y=v.payload,typeof y=="function"){c=y.call(d,c,f);break t}c=y;break t;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,f=typeof y=="function"?y.call(d,c,f):y,f==null)break t;c=kt({},c,f);break t;case 2:sn=!0}}l.callback!==null&&l.lane!==0&&(i.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else d={eventTime:d,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(u=h=d,a=c):h=h.next=d,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(!0);if(h===null&&(a=c),s.baseState=a,s.firstBaseUpdate=u,s.lastBaseUpdate=h,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else r===null&&(s.shared.lanes=0);is|=o,i.lanes=o,i.memoizedState=c}}function Zd(i,t,e){if(i=t.effects,t.effects=null,i!==null)for(t=0;t<i.length;t++){var n=i[t],s=n.callback;if(s!==null){if(n.callback=null,n=e,typeof s!="function")throw Error(C(191,s));s.call(n)}}}var Co={},xi=Nn(Co),so=Nn(Co),ro=Nn(Co);function Vn(i){if(i===Co)throw Error(C(174));return i}function ef(i,t){switch(vt(ro,t),vt(so,i),vt(xi,Co),i=t.nodeType,i){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Mh(null,"");break;default:i=i===8?t.parentNode:t,t=i.namespaceURI||null,i=i.tagName,t=Mh(t,i)}bt(xi),vt(xi,t)}function Gs(){bt(xi),bt(so),bt(ro)}function lv(i){Vn(ro.current);var t=Vn(xi.current),e=Mh(t,i.type);t!==e&&(vt(so,i),vt(xi,e))}function nf(i){so.current===i&&(bt(xi),bt(so))}var It=Nn(0);function Ql(i){for(var t=i;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break;for(;t.sibling===null;){if(t.return===null||t.return===i)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Du=[];function sf(){for(var i=0;i<Du.length;i++)Du[i]._workInProgressVersionPrimary=null;Du.length=0}var wl=Xi.ReactCurrentDispatcher,Lu=Xi.ReactCurrentBatchConfig,es=0,Ct=null,Lt=null,$t=null,Jl=!1,Fr=!1,oo=0,yb=0;function Yt(){throw Error(C(321))}function rf(i,t){if(t===null)return!1;for(var e=0;e<t.length&&e<i.length;e++)if(!ti(i[e],t[e]))return!1;return!0}function of(i,t,e,n,s,r){if(es=r,Ct=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,wl.current=i===null||i.memoizedState===null?bb:_b,i=e(n,s),Fr){r=0;do{if(Fr=!1,oo=0,25<=r)throw Error(C(301));r+=1,$t=Lt=null,t.updateQueue=null,wl.current=Sb,i=e(n,s)}while(Fr)}if(wl.current=Gl,t=Lt!==null&&Lt.next!==null,es=0,$t=Lt=Ct=null,Jl=!1,t)throw Error(C(300));return i}function lf(){var i=oo!==0;return oo=0,i}function ui(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?Ct.memoizedState=$t=i:$t=$t.next=i,$t}function We(){if(Lt===null){var i=Ct.alternate;i=i!==null?i.memoizedState:null}else i=Lt.next;var t=$t===null?Ct.memoizedState:$t.next;if(t!==null)$t=t,Lt=i;else{if(i===null)throw Error(C(310));Lt=i,i={memoizedState:Lt.memoizedState,baseState:Lt.baseState,baseQueue:Lt.baseQueue,queue:Lt.queue,next:null},$t===null?Ct.memoizedState=$t=i:$t=$t.next=i}return $t}function lo(i,t){return typeof t=="function"?t(i):t}function Fu(i){var t=We(),e=t.queue;if(e===null)throw Error(C(311));e.lastRenderedReducer=i;var n=Lt,s=n.baseQueue,r=e.pending;if(r!==null){if(s!==null){var o=s.next;s.next=r.next,r.next=o}n.baseQueue=s=r,e.pending=null}if(s!==null){r=s.next,n=n.baseState;var l=o=null,a=null,u=r;do{var h=u.lane;if((es&h)===h)a!==null&&(a=a.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:i(n,u.action);else{var c={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};a===null?(l=a=c,o=n):a=a.next=c,Ct.lanes|=h,is|=h}u=u.next}while(u!==null&&u!==r);a===null?o=n:a.next=l,ti(n,t.memoizedState)||(fe=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=a,e.lastRenderedState=n}if(i=e.interleaved,i!==null){s=i;do r=s.lane,Ct.lanes|=r,is|=r,s=s.next;while(s!==i)}else s===null&&(e.lanes=0);return[t.memoizedState,e.dispatch]}function Ru(i){var t=We(),e=t.queue;if(e===null)throw Error(C(311));e.lastRenderedReducer=i;var n=e.dispatch,s=e.pending,r=t.memoizedState;if(s!==null){e.pending=null;var o=s=s.next;do r=i(r,o.action),o=o.next;while(o!==s);ti(r,t.memoizedState)||(fe=!0),t.memoizedState=r,t.baseQueue===null&&(t.baseState=r),e.lastRenderedState=r}return[r,n]}function av(){}function uv(i,t){var e=Ct,n=We(),s=t(),r=!ti(n.memoizedState,s);if(r&&(n.memoizedState=s,fe=!0),n=n.queue,af(fv.bind(null,e,n,i),[i]),n.getSnapshot!==t||r||$t!==null&&$t.memoizedState.tag&1){if(e.flags|=2048,ao(9,cv.bind(null,e,n,s,t),void 0,null),Vt===null)throw Error(C(349));es&30||hv(e,t,s)}return s}function hv(i,t,e){i.flags|=16384,i={getSnapshot:t,value:e},t=Ct.updateQueue,t===null?(t={lastEffect:null,stores:null},Ct.updateQueue=t,t.stores=[i]):(e=t.stores,e===null?t.stores=[i]:e.push(i))}function cv(i,t,e,n){t.value=e,t.getSnapshot=n,dv(t)&&pv(i)}function fv(i,t,e){return e(function(){dv(t)&&pv(i)})}function dv(i){var t=i.getSnapshot;i=i.value;try{var e=t();return!ti(i,e)}catch{return!0}}function pv(i){var t=Hi(i,1);t!==null&&qe(t,i,1,-1)}function tp(i){var t=ui();return typeof i=="function"&&(i=i()),t.memoizedState=t.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lo,lastRenderedState:i},t.queue=i,i=i.dispatch=wb.bind(null,Ct,i),[t.memoizedState,i]}function ao(i,t,e,n){return i={tag:i,create:t,destroy:e,deps:n,next:null},t=Ct.updateQueue,t===null?(t={lastEffect:null,stores:null},Ct.updateQueue=t,t.lastEffect=i.next=i):(e=t.lastEffect,e===null?t.lastEffect=i.next=i:(n=e.next,e.next=i,i.next=n,t.lastEffect=i)),i}function mv(){return We().memoizedState}function bl(i,t,e,n){var s=ui();Ct.flags|=i,s.memoizedState=ao(1|t,e,void 0,n===void 0?null:n)}function Va(i,t,e,n){var s=We();n=n===void 0?null:n;var r=void 0;if(Lt!==null){var o=Lt.memoizedState;if(r=o.destroy,n!==null&&rf(n,o.deps)){s.memoizedState=ao(t,e,r,n);return}}Ct.flags|=i,s.memoizedState=ao(1|t,e,r,n)}function ep(i,t){return bl(8390656,8,i,t)}function af(i,t){return Va(2048,8,i,t)}function yv(i,t){return Va(4,2,i,t)}function vv(i,t){return Va(4,4,i,t)}function gv(i,t){if(typeof t=="function")return i=i(),t(i),function(){t(null)};if(t!=null)return i=i(),t.current=i,function(){t.current=null}}function wv(i,t,e){return e=e!=null?e.concat([i]):null,Va(4,4,gv.bind(null,t,i),e)}function uf(){}function bv(i,t){var e=We();t=t===void 0?null:t;var n=e.memoizedState;return n!==null&&t!==null&&rf(t,n[1])?n[0]:(e.memoizedState=[i,t],i)}function _v(i,t){var e=We();t=t===void 0?null:t;var n=e.memoizedState;return n!==null&&t!==null&&rf(t,n[1])?n[0]:(i=i(),e.memoizedState=[i,t],i)}function Sv(i,t,e){return es&21?(ti(e,t)||(e=Cy(),Ct.lanes|=e,is|=e,i.baseState=!0),t):(i.baseState&&(i.baseState=!1,fe=!0),i.memoizedState=e)}function vb(i,t){var e=ct;ct=e!==0&&4>e?e:4,i(!0);var n=Lu.transition;Lu.transition={};try{i(!1),t()}finally{ct=e,Lu.transition=n}}function xv(){return We().memoizedState}function gb(i,t,e){var n=vn(i);if(e={lane:n,action:e,hasEagerState:!1,eagerState:null,next:null},Mv(i))Iv(t,e);else if(e=rv(i,t,e,n),e!==null){var s=ie();qe(e,i,n,s),Ev(e,t,n)}}function wb(i,t,e){var n=vn(i),s={lane:n,action:e,hasEagerState:!1,eagerState:null,next:null};if(Mv(i))Iv(t,s);else{var r=i.alternate;if(i.lanes===0&&(r===null||r.lanes===0)&&(r=t.lastRenderedReducer,r!==null))try{var o=t.lastRenderedState,l=r(o,e);if(s.hasEagerState=!0,s.eagerState=l,ti(l,o)){var a=t.interleaved;a===null?(s.next=s,Zc(t)):(s.next=a.next,a.next=s),t.interleaved=s;return}}catch{}finally{}e=rv(i,t,s,n),e!==null&&(s=ie(),qe(e,i,n,s),Ev(e,t,n))}}function Mv(i){var t=i.alternate;return i===Ct||t!==null&&t===Ct}function Iv(i,t){Fr=Jl=!0;var e=i.pending;e===null?t.next=t:(t.next=e.next,e.next=t),i.pending=t}function Ev(i,t,e){if(e&4194240){var n=t.lanes;n&=i.pendingLanes,e|=n,t.lanes=e,Pc(i,e)}}var Gl={readContext:je,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},bb={readContext:je,useCallback:function(i,t){return ui().memoizedState=[i,t===void 0?null:t],i},useContext:je,useEffect:ep,useImperativeHandle:function(i,t,e){return e=e!=null?e.concat([i]):null,bl(4194308,4,gv.bind(null,t,i),e)},useLayoutEffect:function(i,t){return bl(4194308,4,i,t)},useInsertionEffect:function(i,t){return bl(4,2,i,t)},useMemo:function(i,t){var e=ui();return t=t===void 0?null:t,i=i(),e.memoizedState=[i,t],i},useReducer:function(i,t,e){var n=ui();return t=e!==void 0?e(t):t,n.memoizedState=n.baseState=t,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:t},n.queue=i,i=i.dispatch=gb.bind(null,Ct,i),[n.memoizedState,i]},useRef:function(i){var t=ui();return i={current:i},t.memoizedState=i},useState:tp,useDebugValue:uf,useDeferredValue:function(i){return ui().memoizedState=i},useTransition:function(){var i=tp(!1),t=i[0];return i=vb.bind(null,i[1]),ui().memoizedState=i,[t,i]},useMutableSource:function(){},useSyncExternalStore:function(i,t,e){var n=Ct,s=ui();if(St){if(e===void 0)throw Error(C(407));e=e()}else{if(e=t(),Vt===null)throw Error(C(349));es&30||hv(n,t,e)}s.memoizedState=e;var r={value:e,getSnapshot:t};return s.queue=r,ep(fv.bind(null,n,r,i),[i]),n.flags|=2048,ao(9,cv.bind(null,n,r,e,t),void 0,null),e},useId:function(){var i=ui(),t=Vt.identifierPrefix;if(St){var e=Ri,n=Fi;e=(n&~(1<<32-Ge(n)-1)).toString(32)+e,t=":"+t+"R"+e,e=oo++,0<e&&(t+="H"+e.toString(32)),t+=":"}else e=yb++,t=":"+t+"r"+e.toString(32)+":";return i.memoizedState=t},unstable_isNewReconciler:!1},_b={readContext:je,useCallback:bv,useContext:je,useEffect:af,useImperativeHandle:wv,useInsertionEffect:yv,useLayoutEffect:vv,useMemo:_v,useReducer:Fu,useRef:mv,useState:function(){return Fu(lo)},useDebugValue:uf,useDeferredValue:function(i){var t=We();return Sv(t,Lt.memoizedState,i)},useTransition:function(){var i=Fu(lo)[0],t=We().memoizedState;return[i,t]},useMutableSource:av,useSyncExternalStore:uv,useId:xv,unstable_isNewReconciler:!1},Sb={readContext:je,useCallback:bv,useContext:je,useEffect:af,useImperativeHandle:wv,useInsertionEffect:yv,useLayoutEffect:vv,useMemo:_v,useReducer:Ru,useRef:mv,useState:function(){return Ru(lo)},useDebugValue:uf,useDeferredValue:function(i){var t=We();return Lt===null?t.memoizedState=i:Sv(t,Lt.memoizedState,i)},useTransition:function(){var i=Ru(lo)[0],t=We().memoizedState;return[i,t]},useMutableSource:av,useSyncExternalStore:uv,useId:xv,unstable_isNewReconciler:!1};function Ye(i,t){if(i&&i.defaultProps){t=kt({},t),i=i.defaultProps;for(var e in i)t[e]===void 0&&(t[e]=i[e]);return t}return t}function Hh(i,t,e,n){t=i.memoizedState,e=e(n,t),e=e==null?t:kt({},t,e),i.memoizedState=e,i.lanes===0&&(i.updateQueue.baseState=e)}var Ua={isMounted:function(i){return(i=i._reactInternals)?hs(i)===i:!1},enqueueSetState:function(i,t,e){i=i._reactInternals;var n=ie(),s=vn(i),r=$i(n,s);r.payload=t,e!=null&&(r.callback=e),t=mn(i,r,s),t!==null&&(qe(t,i,s,n),gl(t,i,s))},enqueueReplaceState:function(i,t,e){i=i._reactInternals;var n=ie(),s=vn(i),r=$i(n,s);r.tag=1,r.payload=t,e!=null&&(r.callback=e),t=mn(i,r,s),t!==null&&(qe(t,i,s,n),gl(t,i,s))},enqueueForceUpdate:function(i,t){i=i._reactInternals;var e=ie(),n=vn(i),s=$i(e,n);s.tag=2,t!=null&&(s.callback=t),t=mn(i,s,n),t!==null&&(qe(t,i,n,e),gl(t,i,n))}};function ip(i,t,e,n,s,r,o){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(n,r,o):t.prototype&&t.prototype.isPureReactComponent?!to(e,n)||!to(s,r):!0}function Cv(i,t,e){var n=!1,s=bn,r=t.contextType;return typeof r=="object"&&r!==null?r=je(r):(s=pe(t)?Zn:Jt.current,n=t.contextTypes,r=(n=n!=null)?Xs(i,s):bn),t=new t(e,r),i.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ua,i.stateNode=t,t._reactInternals=i,n&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=r),t}function np(i,t,e,n){i=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,n),t.state!==i&&Ua.enqueueReplaceState(t,t.state,null)}function Kh(i,t,e,n){var s=i.stateNode;s.props=e,s.state=i.memoizedState,s.refs={},tf(i);var r=t.contextType;typeof r=="object"&&r!==null?s.context=je(r):(r=pe(t)?Zn:Jt.current,s.context=Xs(i,r)),s.state=i.memoizedState,r=t.getDerivedStateFromProps,typeof r=="function"&&(Hh(i,t,r,e),s.state=i.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Ua.enqueueReplaceState(s,s.state,null),Xl(i,e,s,n),s.state=i.memoizedState),typeof s.componentDidMount=="function"&&(i.flags|=4194308)}function qs(i,t){try{var e="",n=t;do e+=Jw(n),n=n.return;while(n);var s=e}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:i,source:t,stack:s,digest:null}}function Au(i,t,e){return{value:i,source:null,stack:e??null,digest:t??null}}function Yh(i,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var xb=typeof WeakMap=="function"?WeakMap:Map;function kv(i,t,e){e=$i(-1,e),e.tag=3,e.payload={element:null};var n=t.value;return e.callback=function(){Zl||(Zl=!0,nc=n),Yh(i,t)},e}function Nv(i,t,e){e=$i(-1,e),e.tag=3;var n=i.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;e.payload=function(){return n(s)},e.callback=function(){Yh(i,t)}}var r=i.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){Yh(i,t),typeof n!="function"&&(yn===null?yn=new Set([this]):yn.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),e}function sp(i,t,e){var n=i.pingCache;if(n===null){n=i.pingCache=new xb;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(e)||(s.add(e),i=Rb.bind(null,i,t,e),t.then(i,i))}function rp(i){do{var t;if((t=i.tag===13)&&(t=i.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return i;i=i.return}while(i!==null);return null}function op(i,t,e,n,s){return i.mode&1?(i.flags|=65536,i.lanes=s,i):(i===t?i.flags|=65536:(i.flags|=128,e.flags|=131072,e.flags&=-52805,e.tag===1&&(e.alternate===null?e.tag=17:(t=$i(-1,1),t.tag=2,mn(e,t,1))),e.lanes|=1),i)}var Mb=Xi.ReactCurrentOwner,fe=!1;function qt(i,t,e,n){t.child=i===null?sv(t,null,e,n):Js(t,i.child,e,n)}function lp(i,t,e,n,s){e=e.render;var r=t.ref;return Ps(t,s),n=of(i,t,e,n,r,s),e=lf(),i!==null&&!fe?(t.updateQueue=i.updateQueue,t.flags&=-2053,i.lanes&=~s,Ki(i,t,s)):(St&&e&&Yc(t),t.flags|=1,qt(i,t,n,s),t.child)}function ap(i,t,e,n,s){if(i===null){var r=e.type;return typeof r=="function"&&!vf(r)&&r.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(t.tag=15,t.type=r,Tv(i,t,r,n,s)):(i=Ml(e.type,null,n,t,t.mode,s),i.ref=t.ref,i.return=t,t.child=i)}if(r=i.child,!(i.lanes&s)){var o=r.memoizedProps;if(e=e.compare,e=e!==null?e:to,e(o,n)&&i.ref===t.ref)return Ki(i,t,s)}return t.flags|=1,i=gn(r,n),i.ref=t.ref,i.return=t,t.child=i}function Tv(i,t,e,n,s){if(i!==null){var r=i.memoizedProps;if(to(r,n)&&i.ref===t.ref)if(fe=!1,t.pendingProps=n=r,(i.lanes&s)!==0)i.flags&131072&&(fe=!0);else return t.lanes=i.lanes,Ki(i,t,s)}return Xh(i,t,e,n,s)}function Bv(i,t,e){var n=t.pendingProps,s=n.children,r=i!==null?i.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},vt(Bs,Se),Se|=e;else{if(!(e&1073741824))return i=r!==null?r.baseLanes|e:e,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:i,cachePool:null,transitions:null},t.updateQueue=null,vt(Bs,Se),Se|=i,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=r!==null?r.baseLanes:e,vt(Bs,Se),Se|=n}else r!==null?(n=r.baseLanes|e,t.memoizedState=null):n=e,vt(Bs,Se),Se|=n;return qt(i,t,s,e),t.child}function Ov(i,t){var e=t.ref;(i===null&&e!==null||i!==null&&i.ref!==e)&&(t.flags|=512,t.flags|=2097152)}function Xh(i,t,e,n,s){var r=pe(e)?Zn:Jt.current;return r=Xs(t,r),Ps(t,s),e=of(i,t,e,n,r,s),n=lf(),i!==null&&!fe?(t.updateQueue=i.updateQueue,t.flags&=-2053,i.lanes&=~s,Ki(i,t,s)):(St&&n&&Yc(t),t.flags|=1,qt(i,t,e,s),t.child)}function up(i,t,e,n,s){if(pe(e)){var r=!0;jl(t)}else r=!1;if(Ps(t,s),t.stateNode===null)_l(i,t),Cv(t,e,n),Kh(t,e,n,s),n=!0;else if(i===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var a=o.context,u=e.contextType;typeof u=="object"&&u!==null?u=je(u):(u=pe(e)?Zn:Jt.current,u=Xs(t,u));var h=e.getDerivedStateFromProps,c=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";c||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||a!==u)&&np(t,o,n,u),sn=!1;var f=t.memoizedState;o.state=f,Xl(t,n,o,s),a=t.memoizedState,l!==n||f!==a||de.current||sn?(typeof h=="function"&&(Hh(t,e,h,n),a=t.memoizedState),(l=sn||ip(t,e,l,n,f,a,u))?(c||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=a),o.props=n,o.state=a,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,ov(i,t),l=t.memoizedProps,u=t.type===t.elementType?l:Ye(t.type,l),o.props=u,c=t.pendingProps,f=o.context,a=e.contextType,typeof a=="object"&&a!==null?a=je(a):(a=pe(e)?Zn:Jt.current,a=Xs(t,a));var d=e.getDerivedStateFromProps;(h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==c||f!==a)&&np(t,o,n,a),sn=!1,f=t.memoizedState,o.state=f,Xl(t,n,o,s);var y=t.memoizedState;l!==c||f!==y||de.current||sn?(typeof d=="function"&&(Hh(t,e,d,n),y=t.memoizedState),(u=sn||ip(t,e,u,n,f,y,a)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,a),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,a)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===i.memoizedProps&&f===i.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===i.memoizedProps&&f===i.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),o.props=n,o.state=y,o.context=a,n=u):(typeof o.componentDidUpdate!="function"||l===i.memoizedProps&&f===i.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===i.memoizedProps&&f===i.memoizedState||(t.flags|=1024),n=!1)}return Qh(i,t,e,n,r,s)}function Qh(i,t,e,n,s,r){Ov(i,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&Xd(t,e,!1),Ki(i,t,r);n=t.stateNode,Mb.current=t;var l=o&&typeof e.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,i!==null&&o?(t.child=Js(t,i.child,null,r),t.child=Js(t,null,l,r)):qt(i,t,l,r),t.memoizedState=n.state,s&&Xd(t,e,!0),t.child}function zv(i){var t=i.stateNode;t.pendingContext?Yd(i,t.pendingContext,t.pendingContext!==t.context):t.context&&Yd(i,t.context,!1),ef(i,t.containerInfo)}function hp(i,t,e,n,s){return Qs(),Qc(s),t.flags|=256,qt(i,t,e,n),t.child}var Jh={dehydrated:null,treeContext:null,retryLane:0};function Gh(i){return{baseLanes:i,cachePool:null,transitions:null}}function Dv(i,t,e){var n=t.pendingProps,s=It.current,r=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=i!==null&&i.memoizedState===null?!1:(s&2)!==0),l?(r=!0,t.flags&=-129):(i===null||i.memoizedState!==null)&&(s|=1),vt(It,s&1),i===null)return jh(t),i=t.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(t.mode&1?i.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,i=n.fallback,r?(n=t.mode,r=t.child,o={mode:"hidden",children:o},!(n&1)&&r!==null?(r.childLanes=0,r.pendingProps=o):r=Ha(o,n,0,null),i=Qn(i,n,e,null),r.return=t,i.return=t,r.sibling=i,t.child=r,t.child.memoizedState=Gh(e),t.memoizedState=Jh,i):hf(t,o));if(s=i.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Ib(i,t,o,n,l,s,e);if(r){r=n.fallback,o=t.mode,s=i.child,l=s.sibling;var a={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=a,t.deletions=null):(n=gn(s,a),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?r=gn(l,r):(r=Qn(r,o,e,null),r.flags|=2),r.return=t,n.return=t,n.sibling=r,t.child=n,n=r,r=t.child,o=i.child.memoizedState,o=o===null?Gh(e):{baseLanes:o.baseLanes|e,cachePool:null,transitions:o.transitions},r.memoizedState=o,r.childLanes=i.childLanes&~e,t.memoizedState=Jh,n}return r=i.child,i=r.sibling,n=gn(r,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=e),n.return=t,n.sibling=null,i!==null&&(e=t.deletions,e===null?(t.deletions=[i],t.flags|=16):e.push(i)),t.child=n,t.memoizedState=null,n}function hf(i,t){return t=Ha({mode:"visible",children:t},i.mode,0,null),t.return=i,i.child=t}function Jo(i,t,e,n){return n!==null&&Qc(n),Js(t,i.child,null,e),i=hf(t,t.pendingProps.children),i.flags|=2,t.memoizedState=null,i}function Ib(i,t,e,n,s,r,o){if(e)return t.flags&256?(t.flags&=-257,n=Au(Error(C(422))),Jo(i,t,o,n)):t.memoizedState!==null?(t.child=i.child,t.flags|=128,null):(r=n.fallback,s=t.mode,n=Ha({mode:"visible",children:n.children},s,0,null),r=Qn(r,s,o,null),r.flags|=2,n.return=t,r.return=t,n.sibling=r,t.child=n,t.mode&1&&Js(t,i.child,null,o),t.child.memoizedState=Gh(o),t.memoizedState=Jh,r);if(!(t.mode&1))return Jo(i,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,r=Error(C(419)),n=Au(r,n,void 0),Jo(i,t,o,n)}if(l=(o&i.childLanes)!==0,fe||l){if(n=Vt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,Hi(i,s),qe(n,i,s,-1))}return yf(),n=Au(Error(C(421))),Jo(i,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=i.child,t=Ab.bind(null,i),s._reactRetry=t,null):(i=r.treeContext,Ie=pn(s.nextSibling),Ee=t,St=!0,Je=null,i!==null&&(Re[Ae++]=Fi,Re[Ae++]=Ri,Re[Ae++]=ts,Fi=i.id,Ri=i.overflow,ts=t),t=hf(t,n.children),t.flags|=4096,t)}function cp(i,t,e){i.lanes|=t;var n=i.alternate;n!==null&&(n.lanes|=t),Wh(i.return,t,e)}function Pu(i,t,e,n,s){var r=i.memoizedState;r===null?i.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:e,tailMode:s}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=n,r.tail=e,r.tailMode=s)}function Lv(i,t,e){var n=t.pendingProps,s=n.revealOrder,r=n.tail;if(qt(i,t,n.children,e),n=It.current,n&2)n=n&1|2,t.flags|=128;else{if(i!==null&&i.flags&128)t:for(i=t.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&cp(i,e,t);else if(i.tag===19)cp(i,e,t);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break t;for(;i.sibling===null;){if(i.return===null||i.return===t)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}n&=1}if(vt(It,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(e=t.child,s=null;e!==null;)i=e.alternate,i!==null&&Ql(i)===null&&(s=e),e=e.sibling;e=s,e===null?(s=t.child,t.child=null):(s=e.sibling,e.sibling=null),Pu(t,!1,s,e,r);break;case"backwards":for(e=null,s=t.child,t.child=null;s!==null;){if(i=s.alternate,i!==null&&Ql(i)===null){t.child=s;break}i=s.sibling,s.sibling=e,e=s,s=i}Pu(t,!0,e,null,r);break;case"together":Pu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _l(i,t){!(t.mode&1)&&i!==null&&(i.alternate=null,t.alternate=null,t.flags|=2)}function Ki(i,t,e){if(i!==null&&(t.dependencies=i.dependencies),is|=t.lanes,!(e&t.childLanes))return null;if(i!==null&&t.child!==i.child)throw Error(C(153));if(t.child!==null){for(i=t.child,e=gn(i,i.pendingProps),t.child=e,e.return=t;i.sibling!==null;)i=i.sibling,e=e.sibling=gn(i,i.pendingProps),e.return=t;e.sibling=null}return t.child}function Eb(i,t,e){switch(t.tag){case 3:zv(t),Qs();break;case 5:lv(t);break;case 1:pe(t.type)&&jl(t);break;case 4:ef(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;vt(Kl,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(vt(It,It.current&1),t.flags|=128,null):e&t.child.childLanes?Dv(i,t,e):(vt(It,It.current&1),i=Ki(i,t,e),i!==null?i.sibling:null);vt(It,It.current&1);break;case 19:if(n=(e&t.childLanes)!==0,i.flags&128){if(n)return Lv(i,t,e);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),vt(It,It.current),n)break;return null;case 22:case 23:return t.lanes=0,Bv(i,t,e)}return Ki(i,t,e)}var Fv,qh,Rv,Av;Fv=function(i,t){for(var e=t.child;e!==null;){if(e.tag===5||e.tag===6)i.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};qh=function(){};Rv=function(i,t,e,n){var s=i.memoizedProps;if(s!==n){i=t.stateNode,Vn(xi.current);var r=null;switch(e){case"input":s=bh(i,s),n=bh(i,n),r=[];break;case"select":s=kt({},s,{value:void 0}),n=kt({},n,{value:void 0}),r=[];break;case"textarea":s=xh(i,s),n=xh(i,n),r=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(i.onclick=Vl)}Ih(e,n);var o;e=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(e||(e={}),e[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Yr.hasOwnProperty(u)?r||(r=[]):(r=r||[]).push(u,null));for(u in n){var a=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&a!==l&&(a!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||a&&a.hasOwnProperty(o)||(e||(e={}),e[o]="");for(o in a)a.hasOwnProperty(o)&&l[o]!==a[o]&&(e||(e={}),e[o]=a[o])}else e||(r||(r=[]),r.push(u,e)),e=a;else u==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,l=l?l.__html:void 0,a!=null&&l!==a&&(r=r||[]).push(u,a)):u==="children"?typeof a!="string"&&typeof a!="number"||(r=r||[]).push(u,""+a):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Yr.hasOwnProperty(u)?(a!=null&&u==="onScroll"&&gt("scroll",i),r||l===a||(r=[])):(r=r||[]).push(u,a))}e&&(r=r||[]).push("style",e);var u=r;(t.updateQueue=u)&&(t.flags|=4)}};Av=function(i,t,e,n){e!==n&&(t.flags|=4)};function _r(i,t){if(!St)switch(i.tailMode){case"hidden":t=i.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?i.tail=null:e.sibling=null;break;case"collapsed":e=i.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t||i.tail===null?i.tail=null:i.tail.sibling=null:n.sibling=null}}function Xt(i){var t=i.alternate!==null&&i.alternate.child===i.child,e=0,n=0;if(t)for(var s=i.child;s!==null;)e|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=i,s=s.sibling;else for(s=i.child;s!==null;)e|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=i,s=s.sibling;return i.subtreeFlags|=n,i.childLanes=e,t}function Cb(i,t,e){var n=t.pendingProps;switch(Xc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(t),null;case 1:return pe(t.type)&&Ul(),Xt(t),null;case 3:return n=t.stateNode,Gs(),bt(de),bt(Jt),sf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(i===null||i.child===null)&&(Xo(t)?t.flags|=4:i===null||i.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Je!==null&&(oc(Je),Je=null))),qh(i,t),Xt(t),null;case 5:nf(t);var s=Vn(ro.current);if(e=t.type,i!==null&&t.stateNode!=null)Rv(i,t,e,n,s),i.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(C(166));return Xt(t),null}if(i=Vn(xi.current),Xo(t)){n=t.stateNode,e=t.type;var r=t.memoizedProps;switch(n[fi]=t,n[no]=r,i=(t.mode&1)!==0,e){case"dialog":gt("cancel",n),gt("close",n);break;case"iframe":case"object":case"embed":gt("load",n);break;case"video":case"audio":for(s=0;s<kr.length;s++)gt(kr[s],n);break;case"source":gt("error",n);break;case"img":case"image":case"link":gt("error",n),gt("load",n);break;case"details":gt("toggle",n);break;case"input":bd(n,r),gt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!r.multiple},gt("invalid",n);break;case"textarea":Sd(n,r),gt("invalid",n)}Ih(e,r),s=null;for(var o in r)if(r.hasOwnProperty(o)){var l=r[o];o==="children"?typeof l=="string"?n.textContent!==l&&(r.suppressHydrationWarning!==!0&&Yo(n.textContent,l,i),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(r.suppressHydrationWarning!==!0&&Yo(n.textContent,l,i),s=["children",""+l]):Yr.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&gt("scroll",n)}switch(e){case"input":Po(n),_d(n,r,!0);break;case"textarea":Po(n),xd(n);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(n.onclick=Vl)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=fy(e)),i==="http://www.w3.org/1999/xhtml"?e==="script"?(i=o.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof n.is=="string"?i=o.createElement(e,{is:n.is}):(i=o.createElement(e),e==="select"&&(o=i,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):i=o.createElementNS(i,e),i[fi]=t,i[no]=n,Fv(i,t,!1,!1),t.stateNode=i;t:{switch(o=Eh(e,n),e){case"dialog":gt("cancel",i),gt("close",i),s=n;break;case"iframe":case"object":case"embed":gt("load",i),s=n;break;case"video":case"audio":for(s=0;s<kr.length;s++)gt(kr[s],i);s=n;break;case"source":gt("error",i),s=n;break;case"img":case"image":case"link":gt("error",i),gt("load",i),s=n;break;case"details":gt("toggle",i),s=n;break;case"input":bd(i,n),s=bh(i,n),gt("invalid",i);break;case"option":s=n;break;case"select":i._wrapperState={wasMultiple:!!n.multiple},s=kt({},n,{value:void 0}),gt("invalid",i);break;case"textarea":Sd(i,n),s=xh(i,n),gt("invalid",i);break;default:s=n}Ih(e,s),l=s;for(r in l)if(l.hasOwnProperty(r)){var a=l[r];r==="style"?my(i,a):r==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&dy(i,a)):r==="children"?typeof a=="string"?(e!=="textarea"||a!=="")&&Xr(i,a):typeof a=="number"&&Xr(i,""+a):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(Yr.hasOwnProperty(r)?a!=null&&r==="onScroll"&&gt("scroll",i):a!=null&&zc(i,r,a,o))}switch(e){case"input":Po(i),_d(i,n,!1);break;case"textarea":Po(i),xd(i);break;case"option":n.value!=null&&i.setAttribute("value",""+wn(n.value));break;case"select":i.multiple=!!n.multiple,r=n.value,r!=null?Ls(i,!!n.multiple,r,!1):n.defaultValue!=null&&Ls(i,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(i.onclick=Vl)}switch(e){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break t;case"img":n=!0;break t;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Xt(t),null;case 6:if(i&&t.stateNode!=null)Av(i,t,i.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(C(166));if(e=Vn(ro.current),Vn(xi.current),Xo(t)){if(n=t.stateNode,e=t.memoizedProps,n[fi]=t,(r=n.nodeValue!==e)&&(i=Ee,i!==null))switch(i.tag){case 3:Yo(n.nodeValue,e,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Yo(n.nodeValue,e,(i.mode&1)!==0)}r&&(t.flags|=4)}else n=(e.nodeType===9?e:e.ownerDocument).createTextNode(n),n[fi]=t,t.stateNode=n}return Xt(t),null;case 13:if(bt(It),n=t.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(St&&Ie!==null&&t.mode&1&&!(t.flags&128))iv(),Qs(),t.flags|=98560,r=!1;else if(r=Xo(t),n!==null&&n.dehydrated!==null){if(i===null){if(!r)throw Error(C(318));if(r=t.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(C(317));r[fi]=t}else Qs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Xt(t),r=!1}else Je!==null&&(oc(Je),Je=null),r=!0;if(!r)return t.flags&65536?t:null}return t.flags&128?(t.lanes=e,t):(n=n!==null,n!==(i!==null&&i.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(i===null||It.current&1?At===0&&(At=3):yf())),t.updateQueue!==null&&(t.flags|=4),Xt(t),null);case 4:return Gs(),qh(i,t),i===null&&eo(t.stateNode.containerInfo),Xt(t),null;case 10:return qc(t.type._context),Xt(t),null;case 17:return pe(t.type)&&Ul(),Xt(t),null;case 19:if(bt(It),r=t.memoizedState,r===null)return Xt(t),null;if(n=(t.flags&128)!==0,o=r.rendering,o===null)if(n)_r(r,!1);else{if(At!==0||i!==null&&i.flags&128)for(i=t.child;i!==null;){if(o=Ql(i),o!==null){for(t.flags|=128,_r(r,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=e,e=t.child;e!==null;)r=e,i=n,r.flags&=14680066,o=r.alternate,o===null?(r.childLanes=0,r.lanes=i,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=o.childLanes,r.lanes=o.lanes,r.child=o.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=o.memoizedProps,r.memoizedState=o.memoizedState,r.updateQueue=o.updateQueue,r.type=o.type,i=o.dependencies,r.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e=e.sibling;return vt(It,It.current&1|2),t.child}i=i.sibling}r.tail!==null&&Bt()>Zs&&(t.flags|=128,n=!0,_r(r,!1),t.lanes=4194304)}else{if(!n)if(i=Ql(o),i!==null){if(t.flags|=128,n=!0,e=i.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),_r(r,!0),r.tail===null&&r.tailMode==="hidden"&&!o.alternate&&!St)return Xt(t),null}else 2*Bt()-r.renderingStartTime>Zs&&e!==1073741824&&(t.flags|=128,n=!0,_r(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e!==null?e.sibling=o:t.child=o,r.last=o)}return r.tail!==null?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=Bt(),t.sibling=null,e=It.current,vt(It,n?e&1|2:e&1),t):(Xt(t),null);case 22:case 23:return mf(),n=t.memoizedState!==null,i!==null&&i.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Se&1073741824&&(Xt(t),t.subtreeFlags&6&&(t.flags|=8192)):Xt(t),null;case 24:return null;case 25:return null}throw Error(C(156,t.tag))}function kb(i,t){switch(Xc(t),t.tag){case 1:return pe(t.type)&&Ul(),i=t.flags,i&65536?(t.flags=i&-65537|128,t):null;case 3:return Gs(),bt(de),bt(Jt),sf(),i=t.flags,i&65536&&!(i&128)?(t.flags=i&-65537|128,t):null;case 5:return nf(t),null;case 13:if(bt(It),i=t.memoizedState,i!==null&&i.dehydrated!==null){if(t.alternate===null)throw Error(C(340));Qs()}return i=t.flags,i&65536?(t.flags=i&-65537|128,t):null;case 19:return bt(It),null;case 4:return Gs(),null;case 10:return qc(t.type._context),null;case 22:case 23:return mf(),null;case 24:return null;default:return null}}var Go=!1,Qt=!1,Nb=typeof WeakSet=="function"?WeakSet:Set,D=null;function Ts(i,t){var e=i.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){Tt(i,t,n)}else e.current=null}function Zh(i,t,e){try{e()}catch(n){Tt(i,t,n)}}var fp=!1;function Tb(i,t){if(Fh=Al,i=jy(),Kc(i)){if("selectionStart"in i)var e={start:i.selectionStart,end:i.selectionEnd};else t:{e=(e=i.ownerDocument)&&e.defaultView||window;var n=e.getSelection&&e.getSelection();if(n&&n.rangeCount!==0){e=n.anchorNode;var s=n.anchorOffset,r=n.focusNode;n=n.focusOffset;try{e.nodeType,r.nodeType}catch{e=null;break t}var o=0,l=-1,a=-1,u=0,h=0,c=i,f=null;e:for(;;){for(var d;c!==e||s!==0&&c.nodeType!==3||(l=o+s),c!==r||n!==0&&c.nodeType!==3||(a=o+n),c.nodeType===3&&(o+=c.nodeValue.length),(d=c.firstChild)!==null;)f=c,c=d;for(;;){if(c===i)break e;if(f===e&&++u===s&&(l=o),f===r&&++h===n&&(a=o),(d=c.nextSibling)!==null)break;c=f,f=c.parentNode}c=d}e=l===-1||a===-1?null:{start:l,end:a}}else e=null}e=e||{start:0,end:0}}else e=null;for(Rh={focusedElem:i,selectionRange:e},Al=!1,D=t;D!==null;)if(t=D,i=t.child,(t.subtreeFlags&1028)!==0&&i!==null)i.return=t,D=i;else for(;D!==null;){t=D;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,x=y.memoizedState,m=t.stateNode,p=m.getSnapshotBeforeUpdate(t.elementType===t.type?v:Ye(t.type,v),x);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=t.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(C(163))}}catch(_){Tt(t,t.return,_)}if(i=t.sibling,i!==null){i.return=t.return,D=i;break}D=t.return}return y=fp,fp=!1,y}function Rr(i,t,e){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&i)===i){var r=s.destroy;s.destroy=void 0,r!==void 0&&Zh(t,e,r)}s=s.next}while(s!==n)}}function ja(i,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var e=t=t.next;do{if((e.tag&i)===i){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}}function tc(i){var t=i.ref;if(t!==null){var e=i.stateNode;switch(i.tag){case 5:i=e;break;default:i=e}typeof t=="function"?t(i):t.current=i}}function Pv(i){var t=i.alternate;t!==null&&(i.alternate=null,Pv(t)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(t=i.stateNode,t!==null&&(delete t[fi],delete t[no],delete t[$h],delete t[fb],delete t[db])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function $v(i){return i.tag===5||i.tag===3||i.tag===4}function dp(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||$v(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function ec(i,t,e){var n=i.tag;if(n===5||n===6)i=i.stateNode,t?e.nodeType===8?e.parentNode.insertBefore(i,t):e.insertBefore(i,t):(e.nodeType===8?(t=e.parentNode,t.insertBefore(i,e)):(t=e,t.appendChild(i)),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=Vl));else if(n!==4&&(i=i.child,i!==null))for(ec(i,t,e),i=i.sibling;i!==null;)ec(i,t,e),i=i.sibling}function ic(i,t,e){var n=i.tag;if(n===5||n===6)i=i.stateNode,t?e.insertBefore(i,t):e.appendChild(i);else if(n!==4&&(i=i.child,i!==null))for(ic(i,t,e),i=i.sibling;i!==null;)ic(i,t,e),i=i.sibling}var jt=null,Xe=!1;function Zi(i,t,e){for(e=e.child;e!==null;)Vv(i,t,e),e=e.sibling}function Vv(i,t,e){if(Si&&typeof Si.onCommitFiberUnmount=="function")try{Si.onCommitFiberUnmount(La,e)}catch{}switch(e.tag){case 5:Qt||Ts(e,t);case 6:var n=jt,s=Xe;jt=null,Zi(i,t,e),jt=n,Xe=s,jt!==null&&(Xe?(i=jt,e=e.stateNode,i.nodeType===8?i.parentNode.removeChild(e):i.removeChild(e)):jt.removeChild(e.stateNode));break;case 18:jt!==null&&(Xe?(i=jt,e=e.stateNode,i.nodeType===8?Ou(i.parentNode,e):i.nodeType===1&&Ou(i,e),qr(i)):Ou(jt,e.stateNode));break;case 4:n=jt,s=Xe,jt=e.stateNode.containerInfo,Xe=!0,Zi(i,t,e),jt=n,Xe=s;break;case 0:case 11:case 14:case 15:if(!Qt&&(n=e.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var r=s,o=r.destroy;r=r.tag,o!==void 0&&(r&2||r&4)&&Zh(e,t,o),s=s.next}while(s!==n)}Zi(i,t,e);break;case 1:if(!Qt&&(Ts(e,t),n=e.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(l){Tt(e,t,l)}Zi(i,t,e);break;case 21:Zi(i,t,e);break;case 22:e.mode&1?(Qt=(n=Qt)||e.memoizedState!==null,Zi(i,t,e),Qt=n):Zi(i,t,e);break;default:Zi(i,t,e)}}function pp(i){var t=i.updateQueue;if(t!==null){i.updateQueue=null;var e=i.stateNode;e===null&&(e=i.stateNode=new Nb),t.forEach(function(n){var s=Pb.bind(null,i,n);e.has(n)||(e.add(n),n.then(s,s))})}}function Ke(i,t){var e=t.deletions;if(e!==null)for(var n=0;n<e.length;n++){var s=e[n];try{var r=i,o=t,l=o;t:for(;l!==null;){switch(l.tag){case 5:jt=l.stateNode,Xe=!1;break t;case 3:jt=l.stateNode.containerInfo,Xe=!0;break t;case 4:jt=l.stateNode.containerInfo,Xe=!0;break t}l=l.return}if(jt===null)throw Error(C(160));Vv(r,o,s),jt=null,Xe=!1;var a=s.alternate;a!==null&&(a.return=null),s.return=null}catch(u){Tt(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Uv(t,i),t=t.sibling}function Uv(i,t){var e=i.alternate,n=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Ke(t,i),oi(i),n&4){try{Rr(3,i,i.return),ja(3,i)}catch(v){Tt(i,i.return,v)}try{Rr(5,i,i.return)}catch(v){Tt(i,i.return,v)}}break;case 1:Ke(t,i),oi(i),n&512&&e!==null&&Ts(e,e.return);break;case 5:if(Ke(t,i),oi(i),n&512&&e!==null&&Ts(e,e.return),i.flags&32){var s=i.stateNode;try{Xr(s,"")}catch(v){Tt(i,i.return,v)}}if(n&4&&(s=i.stateNode,s!=null)){var r=i.memoizedProps,o=e!==null?e.memoizedProps:r,l=i.type,a=i.updateQueue;if(i.updateQueue=null,a!==null)try{l==="input"&&r.type==="radio"&&r.name!=null&&hy(s,r),Eh(l,o);var u=Eh(l,r);for(o=0;o<a.length;o+=2){var h=a[o],c=a[o+1];h==="style"?my(s,c):h==="dangerouslySetInnerHTML"?dy(s,c):h==="children"?Xr(s,c):zc(s,h,c,u)}switch(l){case"input":_h(s,r);break;case"textarea":cy(s,r);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var d=r.value;d!=null?Ls(s,!!r.multiple,d,!1):f!==!!r.multiple&&(r.defaultValue!=null?Ls(s,!!r.multiple,r.defaultValue,!0):Ls(s,!!r.multiple,r.multiple?[]:"",!1))}s[no]=r}catch(v){Tt(i,i.return,v)}}break;case 6:if(Ke(t,i),oi(i),n&4){if(i.stateNode===null)throw Error(C(162));s=i.stateNode,r=i.memoizedProps;try{s.nodeValue=r}catch(v){Tt(i,i.return,v)}}break;case 3:if(Ke(t,i),oi(i),n&4&&e!==null&&e.memoizedState.isDehydrated)try{qr(t.containerInfo)}catch(v){Tt(i,i.return,v)}break;case 4:Ke(t,i),oi(i);break;case 13:Ke(t,i),oi(i),s=i.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(df=Bt())),n&4&&pp(i);break;case 22:if(h=e!==null&&e.memoizedState!==null,i.mode&1?(Qt=(u=Qt)||h,Ke(t,i),Qt=u):Ke(t,i),oi(i),n&8192){if(u=i.memoizedState!==null,(i.stateNode.isHidden=u)&&!h&&i.mode&1)for(D=i,h=i.child;h!==null;){for(c=D=h;D!==null;){switch(f=D,d=f.child,f.tag){case 0:case 11:case 14:case 15:Rr(4,f,f.return);break;case 1:Ts(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){n=f,e=f.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(v){Tt(n,e,v)}}break;case 5:Ts(f,f.return);break;case 22:if(f.memoizedState!==null){yp(c);continue}}d!==null?(d.return=f,D=d):yp(c)}h=h.sibling}t:for(h=null,c=i;;){if(c.tag===5){if(h===null){h=c;try{s=c.stateNode,u?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(l=c.stateNode,a=c.memoizedProps.style,o=a!=null&&a.hasOwnProperty("display")?a.display:null,l.style.display=py("display",o))}catch(v){Tt(i,i.return,v)}}}else if(c.tag===6){if(h===null)try{c.stateNode.nodeValue=u?"":c.memoizedProps}catch(v){Tt(i,i.return,v)}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===i)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===i)break t;for(;c.sibling===null;){if(c.return===null||c.return===i)break t;h===c&&(h=null),c=c.return}h===c&&(h=null),c.sibling.return=c.return,c=c.sibling}}break;case 19:Ke(t,i),oi(i),n&4&&pp(i);break;case 21:break;default:Ke(t,i),oi(i)}}function oi(i){var t=i.flags;if(t&2){try{t:{for(var e=i.return;e!==null;){if($v(e)){var n=e;break t}e=e.return}throw Error(C(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Xr(s,""),n.flags&=-33);var r=dp(i);ic(i,r,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=dp(i);ec(i,l,o);break;default:throw Error(C(161))}}catch(a){Tt(i,i.return,a)}i.flags&=-3}t&4096&&(i.flags&=-4097)}function Bb(i,t,e){D=i,jv(i)}function jv(i,t,e){for(var n=(i.mode&1)!==0;D!==null;){var s=D,r=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Go;if(!o){var l=s.alternate,a=l!==null&&l.memoizedState!==null||Qt;l=Go;var u=Qt;if(Go=o,(Qt=a)&&!u)for(D=s;D!==null;)o=D,a=o.child,o.tag===22&&o.memoizedState!==null?vp(s):a!==null?(a.return=o,D=a):vp(s);for(;r!==null;)D=r,jv(r),r=r.sibling;D=s,Go=l,Qt=u}mp(i)}else s.subtreeFlags&8772&&r!==null?(r.return=s,D=r):mp(i)}}function mp(i){for(;D!==null;){var t=D;if(t.flags&8772){var e=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Qt||ja(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Qt)if(e===null)n.componentDidMount();else{var s=t.elementType===t.type?e.memoizedProps:Ye(t.type,e.memoizedProps);n.componentDidUpdate(s,e.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var r=t.updateQueue;r!==null&&Zd(t,r,n);break;case 3:var o=t.updateQueue;if(o!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}Zd(t,o,e)}break;case 5:var l=t.stateNode;if(e===null&&t.flags&4){e=l;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&e.focus();break;case"img":a.src&&(e.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var c=h.dehydrated;c!==null&&qr(c)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(C(163))}Qt||t.flags&512&&tc(t)}catch(f){Tt(t,t.return,f)}}if(t===i){D=null;break}if(e=t.sibling,e!==null){e.return=t.return,D=e;break}D=t.return}}function yp(i){for(;D!==null;){var t=D;if(t===i){D=null;break}var e=t.sibling;if(e!==null){e.return=t.return,D=e;break}D=t.return}}function vp(i){for(;D!==null;){var t=D;try{switch(t.tag){case 0:case 11:case 15:var e=t.return;try{ja(4,t)}catch(a){Tt(t,e,a)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(a){Tt(t,s,a)}}var r=t.return;try{tc(t)}catch(a){Tt(t,r,a)}break;case 5:var o=t.return;try{tc(t)}catch(a){Tt(t,o,a)}}}catch(a){Tt(t,t.return,a)}if(t===i){D=null;break}var l=t.sibling;if(l!==null){l.return=t.return,D=l;break}D=t.return}}var Ob=Math.ceil,ql=Xi.ReactCurrentDispatcher,cf=Xi.ReactCurrentOwner,Ue=Xi.ReactCurrentBatchConfig,st=0,Vt=null,zt=null,Ht=0,Se=0,Bs=Nn(0),At=0,uo=null,is=0,Wa=0,ff=0,Ar=null,ae=null,df=0,Zs=1/0,Ni=null,Zl=!1,nc=null,yn=null,qo=!1,hn=null,ta=0,Pr=0,sc=null,Sl=-1,xl=0;function ie(){return st&6?Bt():Sl!==-1?Sl:Sl=Bt()}function vn(i){return i.mode&1?st&2&&Ht!==0?Ht&-Ht:mb.transition!==null?(xl===0&&(xl=Cy()),xl):(i=ct,i!==0||(i=window.event,i=i===void 0?16:Dy(i.type)),i):1}function qe(i,t,e,n){if(50<Pr)throw Pr=0,sc=null,Error(C(185));Mo(i,e,n),(!(st&2)||i!==Vt)&&(i===Vt&&(!(st&2)&&(Wa|=e),At===4&&an(i,Ht)),me(i,n),e===1&&st===0&&!(t.mode&1)&&(Zs=Bt()+500,$a&&Tn()))}function me(i,t){var e=i.callbackNode;m1(i,t);var n=Rl(i,i===Vt?Ht:0);if(n===0)e!==null&&Ed(e),i.callbackNode=null,i.callbackPriority=0;else if(t=n&-n,i.callbackPriority!==t){if(e!=null&&Ed(e),t===1)i.tag===0?pb(gp.bind(null,i)):Zy(gp.bind(null,i)),hb(function(){!(st&6)&&Tn()}),e=null;else{switch(ky(n)){case 1:e=Ac;break;case 4:e=Iy;break;case 16:e=Fl;break;case 536870912:e=Ey;break;default:e=Fl}e=Gv(e,Wv.bind(null,i))}i.callbackPriority=t,i.callbackNode=e}}function Wv(i,t){if(Sl=-1,xl=0,st&6)throw Error(C(327));var e=i.callbackNode;if($s()&&i.callbackNode!==e)return null;var n=Rl(i,i===Vt?Ht:0);if(n===0)return null;if(n&30||n&i.expiredLanes||t)t=ea(i,n);else{t=n;var s=st;st|=2;var r=Kv();(Vt!==i||Ht!==t)&&(Ni=null,Zs=Bt()+500,Xn(i,t));do try{Lb();break}catch(l){Hv(i,l)}while(!0);Gc(),ql.current=r,st=s,zt!==null?t=0:(Vt=null,Ht=0,t=At)}if(t!==0){if(t===2&&(s=Bh(i),s!==0&&(n=s,t=rc(i,s))),t===1)throw e=uo,Xn(i,0),an(i,n),me(i,Bt()),e;if(t===6)an(i,n);else{if(s=i.current.alternate,!(n&30)&&!zb(s)&&(t=ea(i,n),t===2&&(r=Bh(i),r!==0&&(n=r,t=rc(i,r))),t===1))throw e=uo,Xn(i,0),an(i,n),me(i,Bt()),e;switch(i.finishedWork=s,i.finishedLanes=n,t){case 0:case 1:throw Error(C(345));case 2:Rn(i,ae,Ni);break;case 3:if(an(i,n),(n&130023424)===n&&(t=df+500-Bt(),10<t)){if(Rl(i,0)!==0)break;if(s=i.suspendedLanes,(s&n)!==n){ie(),i.pingedLanes|=i.suspendedLanes&s;break}i.timeoutHandle=Ph(Rn.bind(null,i,ae,Ni),t);break}Rn(i,ae,Ni);break;case 4:if(an(i,n),(n&4194240)===n)break;for(t=i.eventTimes,s=-1;0<n;){var o=31-Ge(n);r=1<<o,o=t[o],o>s&&(s=o),n&=~r}if(n=s,n=Bt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ob(n/1960))-n,10<n){i.timeoutHandle=Ph(Rn.bind(null,i,ae,Ni),n);break}Rn(i,ae,Ni);break;case 5:Rn(i,ae,Ni);break;default:throw Error(C(329))}}}return me(i,Bt()),i.callbackNode===e?Wv.bind(null,i):null}function rc(i,t){var e=Ar;return i.current.memoizedState.isDehydrated&&(Xn(i,t).flags|=256),i=ea(i,t),i!==2&&(t=ae,ae=e,t!==null&&oc(t)),i}function oc(i){ae===null?ae=i:ae.push.apply(ae,i)}function zb(i){for(var t=i;;){if(t.flags&16384){var e=t.updateQueue;if(e!==null&&(e=e.stores,e!==null))for(var n=0;n<e.length;n++){var s=e[n],r=s.getSnapshot;s=s.value;try{if(!ti(r(),s))return!1}catch{return!1}}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===i)break;for(;t.sibling===null;){if(t.return===null||t.return===i)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function an(i,t){for(t&=~ff,t&=~Wa,i.suspendedLanes|=t,i.pingedLanes&=~t,i=i.expirationTimes;0<t;){var e=31-Ge(t),n=1<<e;i[e]=-1,t&=~n}}function gp(i){if(st&6)throw Error(C(327));$s();var t=Rl(i,0);if(!(t&1))return me(i,Bt()),null;var e=ea(i,t);if(i.tag!==0&&e===2){var n=Bh(i);n!==0&&(t=n,e=rc(i,n))}if(e===1)throw e=uo,Xn(i,0),an(i,t),me(i,Bt()),e;if(e===6)throw Error(C(345));return i.finishedWork=i.current.alternate,i.finishedLanes=t,Rn(i,ae,Ni),me(i,Bt()),null}function pf(i,t){var e=st;st|=1;try{return i(t)}finally{st=e,st===0&&(Zs=Bt()+500,$a&&Tn())}}function ns(i){hn!==null&&hn.tag===0&&!(st&6)&&$s();var t=st;st|=1;var e=Ue.transition,n=ct;try{if(Ue.transition=null,ct=1,i)return i()}finally{ct=n,Ue.transition=e,st=t,!(st&6)&&Tn()}}function mf(){Se=Bs.current,bt(Bs)}function Xn(i,t){i.finishedWork=null,i.finishedLanes=0;var e=i.timeoutHandle;if(e!==-1&&(i.timeoutHandle=-1,ub(e)),zt!==null)for(e=zt.return;e!==null;){var n=e;switch(Xc(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Ul();break;case 3:Gs(),bt(de),bt(Jt),sf();break;case 5:nf(n);break;case 4:Gs();break;case 13:bt(It);break;case 19:bt(It);break;case 10:qc(n.type._context);break;case 22:case 23:mf()}e=e.return}if(Vt=i,zt=i=gn(i.current,null),Ht=Se=t,At=0,uo=null,ff=Wa=is=0,ae=Ar=null,$n!==null){for(t=0;t<$n.length;t++)if(e=$n[t],n=e.interleaved,n!==null){e.interleaved=null;var s=n.next,r=e.pending;if(r!==null){var o=r.next;r.next=s,n.next=o}e.pending=n}$n=null}return i}function Hv(i,t){do{var e=zt;try{if(Gc(),wl.current=Gl,Jl){for(var n=Ct.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Jl=!1}if(es=0,$t=Lt=Ct=null,Fr=!1,oo=0,cf.current=null,e===null||e.return===null){At=1,uo=t,zt=null;break}t:{var r=i,o=e.return,l=e,a=t;if(t=Ht,l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var u=a,h=l,c=h.tag;if(!(h.mode&1)&&(c===0||c===11||c===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var d=rp(o);if(d!==null){d.flags&=-257,op(d,o,l,r,t),d.mode&1&&sp(r,u,t),t=d,a=u;var y=t.updateQueue;if(y===null){var v=new Set;v.add(a),t.updateQueue=v}else y.add(a);break t}else{if(!(t&1)){sp(r,u,t),yf();break t}a=Error(C(426))}}else if(St&&l.mode&1){var x=rp(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),op(x,o,l,r,t),Qc(qs(a,l));break t}}r=a=qs(a,l),At!==4&&(At=2),Ar===null?Ar=[r]:Ar.push(r),r=o;do{switch(r.tag){case 3:r.flags|=65536,t&=-t,r.lanes|=t;var m=kv(r,a,t);qd(r,m);break t;case 1:l=a;var p=r.type,g=r.stateNode;if(!(r.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(yn===null||!yn.has(g)))){r.flags|=65536,t&=-t,r.lanes|=t;var _=Nv(r,l,t);qd(r,_);break t}}r=r.return}while(r!==null)}Xv(e)}catch(k){t=k,zt===e&&e!==null&&(zt=e=e.return);continue}break}while(!0)}function Kv(){var i=ql.current;return ql.current=Gl,i===null?Gl:i}function yf(){(At===0||At===3||At===2)&&(At=4),Vt===null||!(is&268435455)&&!(Wa&268435455)||an(Vt,Ht)}function ea(i,t){var e=st;st|=2;var n=Kv();(Vt!==i||Ht!==t)&&(Ni=null,Xn(i,t));do try{Db();break}catch(s){Hv(i,s)}while(!0);if(Gc(),st=e,ql.current=n,zt!==null)throw Error(C(261));return Vt=null,Ht=0,At}function Db(){for(;zt!==null;)Yv(zt)}function Lb(){for(;zt!==null&&!o1();)Yv(zt)}function Yv(i){var t=Jv(i.alternate,i,Se);i.memoizedProps=i.pendingProps,t===null?Xv(i):zt=t,cf.current=null}function Xv(i){var t=i;do{var e=t.alternate;if(i=t.return,t.flags&32768){if(e=kb(e,t),e!==null){e.flags&=32767,zt=e;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{At=6,zt=null;return}}else if(e=Cb(e,t,Se),e!==null){zt=e;return}if(t=t.sibling,t!==null){zt=t;return}zt=t=i}while(t!==null);At===0&&(At=5)}function Rn(i,t,e){var n=ct,s=Ue.transition;try{Ue.transition=null,ct=1,Fb(i,t,e,n)}finally{Ue.transition=s,ct=n}return null}function Fb(i,t,e,n){do $s();while(hn!==null);if(st&6)throw Error(C(327));e=i.finishedWork;var s=i.finishedLanes;if(e===null)return null;if(i.finishedWork=null,i.finishedLanes=0,e===i.current)throw Error(C(177));i.callbackNode=null,i.callbackPriority=0;var r=e.lanes|e.childLanes;if(y1(i,r),i===Vt&&(zt=Vt=null,Ht=0),!(e.subtreeFlags&2064)&&!(e.flags&2064)||qo||(qo=!0,Gv(Fl,function(){return $s(),null})),r=(e.flags&15990)!==0,e.subtreeFlags&15990||r){r=Ue.transition,Ue.transition=null;var o=ct;ct=1;var l=st;st|=4,cf.current=null,Tb(i,e),Uv(e,i),ib(Rh),Al=!!Fh,Rh=Fh=null,i.current=e,Bb(e),l1(),st=l,ct=o,Ue.transition=r}else i.current=e;if(qo&&(qo=!1,hn=i,ta=s),r=i.pendingLanes,r===0&&(yn=null),h1(e.stateNode),me(i,Bt()),t!==null)for(n=i.onRecoverableError,e=0;e<t.length;e++)s=t[e],n(s.value,{componentStack:s.stack,digest:s.digest});if(Zl)throw Zl=!1,i=nc,nc=null,i;return ta&1&&i.tag!==0&&$s(),r=i.pendingLanes,r&1?i===sc?Pr++:(Pr=0,sc=i):Pr=0,Tn(),null}function $s(){if(hn!==null){var i=ky(ta),t=Ue.transition,e=ct;try{if(Ue.transition=null,ct=16>i?16:i,hn===null)var n=!1;else{if(i=hn,hn=null,ta=0,st&6)throw Error(C(331));var s=st;for(st|=4,D=i.current;D!==null;){var r=D,o=r.child;if(D.flags&16){var l=r.deletions;if(l!==null){for(var a=0;a<l.length;a++){var u=l[a];for(D=u;D!==null;){var h=D;switch(h.tag){case 0:case 11:case 15:Rr(8,h,r)}var c=h.child;if(c!==null)c.return=h,D=c;else for(;D!==null;){h=D;var f=h.sibling,d=h.return;if(Pv(h),h===u){D=null;break}if(f!==null){f.return=d,D=f;break}D=d}}}var y=r.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var x=v.sibling;v.sibling=null,v=x}while(v!==null)}}D=r}}if(r.subtreeFlags&2064&&o!==null)o.return=r,D=o;else t:for(;D!==null;){if(r=D,r.flags&2048)switch(r.tag){case 0:case 11:case 15:Rr(9,r,r.return)}var m=r.sibling;if(m!==null){m.return=r.return,D=m;break t}D=r.return}}var p=i.current;for(D=p;D!==null;){o=D;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,D=g;else t:for(o=p;D!==null;){if(l=D,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ja(9,l)}}catch(k){Tt(l,l.return,k)}if(l===o){D=null;break t}var _=l.sibling;if(_!==null){_.return=l.return,D=_;break t}D=l.return}}if(st=s,Tn(),Si&&typeof Si.onPostCommitFiberRoot=="function")try{Si.onPostCommitFiberRoot(La,i)}catch{}n=!0}return n}finally{ct=e,Ue.transition=t}}return!1}function wp(i,t,e){t=qs(e,t),t=kv(i,t,1),i=mn(i,t,1),t=ie(),i!==null&&(Mo(i,1,t),me(i,t))}function Tt(i,t,e){if(i.tag===3)wp(i,i,e);else for(;t!==null;){if(t.tag===3){wp(t,i,e);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(yn===null||!yn.has(n))){i=qs(e,i),i=Nv(t,i,1),t=mn(t,i,1),i=ie(),t!==null&&(Mo(t,1,i),me(t,i));break}}t=t.return}}function Rb(i,t,e){var n=i.pingCache;n!==null&&n.delete(t),t=ie(),i.pingedLanes|=i.suspendedLanes&e,Vt===i&&(Ht&e)===e&&(At===4||At===3&&(Ht&130023424)===Ht&&500>Bt()-df?Xn(i,0):ff|=e),me(i,t)}function Qv(i,t){t===0&&(i.mode&1?(t=Uo,Uo<<=1,!(Uo&130023424)&&(Uo=4194304)):t=1);var e=ie();i=Hi(i,t),i!==null&&(Mo(i,t,e),me(i,e))}function Ab(i){var t=i.memoizedState,e=0;t!==null&&(e=t.retryLane),Qv(i,e)}function Pb(i,t){var e=0;switch(i.tag){case 13:var n=i.stateNode,s=i.memoizedState;s!==null&&(e=s.retryLane);break;case 19:n=i.stateNode;break;default:throw Error(C(314))}n!==null&&n.delete(t),Qv(i,e)}var Jv;Jv=function(i,t,e){if(i!==null)if(i.memoizedProps!==t.pendingProps||de.current)fe=!0;else{if(!(i.lanes&e)&&!(t.flags&128))return fe=!1,Eb(i,t,e);fe=!!(i.flags&131072)}else fe=!1,St&&t.flags&1048576&&tv(t,Hl,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;_l(i,t),i=t.pendingProps;var s=Xs(t,Jt.current);Ps(t,e),s=of(null,t,n,i,s,e);var r=lf();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pe(n)?(r=!0,jl(t)):r=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,tf(t),s.updater=Ua,t.stateNode=s,s._reactInternals=t,Kh(t,n,i,e),t=Qh(null,t,n,!0,r,e)):(t.tag=0,St&&r&&Yc(t),qt(null,t,s,e),t=t.child),t;case 16:n=t.elementType;t:{switch(_l(i,t),i=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Vb(n),i=Ye(n,i),s){case 0:t=Xh(null,t,n,i,e);break t;case 1:t=up(null,t,n,i,e);break t;case 11:t=lp(null,t,n,i,e);break t;case 14:t=ap(null,t,n,Ye(n.type,i),e);break t}throw Error(C(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ye(n,s),Xh(i,t,n,s,e);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ye(n,s),up(i,t,n,s,e);case 3:t:{if(zv(t),i===null)throw Error(C(387));n=t.pendingProps,r=t.memoizedState,s=r.element,ov(i,t),Xl(t,n,null,e);var o=t.memoizedState;if(n=o.element,r.isDehydrated)if(r={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=r,t.memoizedState=r,t.flags&256){s=qs(Error(C(423)),t),t=hp(i,t,n,e,s);break t}else if(n!==s){s=qs(Error(C(424)),t),t=hp(i,t,n,e,s);break t}else for(Ie=pn(t.stateNode.containerInfo.firstChild),Ee=t,St=!0,Je=null,e=sv(t,null,n,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if(Qs(),n===s){t=Ki(i,t,e);break t}qt(i,t,n,e)}t=t.child}return t;case 5:return lv(t),i===null&&jh(t),n=t.type,s=t.pendingProps,r=i!==null?i.memoizedProps:null,o=s.children,Ah(n,s)?o=null:r!==null&&Ah(n,r)&&(t.flags|=32),Ov(i,t),qt(i,t,o,e),t.child;case 6:return i===null&&jh(t),null;case 13:return Dv(i,t,e);case 4:return ef(t,t.stateNode.containerInfo),n=t.pendingProps,i===null?t.child=Js(t,null,n,e):qt(i,t,n,e),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ye(n,s),lp(i,t,n,s,e);case 7:return qt(i,t,t.pendingProps,e),t.child;case 8:return qt(i,t,t.pendingProps.children,e),t.child;case 12:return qt(i,t,t.pendingProps.children,e),t.child;case 10:t:{if(n=t.type._context,s=t.pendingProps,r=t.memoizedProps,o=s.value,vt(Kl,n._currentValue),n._currentValue=o,r!==null)if(ti(r.value,o)){if(r.children===s.children&&!de.current){t=Ki(i,t,e);break t}}else for(r=t.child,r!==null&&(r.return=t);r!==null;){var l=r.dependencies;if(l!==null){o=r.child;for(var a=l.firstContext;a!==null;){if(a.context===n){if(r.tag===1){a=$i(-1,e&-e),a.tag=2;var u=r.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?a.next=a:(a.next=h.next,h.next=a),u.pending=a}}r.lanes|=e,a=r.alternate,a!==null&&(a.lanes|=e),Wh(r.return,e,t),l.lanes|=e;break}a=a.next}}else if(r.tag===10)o=r.type===t.type?null:r.child;else if(r.tag===18){if(o=r.return,o===null)throw Error(C(341));o.lanes|=e,l=o.alternate,l!==null&&(l.lanes|=e),Wh(o,e,t),o=r.sibling}else o=r.child;if(o!==null)o.return=r;else for(o=r;o!==null;){if(o===t){o=null;break}if(r=o.sibling,r!==null){r.return=o.return,o=r;break}o=o.return}r=o}qt(i,t,s.children,e),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Ps(t,e),s=je(s),n=n(s),t.flags|=1,qt(i,t,n,e),t.child;case 14:return n=t.type,s=Ye(n,t.pendingProps),s=Ye(n.type,s),ap(i,t,n,s,e);case 15:return Tv(i,t,t.type,t.pendingProps,e);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:Ye(n,s),_l(i,t),t.tag=1,pe(n)?(i=!0,jl(t)):i=!1,Ps(t,e),Cv(t,n,s),Kh(t,n,s,e),Qh(null,t,n,!0,i,e);case 19:return Lv(i,t,e);case 22:return Bv(i,t,e)}throw Error(C(156,t.tag))};function Gv(i,t){return My(i,t)}function $b(i,t,e,n){this.tag=i,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ve(i,t,e,n){return new $b(i,t,e,n)}function vf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Vb(i){if(typeof i=="function")return vf(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Lc)return 11;if(i===Fc)return 14}return 2}function gn(i,t){var e=i.alternate;return e===null?(e=Ve(i.tag,t,i.key,i.mode),e.elementType=i.elementType,e.type=i.type,e.stateNode=i.stateNode,e.alternate=i,i.alternate=e):(e.pendingProps=t,e.type=i.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=i.flags&14680064,e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=i.sibling,e.index=i.index,e.ref=i.ref,e}function Ml(i,t,e,n,s,r){var o=2;if(n=i,typeof i=="function")vf(i)&&(o=1);else if(typeof i=="string")o=5;else t:switch(i){case _s:return Qn(e.children,s,r,t);case Dc:o=8,s|=8;break;case yh:return i=Ve(12,e,t,s|2),i.elementType=yh,i.lanes=r,i;case vh:return i=Ve(13,e,t,s),i.elementType=vh,i.lanes=r,i;case gh:return i=Ve(19,e,t,s),i.elementType=gh,i.lanes=r,i;case ly:return Ha(e,s,r,t);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ry:o=10;break t;case oy:o=9;break t;case Lc:o=11;break t;case Fc:o=14;break t;case nn:o=16,n=null;break t}throw Error(C(130,i==null?i:typeof i,""))}return t=Ve(o,e,t,s),t.elementType=i,t.type=n,t.lanes=r,t}function Qn(i,t,e,n){return i=Ve(7,i,n,t),i.lanes=e,i}function Ha(i,t,e,n){return i=Ve(22,i,n,t),i.elementType=ly,i.lanes=e,i.stateNode={isHidden:!1},i}function $u(i,t,e){return i=Ve(6,i,null,t),i.lanes=e,i}function Vu(i,t,e){return t=Ve(4,i.children!==null?i.children:[],i.key,t),t.lanes=e,t.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},t}function Ub(i,t,e,n,s){this.tag=t,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_u(0),this.expirationTimes=_u(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_u(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function gf(i,t,e,n,s,r,o,l,a){return i=new Ub(i,t,e,l,a),t===1?(t=1,r===!0&&(t|=8)):t=0,r=Ve(3,null,null,t),i.current=r,r.stateNode=i,r.memoizedState={element:n,isDehydrated:e,cache:null,transitions:null,pendingSuspenseBoundaries:null},tf(r),i}function jb(i,t,e){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bs,key:n==null?null:""+n,children:i,containerInfo:t,implementation:e}}function qv(i){if(!i)return bn;i=i._reactInternals;t:{if(hs(i)!==i||i.tag!==1)throw Error(C(170));var t=i;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(pe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(C(171))}if(i.tag===1){var e=i.type;if(pe(e))return qy(i,e,t)}return t}function Zv(i,t,e,n,s,r,o,l,a){return i=gf(e,n,!0,i,s,r,o,l,a),i.context=qv(null),e=i.current,n=ie(),s=vn(e),r=$i(n,s),r.callback=t??null,mn(e,r,s),i.current.lanes=s,Mo(i,s,n),me(i,n),i}function Ka(i,t,e,n){var s=t.current,r=ie(),o=vn(s);return e=qv(e),t.context===null?t.context=e:t.pendingContext=e,t=$i(r,o),t.payload={element:i},n=n===void 0?null:n,n!==null&&(t.callback=n),i=mn(s,t,o),i!==null&&(qe(i,s,o,r),gl(i,s,o)),o}function ia(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function bp(i,t){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var e=i.retryLane;i.retryLane=e!==0&&e<t?e:t}}function wf(i,t){bp(i,t),(i=i.alternate)&&bp(i,t)}function Wb(){return null}var t0=typeof reportError=="function"?reportError:function(i){console.error(i)};function bf(i){this._internalRoot=i}Ya.prototype.render=bf.prototype.render=function(i){var t=this._internalRoot;if(t===null)throw Error(C(409));Ka(i,t,null,null)};Ya.prototype.unmount=bf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var t=i.containerInfo;ns(function(){Ka(null,i,null,null)}),t[Wi]=null}};function Ya(i){this._internalRoot=i}Ya.prototype.unstable_scheduleHydration=function(i){if(i){var t=By();i={blockedOn:null,target:i,priority:t};for(var e=0;e<ln.length&&t!==0&&t<ln[e].priority;e++);ln.splice(e,0,i),e===0&&zy(i)}};function _f(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Xa(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function _p(){}function Hb(i,t,e,n,s){if(s){if(typeof n=="function"){var r=n;n=function(){var u=ia(o);r.call(u)}}var o=Zv(t,n,i,0,null,!1,!1,"",_p);return i._reactRootContainer=o,i[Wi]=o.current,eo(i.nodeType===8?i.parentNode:i),ns(),o}for(;s=i.lastChild;)i.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=ia(a);l.call(u)}}var a=gf(i,0,!1,null,null,!1,!1,"",_p);return i._reactRootContainer=a,i[Wi]=a.current,eo(i.nodeType===8?i.parentNode:i),ns(function(){Ka(t,a,e,n)}),a}function Qa(i,t,e,n,s){var r=e._reactRootContainer;if(r){var o=r;if(typeof s=="function"){var l=s;s=function(){var a=ia(o);l.call(a)}}Ka(t,o,i,s)}else o=Hb(e,t,i,s,n);return ia(o)}Ny=function(i){switch(i.tag){case 3:var t=i.stateNode;if(t.current.memoizedState.isDehydrated){var e=Cr(t.pendingLanes);e!==0&&(Pc(t,e|1),me(t,Bt()),!(st&6)&&(Zs=Bt()+500,Tn()))}break;case 13:ns(function(){var n=Hi(i,1);if(n!==null){var s=ie();qe(n,i,1,s)}}),wf(i,1)}};$c=function(i){if(i.tag===13){var t=Hi(i,134217728);if(t!==null){var e=ie();qe(t,i,134217728,e)}wf(i,134217728)}};Ty=function(i){if(i.tag===13){var t=vn(i),e=Hi(i,t);if(e!==null){var n=ie();qe(e,i,t,n)}wf(i,t)}};By=function(){return ct};Oy=function(i,t){var e=ct;try{return ct=i,t()}finally{ct=e}};kh=function(i,t,e){switch(t){case"input":if(_h(i,e),t=e.name,e.type==="radio"&&t!=null){for(e=i;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<e.length;t++){var n=e[t];if(n!==i&&n.form===i.form){var s=Pa(n);if(!s)throw Error(C(90));uy(n),_h(n,s)}}}break;case"textarea":cy(i,e);break;case"select":t=e.value,t!=null&&Ls(i,!!e.multiple,t,!1)}};gy=pf;wy=ns;var Kb={usingClientEntryPoint:!1,Events:[Eo,Is,Pa,yy,vy,pf]},Sr={findFiberByHostInstance:Pn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Yb={bundleType:Sr.bundleType,version:Sr.version,rendererPackageName:Sr.rendererPackageName,rendererConfig:Sr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xi.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Sy(i),i===null?null:i.stateNode},findFiberByHostInstance:Sr.findFiberByHostInstance||Wb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zo.isDisabled&&Zo.supportsFiber)try{La=Zo.inject(Yb),Si=Zo}catch{}}Te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Kb;Te.createPortal=function(i,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_f(t))throw Error(C(200));return jb(i,t,null,e)};Te.createRoot=function(i,t){if(!_f(i))throw Error(C(299));var e=!1,n="",s=t0;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=gf(i,1,!1,null,null,e,!1,n,s),i[Wi]=t.current,eo(i.nodeType===8?i.parentNode:i),new bf(t)};Te.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var t=i._reactInternals;if(t===void 0)throw typeof i.render=="function"?Error(C(188)):(i=Object.keys(i).join(","),Error(C(268,i)));return i=Sy(t),i=i===null?null:i.stateNode,i};Te.flushSync=function(i){return ns(i)};Te.hydrate=function(i,t,e){if(!Xa(t))throw Error(C(200));return Qa(null,i,t,!0,e)};Te.hydrateRoot=function(i,t,e){if(!_f(i))throw Error(C(405));var n=e!=null&&e.hydratedSources||null,s=!1,r="",o=t0;if(e!=null&&(e.unstable_strictMode===!0&&(s=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),t=Zv(t,null,i,1,e??null,s,!1,r,o),i[Wi]=t.current,eo(i),n)for(i=0;i<n.length;i++)e=n[i],s=e._getVersion,s=s(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,s]:t.mutableSourceEagerHydrationData.push(e,s);return new Ya(t)};Te.render=function(i,t,e){if(!Xa(t))throw Error(C(200));return Qa(null,i,t,!1,e)};Te.unmountComponentAtNode=function(i){if(!Xa(i))throw Error(C(40));return i._reactRootContainer?(ns(function(){Qa(null,null,i,!1,function(){i._reactRootContainer=null,i[Wi]=null})}),!0):!1};Te.unstable_batchedUpdates=pf;Te.unstable_renderSubtreeIntoContainer=function(i,t,e,n){if(!Xa(e))throw Error(C(200));if(i==null||i._reactInternals===void 0)throw Error(C(38));return Qa(i,t,e,!1,n)};Te.version="18.3.1-next-f1338f8080-20240426";function e0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e0)}catch(i){console.error(i)}}e0(),ey.exports=Te;var Xb=ey.exports,Sp=Xb;ph.createRoot=Sp.createRoot,ph.hydrateRoot=Sp.hydrateRoot;var i0={exports:{}},ft={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ut=typeof Symbol=="function"&&Symbol.for,Sf=Ut?Symbol.for("react.element"):60103,xf=Ut?Symbol.for("react.portal"):60106,Ja=Ut?Symbol.for("react.fragment"):60107,Ga=Ut?Symbol.for("react.strict_mode"):60108,qa=Ut?Symbol.for("react.profiler"):60114,Za=Ut?Symbol.for("react.provider"):60109,tu=Ut?Symbol.for("react.context"):60110,Mf=Ut?Symbol.for("react.async_mode"):60111,eu=Ut?Symbol.for("react.concurrent_mode"):60111,iu=Ut?Symbol.for("react.forward_ref"):60112,nu=Ut?Symbol.for("react.suspense"):60113,Qb=Ut?Symbol.for("react.suspense_list"):60120,su=Ut?Symbol.for("react.memo"):60115,ru=Ut?Symbol.for("react.lazy"):60116,Jb=Ut?Symbol.for("react.block"):60121,Gb=Ut?Symbol.for("react.fundamental"):60117,qb=Ut?Symbol.for("react.responder"):60118,Zb=Ut?Symbol.for("react.scope"):60119;function Oe(i){if(typeof i=="object"&&i!==null){var t=i.$$typeof;switch(t){case Sf:switch(i=i.type,i){case Mf:case eu:case Ja:case qa:case Ga:case nu:return i;default:switch(i=i&&i.$$typeof,i){case tu:case iu:case ru:case su:case Za:return i;default:return t}}case xf:return t}}}function n0(i){return Oe(i)===eu}ft.AsyncMode=Mf;ft.ConcurrentMode=eu;ft.ContextConsumer=tu;ft.ContextProvider=Za;ft.Element=Sf;ft.ForwardRef=iu;ft.Fragment=Ja;ft.Lazy=ru;ft.Memo=su;ft.Portal=xf;ft.Profiler=qa;ft.StrictMode=Ga;ft.Suspense=nu;ft.isAsyncMode=function(i){return n0(i)||Oe(i)===Mf};ft.isConcurrentMode=n0;ft.isContextConsumer=function(i){return Oe(i)===tu};ft.isContextProvider=function(i){return Oe(i)===Za};ft.isElement=function(i){return typeof i=="object"&&i!==null&&i.$$typeof===Sf};ft.isForwardRef=function(i){return Oe(i)===iu};ft.isFragment=function(i){return Oe(i)===Ja};ft.isLazy=function(i){return Oe(i)===ru};ft.isMemo=function(i){return Oe(i)===su};ft.isPortal=function(i){return Oe(i)===xf};ft.isProfiler=function(i){return Oe(i)===qa};ft.isStrictMode=function(i){return Oe(i)===Ga};ft.isSuspense=function(i){return Oe(i)===nu};ft.isValidElementType=function(i){return typeof i=="string"||typeof i=="function"||i===Ja||i===eu||i===qa||i===Ga||i===nu||i===Qb||typeof i=="object"&&i!==null&&(i.$$typeof===ru||i.$$typeof===su||i.$$typeof===Za||i.$$typeof===tu||i.$$typeof===iu||i.$$typeof===Gb||i.$$typeof===qb||i.$$typeof===Zb||i.$$typeof===Jb)};ft.typeOf=Oe;i0.exports=ft;var t_=i0.exports,If=t_,e_={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i_={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n_={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s0={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Ef={};Ef[If.ForwardRef]=n_;Ef[If.Memo]=s0;function xp(i){return If.isMemo(i)?s0:Ef[i.$$typeof]||e_}var s_=Object.defineProperty,r_=Object.getOwnPropertyNames,Mp=Object.getOwnPropertySymbols,o_=Object.getOwnPropertyDescriptor,l_=Object.getPrototypeOf,Ip=Object.prototype;function r0(i,t,e){if(typeof t!="string"){if(Ip){var n=l_(t);n&&n!==Ip&&r0(i,n,e)}var s=r_(t);Mp&&(s=s.concat(Mp(t)));for(var r=xp(i),o=xp(t),l=0;l<s.length;++l){var a=s[l];if(!i_[a]&&!(e&&e[a])&&!(o&&o[a])&&!(r&&r[a])){var u=o_(t,a);try{s_(i,a,u)}catch{}}}}return i}var a_=r0;const u_=jm(a_);function P(i,t,e,n){function s(r){return r instanceof e?r:new e(function(o){o(r)})}return new(e||(e=Promise))(function(r,o){function l(h){try{u(n.next(h))}catch(c){o(c)}}function a(h){try{u(n.throw(h))}catch(c){o(c)}}function u(h){h.done?r(h.value):s(h.value).then(l,a)}u((n=n.apply(i,t||[])).next())})}function Ep(i){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&i[t],n=0;if(e)return e.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&n>=i.length&&(i=void 0),{value:i&&i[n++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Q(i){return this instanceof Q?(this.v=i,this):new Q(i)}function wi(i,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e.apply(i,t||[]),s,r=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(d){return function(y){return Promise.resolve(y).then(d,c)}}function l(d,y){n[d]&&(s[d]=function(v){return new Promise(function(x,m){r.push([d,v,x,m])>1||a(d,v)})},y&&(s[d]=y(s[d])))}function a(d,y){try{u(n[d](y))}catch(v){f(r[0][3],v)}}function u(d){d.value instanceof Q?Promise.resolve(d.value.v).then(h,c):f(r[0][2],d)}function h(d){a("next",d)}function c(d){a("throw",d)}function f(d,y){d(y),r.shift(),r.length&&a(r[0][0],r[0][1])}}function Il(i){var t,e;return t={},n("next"),n("throw",function(s){throw s}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(s,r){t[s]=i[s]?function(o){return(e=!e)?{value:Q(i[s](o)),done:!1}:r?r(o):o}:r}}function Jn(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],e;return t?t.call(i):(i=typeof Ep=="function"?Ep(i):i[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=i[r]&&function(o){return new Promise(function(l,a){o=i[r](o),s(l,a,o.done,o.value)})}}function s(r,o,l,a){Promise.resolve(a).then(function(u){r({value:u,done:l})},o)}}const h_=new TextDecoder("utf-8"),lc=i=>h_.decode(i),c_=new TextEncoder,Cf=i=>c_.encode(i),[RI,f_]=(()=>{const i=()=>{throw new Error("BigInt is not available in this environment")};function t(){throw i()}return t.asIntN=()=>{throw i()},t.asUintN=()=>{throw i()},typeof BigInt<"u"?[BigInt,!0]:[t,!1]})(),[ko,AI]=(()=>{const i=()=>{throw new Error("BigInt64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw i()}static from(){throw i()}constructor(){throw i()}}return typeof BigInt64Array<"u"?[BigInt64Array,!0]:[t,!1]})(),[No,PI]=(()=>{const i=()=>{throw new Error("BigUint64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw i()}static from(){throw i()}constructor(){throw i()}}return typeof BigUint64Array<"u"?[BigUint64Array,!0]:[t,!1]})(),d_=i=>typeof i=="number",o0=i=>typeof i=="boolean",Ft=i=>typeof i=="function",ge=i=>i!=null&&Object(i)===i,_n=i=>ge(i)&&Ft(i.then),To=i=>ge(i)&&Ft(i[Symbol.iterator]),fr=i=>ge(i)&&Ft(i[Symbol.asyncIterator]),ac=i=>ge(i)&&ge(i.schema),l0=i=>ge(i)&&"done"in i&&"value"in i,a0=i=>ge(i)&&Ft(i.stat)&&d_(i.fd),u0=i=>ge(i)&&kf(i.body),ou=i=>"_getDOMStream"in i&&"_getNodeStream"in i,p_=i=>ge(i)&&Ft(i.abort)&&Ft(i.getWriter)&&!ou(i),kf=i=>ge(i)&&Ft(i.cancel)&&Ft(i.getReader)&&!ou(i),m_=i=>ge(i)&&Ft(i.end)&&Ft(i.write)&&o0(i.writable)&&!ou(i),h0=i=>ge(i)&&Ft(i.read)&&Ft(i.pipe)&&o0(i.readable)&&!ou(i),y_=i=>ge(i)&&Ft(i.clear)&&Ft(i.bytes)&&Ft(i.position)&&Ft(i.setPosition)&&Ft(i.capacity)&&Ft(i.getBufferIdentifier)&&Ft(i.createLong),Nf=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function v_(i){const t=i[0]?[i[0]]:[];let e,n,s,r;for(let o,l,a=0,u=0,h=i.length;++a<h;){if(o=t[u],l=i[a],!o||!l||o.buffer!==l.buffer||l.byteOffset<o.byteOffset){l&&(t[++u]=l);continue}if({byteOffset:e,byteLength:s}=o,{byteOffset:n,byteLength:r}=l,e+s<n||n+r<e){l&&(t[++u]=l);continue}t[u]=new Uint8Array(o.buffer,e,n-e+r)}return t}function Cp(i,t,e=0,n=t.byteLength){const s=i.byteLength,r=new Uint8Array(i.buffer,i.byteOffset,s),o=new Uint8Array(t.buffer,t.byteOffset,Math.min(n,s));return r.set(o,e),i}function Mi(i,t){const e=v_(i),n=e.reduce((h,c)=>h+c.byteLength,0);let s,r,o,l=0,a=-1;const u=Math.min(t||Number.POSITIVE_INFINITY,n);for(const h=e.length;++a<h;){if(s=e[a],r=s.subarray(0,Math.min(s.length,u-l)),u<=l+r.length){r.length<s.length?e[a]=s.subarray(r.length):r.length===s.length&&a++,o?Cp(o,r,l):o=r;break}Cp(o||(o=new Uint8Array(u)),r,l),l+=r.length}return[o||new Uint8Array(0),e.slice(a),n-(o?o.byteLength:0)]}function pt(i,t){let e=l0(t)?t.value:t;return e instanceof i?i===Uint8Array?new i(e.buffer,e.byteOffset,e.byteLength):e:e?(typeof e=="string"&&(e=Cf(e)),e instanceof ArrayBuffer?new i(e):e instanceof Nf?new i(e):y_(e)?pt(i,e.bytes()):ArrayBuffer.isView(e)?e.byteLength<=0?new i(0):new i(e.buffer,e.byteOffset,e.byteLength/i.BYTES_PER_ELEMENT):i.from(e)):new i(0)}const xr=i=>pt(Int32Array,i),rt=i=>pt(Uint8Array,i),uc=i=>(i.next(),i);function*g_(i,t){const e=function*(s){yield s},n=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof Nf?e(t):To(t)?t:e(t);return yield*uc(function*(s){let r=null;do r=s.next(yield pt(i,r));while(!r.done)}(n[Symbol.iterator]())),new i}const w_=i=>g_(Uint8Array,i);function c0(i,t){return wi(this,arguments,function*(){if(_n(t))return yield Q(yield Q(yield*Il(Jn(c0(i,yield Q(t))))));const n=function(o){return wi(this,arguments,function*(){yield yield Q(yield Q(o))})},s=function(o){return wi(this,arguments,function*(){yield Q(yield*Il(Jn(uc(function*(l){let a=null;do a=l.next(yield a==null?void 0:a.value);while(!a.done)}(o[Symbol.iterator]())))))})},r=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof Nf?n(t):To(t)?s(t):fr(t)?t:n(t);return yield Q(yield*Il(Jn(uc(function(o){return wi(this,arguments,function*(){let l=null;do l=yield Q(o.next(yield yield Q(pt(i,l))));while(!l.done)})}(r[Symbol.asyncIterator]()))))),yield Q(new i)})}const b_=i=>c0(Uint8Array,i);function Tf(i,t,e){if(i!==0){e=e.slice(0,t+1);for(let n=-1;++n<=t;)e[n]+=i}return e}function __(i,t){let e=0;const n=i.length;if(n!==t.length)return!1;if(n>0)do if(i[e]!==t[e])return!1;while(++e<n);return!0}const Fe={fromIterable(i){return tl(S_(i))},fromAsyncIterable(i){return tl(x_(i))},fromDOMStream(i){return tl(M_(i))},fromNodeStream(i){return tl(E_(i))},toDOMStream(i,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(i,t){throw new Error('"toNodeStream" not available in this environment')}},tl=i=>(i.next(),i);function*S_(i){let t,e=!1,n=[],s,r,o,l=0;function a(){return r==="peek"?Mi(n,o)[0]:([s,n,l]=Mi(n,o),s)}({cmd:r,size:o}=yield null);const u=w_(i)[Symbol.iterator]();try{do if({done:t,value:s}=Number.isNaN(o-l)?u.next():u.next(o-l),!t&&s.byteLength>0&&(n.push(s),l+=s.byteLength),t||o<=l)do({cmd:r,size:o}=yield a());while(o<l);while(!t)}catch(h){(e=!0)&&typeof u.throw=="function"&&u.throw(h)}finally{e===!1&&typeof u.return=="function"&&u.return(null)}return null}function x_(i){return wi(this,arguments,function*(){let e,n=!1,s=[],r,o,l,a=0;function u(){return o==="peek"?Mi(s,l)[0]:([r,s,a]=Mi(s,l),r)}({cmd:o,size:l}=yield yield Q(null));const h=b_(i)[Symbol.asyncIterator]();try{do if({done:e,value:r}=Number.isNaN(l-a)?yield Q(h.next()):yield Q(h.next(l-a)),!e&&r.byteLength>0&&(s.push(r),a+=r.byteLength),e||l<=a)do({cmd:o,size:l}=yield yield Q(u()));while(l<a);while(!e)}catch(c){(n=!0)&&typeof h.throw=="function"&&(yield Q(h.throw(c)))}finally{n===!1&&typeof h.return=="function"&&(yield Q(h.return(new Uint8Array(0))))}return yield Q(null)})}function M_(i){return wi(this,arguments,function*(){let e=!1,n=!1,s=[],r,o,l,a=0;function u(){return o==="peek"?Mi(s,l)[0]:([r,s,a]=Mi(s,l),r)}({cmd:o,size:l}=yield yield Q(null));const h=new I_(i);try{do if({done:e,value:r}=Number.isNaN(l-a)?yield Q(h.read()):yield Q(h.read(l-a)),!e&&r.byteLength>0&&(s.push(rt(r)),a+=r.byteLength),e||l<=a)do({cmd:o,size:l}=yield yield Q(u()));while(l<a);while(!e)}catch(c){(n=!0)&&(yield Q(h.cancel(c)))}finally{n===!1?yield Q(h.cancel()):i.locked&&h.releaseLock()}return yield Q(null)})}class I_{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return P(this,void 0,void 0,function*(){const{reader:e,source:n}=this;e&&(yield e.cancel(t).catch(()=>{})),n&&n.locked&&this.releaseLock()})}read(t){return P(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const e=yield this.reader.read();return!e.done&&(e.value=rt(e)),e})}}const Uu=(i,t)=>{const e=s=>n([t,s]);let n;return[t,e,new Promise(s=>(n=s)&&i.once(t,e))]};function E_(i){return wi(this,arguments,function*(){const e=[];let n="error",s=!1,r=null,o,l,a=0,u=[],h;function c(){return o==="peek"?Mi(u,l)[0]:([h,u,a]=Mi(u,l),h)}if({cmd:o,size:l}=yield yield Q(null),i.isTTY)return yield yield Q(new Uint8Array(0)),yield Q(null);try{e[0]=Uu(i,"end"),e[1]=Uu(i,"error");do{if(e[2]=Uu(i,"readable"),[n,r]=yield Q(Promise.race(e.map(d=>d[2]))),n==="error")break;if((s=n==="end")||(Number.isFinite(l-a)?(h=rt(i.read(l-a)),h.byteLength<l-a&&(h=rt(i.read()))):h=rt(i.read()),h.byteLength>0&&(u.push(h),a+=h.byteLength)),s||l<=a)do({cmd:o,size:l}=yield yield Q(c()));while(l<a)}while(!s)}finally{yield Q(f(e,n==="error"?r:null))}return yield Q(null);function f(d,y){return h=u=null,new Promise((v,x)=>{for(const[m,p]of d)i.off(m,p);try{const m=i.destroy;m&&m.call(i,y),y=void 0}catch(m){y=m||y}finally{y!=null?x(y):v()}})}})}var Me;(function(i){i[i.V1=0]="V1",i[i.V2=1]="V2",i[i.V3=2]="V3",i[i.V4=3]="V4",i[i.V5=4]="V5"})(Me||(Me={}));var ke;(function(i){i[i.Sparse=0]="Sparse",i[i.Dense=1]="Dense"})(ke||(ke={}));var ye;(function(i){i[i.HALF=0]="HALF",i[i.SINGLE=1]="SINGLE",i[i.DOUBLE=2]="DOUBLE"})(ye||(ye={}));var Yi;(function(i){i[i.DAY=0]="DAY",i[i.MILLISECOND=1]="MILLISECOND"})(Yi||(Yi={}));var ot;(function(i){i[i.SECOND=0]="SECOND",i[i.MILLISECOND=1]="MILLISECOND",i[i.MICROSECOND=2]="MICROSECOND",i[i.NANOSECOND=3]="NANOSECOND"})(ot||(ot={}));var Sn;(function(i){i[i.YEAR_MONTH=0]="YEAR_MONTH",i[i.DAY_TIME=1]="DAY_TIME",i[i.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Sn||(Sn={}));var lt;(function(i){i[i.NONE=0]="NONE",i[i.Schema=1]="Schema",i[i.DictionaryBatch=2]="DictionaryBatch",i[i.RecordBatch=3]="RecordBatch",i[i.Tensor=4]="Tensor",i[i.SparseTensor=5]="SparseTensor"})(lt||(lt={}));var w;(function(i){i[i.NONE=0]="NONE",i[i.Null=1]="Null",i[i.Int=2]="Int",i[i.Float=3]="Float",i[i.Binary=4]="Binary",i[i.Utf8=5]="Utf8",i[i.Bool=6]="Bool",i[i.Decimal=7]="Decimal",i[i.Date=8]="Date",i[i.Time=9]="Time",i[i.Timestamp=10]="Timestamp",i[i.Interval=11]="Interval",i[i.List=12]="List",i[i.Struct=13]="Struct",i[i.Union=14]="Union",i[i.FixedSizeBinary=15]="FixedSizeBinary",i[i.FixedSizeList=16]="FixedSizeList",i[i.Map=17]="Map",i[i.Dictionary=-1]="Dictionary",i[i.Int8=-2]="Int8",i[i.Int16=-3]="Int16",i[i.Int32=-4]="Int32",i[i.Int64=-5]="Int64",i[i.Uint8=-6]="Uint8",i[i.Uint16=-7]="Uint16",i[i.Uint32=-8]="Uint32",i[i.Uint64=-9]="Uint64",i[i.Float16=-10]="Float16",i[i.Float32=-11]="Float32",i[i.Float64=-12]="Float64",i[i.DateDay=-13]="DateDay",i[i.DateMillisecond=-14]="DateMillisecond",i[i.TimestampSecond=-15]="TimestampSecond",i[i.TimestampMillisecond=-16]="TimestampMillisecond",i[i.TimestampMicrosecond=-17]="TimestampMicrosecond",i[i.TimestampNanosecond=-18]="TimestampNanosecond",i[i.TimeSecond=-19]="TimeSecond",i[i.TimeMillisecond=-20]="TimeMillisecond",i[i.TimeMicrosecond=-21]="TimeMicrosecond",i[i.TimeNanosecond=-22]="TimeNanosecond",i[i.DenseUnion=-23]="DenseUnion",i[i.SparseUnion=-24]="SparseUnion",i[i.IntervalDayTime=-25]="IntervalDayTime",i[i.IntervalYearMonth=-26]="IntervalYearMonth"})(w||(w={}));var Ti;(function(i){i[i.OFFSET=0]="OFFSET",i[i.DATA=1]="DATA",i[i.VALIDITY=2]="VALIDITY",i[i.TYPE=3]="TYPE"})(Ti||(Ti={}));const C_=void 0;function ho(i){if(i===null)return"null";if(i===C_)return"undefined";switch(typeof i){case"number":return`${i}`;case"bigint":return`${i}`;case"string":return`"${i}"`}return typeof i[Symbol.toPrimitive]=="function"?i[Symbol.toPrimitive]("string"):ArrayBuffer.isView(i)?i instanceof ko||i instanceof No?`[${[...i].map(t=>ho(t))}]`:`[${i}]`:ArrayBuffer.isView(i)?`[${i}]`:JSON.stringify(i,(t,e)=>typeof e=="bigint"?`${e}`:e)}const k_=Symbol.for("isArrowBigNum");function ii(i,...t){return t.length===0?Object.setPrototypeOf(pt(this.TypedArray,i),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(i,...t),this.constructor.prototype)}ii.prototype[k_]=!0;ii.prototype.toJSON=function(){return`"${Gn(this)}"`};ii.prototype.valueOf=function(){return f0(this)};ii.prototype.toString=function(){return Gn(this)};ii.prototype[Symbol.toPrimitive]=function(i="default"){switch(i){case"number":return f0(this);case"string":return Gn(this);case"default":return hc(this)}return Gn(this)};function Vs(...i){return ii.apply(this,i)}function Us(...i){return ii.apply(this,i)}function co(...i){return ii.apply(this,i)}Object.setPrototypeOf(Vs.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(Us.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(co.prototype,Object.create(Uint32Array.prototype));Object.assign(Vs.prototype,ii.prototype,{constructor:Vs,signed:!0,TypedArray:Int32Array,BigIntArray:ko});Object.assign(Us.prototype,ii.prototype,{constructor:Us,signed:!1,TypedArray:Uint32Array,BigIntArray:No});Object.assign(co.prototype,ii.prototype,{constructor:co,signed:!0,TypedArray:Uint32Array,BigIntArray:No});function f0(i){const{buffer:t,byteOffset:e,length:n,signed:s}=i,r=new No(t,e,n),o=s&&r[r.length-1]&BigInt(1)<<BigInt(63);let l=BigInt(o?1:0),a=BigInt(0);if(o){for(const u of r)l+=~u*(BigInt(1)<<BigInt(32)*a++);l*=BigInt(-1)}else for(const u of r)l+=u*(BigInt(1)<<BigInt(32)*a++);return l}let Gn,hc;f_?(hc=i=>i.byteLength===8?new i.BigIntArray(i.buffer,i.byteOffset,1)[0]:ju(i),Gn=i=>i.byteLength===8?`${new i.BigIntArray(i.buffer,i.byteOffset,1)[0]}`:ju(i)):(Gn=ju,hc=Gn);function ju(i){let t="";const e=new Uint32Array(2);let n=new Uint16Array(i.buffer,i.byteOffset,i.byteLength/2);const s=new Uint32Array((n=new Uint16Array(n).reverse()).buffer);let r=-1;const o=n.length-1;do{for(e[0]=n[r=0];r<o;)n[r++]=e[1]=e[0]/10,e[0]=(e[0]-e[1]*10<<16)+n[r];n[r]=e[1]=e[0]/10,e[0]=e[0]-e[1]*10,t=`${e[0]}${t}`}while(s[0]||s[1]||s[2]||s[3]);return t??"0"}class Bf{static new(t,e){switch(e){case!0:return new Vs(t);case!1:return new Us(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case ko:return new Vs(t)}return t.byteLength===16?new co(t):new Us(t)}static signed(t){return new Vs(t)}static unsigned(t){return new Us(t)}static decimal(t){return new co(t)}constructor(t,e){return Bf.new(t,e)}}var d0,p0,m0,y0,v0,g0,w0,b0,_0,S0,x0,M0,I0,E0,C0,k0,N0,T0,B0;class ${static isNull(t){return(t==null?void 0:t.typeId)===w.Null}static isInt(t){return(t==null?void 0:t.typeId)===w.Int}static isFloat(t){return(t==null?void 0:t.typeId)===w.Float}static isBinary(t){return(t==null?void 0:t.typeId)===w.Binary}static isUtf8(t){return(t==null?void 0:t.typeId)===w.Utf8}static isBool(t){return(t==null?void 0:t.typeId)===w.Bool}static isDecimal(t){return(t==null?void 0:t.typeId)===w.Decimal}static isDate(t){return(t==null?void 0:t.typeId)===w.Date}static isTime(t){return(t==null?void 0:t.typeId)===w.Time}static isTimestamp(t){return(t==null?void 0:t.typeId)===w.Timestamp}static isInterval(t){return(t==null?void 0:t.typeId)===w.Interval}static isList(t){return(t==null?void 0:t.typeId)===w.List}static isStruct(t){return(t==null?void 0:t.typeId)===w.Struct}static isUnion(t){return(t==null?void 0:t.typeId)===w.Union}static isFixedSizeBinary(t){return(t==null?void 0:t.typeId)===w.FixedSizeBinary}static isFixedSizeList(t){return(t==null?void 0:t.typeId)===w.FixedSizeList}static isMap(t){return(t==null?void 0:t.typeId)===w.Map}static isDictionary(t){return(t==null?void 0:t.typeId)===w.Dictionary}static isDenseUnion(t){return $.isUnion(t)&&t.mode===ke.Dense}static isSparseUnion(t){return $.isUnion(t)&&t.mode===ke.Sparse}get typeId(){return w.NONE}}d0=Symbol.toStringTag;$[d0]=(i=>(i.children=null,i.ArrayType=Array,i[Symbol.toStringTag]="DataType"))($.prototype);let xn=class extends ${toString(){return"Null"}get typeId(){return w.Null}};p0=Symbol.toStringTag;xn[p0]=(i=>i[Symbol.toStringTag]="Null")(xn.prototype);class Mn extends ${constructor(t,e){super(),this.isSigned=t,this.bitWidth=e}get typeId(){return w.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?ko:No}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}m0=Symbol.toStringTag;Mn[m0]=(i=>(i.isSigned=null,i.bitWidth=null,i[Symbol.toStringTag]="Int"))(Mn.prototype);class fo extends Mn{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(fo.prototype,"ArrayType",{value:Int32Array});class po extends ${constructor(t){super(),this.precision=t}get typeId(){return w.Float}get ArrayType(){switch(this.precision){case ye.HALF:return Uint16Array;case ye.SINGLE:return Float32Array;case ye.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}y0=Symbol.toStringTag;po[y0]=(i=>(i.precision=null,i[Symbol.toStringTag]="Float"))(po.prototype);let na=class extends ${constructor(){super()}get typeId(){return w.Binary}toString(){return"Binary"}};v0=Symbol.toStringTag;na[v0]=(i=>(i.ArrayType=Uint8Array,i[Symbol.toStringTag]="Binary"))(na.prototype);let sa=class extends ${constructor(){super()}get typeId(){return w.Utf8}toString(){return"Utf8"}};g0=Symbol.toStringTag;sa[g0]=(i=>(i.ArrayType=Uint8Array,i[Symbol.toStringTag]="Utf8"))(sa.prototype);let ra=class extends ${constructor(){super()}get typeId(){return w.Bool}toString(){return"Bool"}};w0=Symbol.toStringTag;ra[w0]=(i=>(i.ArrayType=Uint8Array,i[Symbol.toStringTag]="Bool"))(ra.prototype);let oa=class extends ${constructor(t,e,n=128){super(),this.scale=t,this.precision=e,this.bitWidth=n}get typeId(){return w.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};b0=Symbol.toStringTag;oa[b0]=(i=>(i.scale=null,i.precision=null,i.ArrayType=Uint32Array,i[Symbol.toStringTag]="Decimal"))(oa.prototype);class la extends ${constructor(t){super(),this.unit=t}get typeId(){return w.Date}toString(){return`Date${(this.unit+1)*32}<${Yi[this.unit]}>`}}_0=Symbol.toStringTag;la[_0]=(i=>(i.unit=null,i.ArrayType=Int32Array,i[Symbol.toStringTag]="Date"))(la.prototype);class mo extends ${constructor(t,e){super(),this.unit=t,this.bitWidth=e}get typeId(){return w.Time}toString(){return`Time${this.bitWidth}<${ot[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return ko}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}S0=Symbol.toStringTag;mo[S0]=(i=>(i.unit=null,i.bitWidth=null,i[Symbol.toStringTag]="Time"))(mo.prototype);class aa extends ${constructor(t,e){super(),this.unit=t,this.timezone=e}get typeId(){return w.Timestamp}toString(){return`Timestamp<${ot[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}x0=Symbol.toStringTag;aa[x0]=(i=>(i.unit=null,i.timezone=null,i.ArrayType=Int32Array,i[Symbol.toStringTag]="Timestamp"))(aa.prototype);class ua extends ${constructor(t){super(),this.unit=t}get typeId(){return w.Interval}toString(){return`Interval<${Sn[this.unit]}>`}}M0=Symbol.toStringTag;ua[M0]=(i=>(i.unit=null,i.ArrayType=Int32Array,i[Symbol.toStringTag]="Interval"))(ua.prototype);let ha=class extends ${constructor(t){super(),this.children=[t]}get typeId(){return w.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};I0=Symbol.toStringTag;ha[I0]=(i=>(i.children=null,i[Symbol.toStringTag]="List"))(ha.prototype);class te extends ${constructor(t){super(),this.children=t}get typeId(){return w.Struct}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}E0=Symbol.toStringTag;te[E0]=(i=>(i.children=null,i[Symbol.toStringTag]="Struct"))(te.prototype);class ca extends ${constructor(t,e,n){super(),this.mode=t,this.children=n,this.typeIds=e=Int32Array.from(e),this.typeIdToChildIndex=e.reduce((s,r,o)=>(s[r]=o)&&s||s,Object.create(null))}get typeId(){return w.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}C0=Symbol.toStringTag;ca[C0]=(i=>(i.mode=null,i.typeIds=null,i.children=null,i.typeIdToChildIndex=null,i.ArrayType=Int8Array,i[Symbol.toStringTag]="Union"))(ca.prototype);let fa=class extends ${constructor(t){super(),this.byteWidth=t}get typeId(){return w.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};k0=Symbol.toStringTag;fa[k0]=(i=>(i.byteWidth=null,i.ArrayType=Uint8Array,i[Symbol.toStringTag]="FixedSizeBinary"))(fa.prototype);let da=class extends ${constructor(t,e){super(),this.listSize=t,this.children=[e]}get typeId(){return w.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};N0=Symbol.toStringTag;da[N0]=(i=>(i.children=null,i.listSize=null,i[Symbol.toStringTag]="FixedSizeList"))(da.prototype);class pa extends ${constructor(t,e=!1){super(),this.children=[t],this.keysSorted=e}get typeId(){return w.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}T0=Symbol.toStringTag;pa[T0]=(i=>(i.children=null,i.keysSorted=null,i[Symbol.toStringTag]="Map_"))(pa.prototype);const N_=(i=>()=>++i)(-1);class tr extends ${constructor(t,e,n,s){super(),this.indices=e,this.dictionary=t,this.isOrdered=s||!1,this.id=n==null?N_():typeof n=="number"?n:n.low}get typeId(){return w.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}B0=Symbol.toStringTag;tr[B0]=(i=>(i.id=null,i.indices=null,i.isOrdered=null,i.dictionary=null,i[Symbol.toStringTag]="Dictionary"))(tr.prototype);function Bi(i){const t=i;switch(i.typeId){case w.Decimal:return i.bitWidth/32;case w.Timestamp:return 2;case w.Date:return 1+t.unit;case w.Interval:return 1+t.unit;case w.FixedSizeList:return t.listSize;case w.FixedSizeBinary:return t.byteWidth;default:return 1}}class et{visitMany(t,...e){return t.map((n,s)=>this.visit(n,...e.map(r=>r[s])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,e=!0){return T_(this,t,e)}getVisitFnByTypeId(t,e=!0){return ys(this,t,e)}visitNull(t,...e){return null}visitBool(t,...e){return null}visitInt(t,...e){return null}visitFloat(t,...e){return null}visitUtf8(t,...e){return null}visitBinary(t,...e){return null}visitFixedSizeBinary(t,...e){return null}visitDate(t,...e){return null}visitTimestamp(t,...e){return null}visitTime(t,...e){return null}visitDecimal(t,...e){return null}visitList(t,...e){return null}visitStruct(t,...e){return null}visitUnion(t,...e){return null}visitDictionary(t,...e){return null}visitInterval(t,...e){return null}visitFixedSizeList(t,...e){return null}visitMap(t,...e){return null}}function T_(i,t,e=!0){return typeof t=="number"?ys(i,t,e):typeof t=="string"&&t in w?ys(i,w[t],e):t&&t instanceof $?ys(i,kp(t),e):t!=null&&t.type&&t.type instanceof $?ys(i,kp(t.type),e):ys(i,w.NONE,e)}function ys(i,t,e=!0){let n=null;switch(t){case w.Null:n=i.visitNull;break;case w.Bool:n=i.visitBool;break;case w.Int:n=i.visitInt;break;case w.Int8:n=i.visitInt8||i.visitInt;break;case w.Int16:n=i.visitInt16||i.visitInt;break;case w.Int32:n=i.visitInt32||i.visitInt;break;case w.Int64:n=i.visitInt64||i.visitInt;break;case w.Uint8:n=i.visitUint8||i.visitInt;break;case w.Uint16:n=i.visitUint16||i.visitInt;break;case w.Uint32:n=i.visitUint32||i.visitInt;break;case w.Uint64:n=i.visitUint64||i.visitInt;break;case w.Float:n=i.visitFloat;break;case w.Float16:n=i.visitFloat16||i.visitFloat;break;case w.Float32:n=i.visitFloat32||i.visitFloat;break;case w.Float64:n=i.visitFloat64||i.visitFloat;break;case w.Utf8:n=i.visitUtf8;break;case w.Binary:n=i.visitBinary;break;case w.FixedSizeBinary:n=i.visitFixedSizeBinary;break;case w.Date:n=i.visitDate;break;case w.DateDay:n=i.visitDateDay||i.visitDate;break;case w.DateMillisecond:n=i.visitDateMillisecond||i.visitDate;break;case w.Timestamp:n=i.visitTimestamp;break;case w.TimestampSecond:n=i.visitTimestampSecond||i.visitTimestamp;break;case w.TimestampMillisecond:n=i.visitTimestampMillisecond||i.visitTimestamp;break;case w.TimestampMicrosecond:n=i.visitTimestampMicrosecond||i.visitTimestamp;break;case w.TimestampNanosecond:n=i.visitTimestampNanosecond||i.visitTimestamp;break;case w.Time:n=i.visitTime;break;case w.TimeSecond:n=i.visitTimeSecond||i.visitTime;break;case w.TimeMillisecond:n=i.visitTimeMillisecond||i.visitTime;break;case w.TimeMicrosecond:n=i.visitTimeMicrosecond||i.visitTime;break;case w.TimeNanosecond:n=i.visitTimeNanosecond||i.visitTime;break;case w.Decimal:n=i.visitDecimal;break;case w.List:n=i.visitList;break;case w.Struct:n=i.visitStruct;break;case w.Union:n=i.visitUnion;break;case w.DenseUnion:n=i.visitDenseUnion||i.visitUnion;break;case w.SparseUnion:n=i.visitSparseUnion||i.visitUnion;break;case w.Dictionary:n=i.visitDictionary;break;case w.Interval:n=i.visitInterval;break;case w.IntervalDayTime:n=i.visitIntervalDayTime||i.visitInterval;break;case w.IntervalYearMonth:n=i.visitIntervalYearMonth||i.visitInterval;break;case w.FixedSizeList:n=i.visitFixedSizeList;break;case w.Map:n=i.visitMap;break}if(typeof n=="function")return n;if(!e)return()=>null;throw new Error(`Unrecognized type '${w[t]}'`)}function kp(i){switch(i.typeId){case w.Null:return w.Null;case w.Int:{const{bitWidth:t,isSigned:e}=i;switch(t){case 8:return e?w.Int8:w.Uint8;case 16:return e?w.Int16:w.Uint16;case 32:return e?w.Int32:w.Uint32;case 64:return e?w.Int64:w.Uint64}return w.Int}case w.Float:switch(i.precision){case ye.HALF:return w.Float16;case ye.SINGLE:return w.Float32;case ye.DOUBLE:return w.Float64}return w.Float;case w.Binary:return w.Binary;case w.Utf8:return w.Utf8;case w.Bool:return w.Bool;case w.Decimal:return w.Decimal;case w.Time:switch(i.unit){case ot.SECOND:return w.TimeSecond;case ot.MILLISECOND:return w.TimeMillisecond;case ot.MICROSECOND:return w.TimeMicrosecond;case ot.NANOSECOND:return w.TimeNanosecond}return w.Time;case w.Timestamp:switch(i.unit){case ot.SECOND:return w.TimestampSecond;case ot.MILLISECOND:return w.TimestampMillisecond;case ot.MICROSECOND:return w.TimestampMicrosecond;case ot.NANOSECOND:return w.TimestampNanosecond}return w.Timestamp;case w.Date:switch(i.unit){case Yi.DAY:return w.DateDay;case Yi.MILLISECOND:return w.DateMillisecond}return w.Date;case w.Interval:switch(i.unit){case Sn.DAY_TIME:return w.IntervalDayTime;case Sn.YEAR_MONTH:return w.IntervalYearMonth}return w.Interval;case w.Map:return w.Map;case w.List:return w.List;case w.Struct:return w.Struct;case w.Union:switch(i.mode){case ke.Dense:return w.DenseUnion;case ke.Sparse:return w.SparseUnion}return w.Union;case w.FixedSizeBinary:return w.FixedSizeBinary;case w.FixedSizeList:return w.FixedSizeList;case w.Dictionary:return w.Dictionary}throw new Error(`Unrecognized type '${w[i.typeId]}'`)}et.prototype.visitInt8=null;et.prototype.visitInt16=null;et.prototype.visitInt32=null;et.prototype.visitInt64=null;et.prototype.visitUint8=null;et.prototype.visitUint16=null;et.prototype.visitUint32=null;et.prototype.visitUint64=null;et.prototype.visitFloat16=null;et.prototype.visitFloat32=null;et.prototype.visitFloat64=null;et.prototype.visitDateDay=null;et.prototype.visitDateMillisecond=null;et.prototype.visitTimestampSecond=null;et.prototype.visitTimestampMillisecond=null;et.prototype.visitTimestampMicrosecond=null;et.prototype.visitTimestampNanosecond=null;et.prototype.visitTimeSecond=null;et.prototype.visitTimeMillisecond=null;et.prototype.visitTimeMicrosecond=null;et.prototype.visitTimeNanosecond=null;et.prototype.visitDenseUnion=null;et.prototype.visitSparseUnion=null;et.prototype.visitIntervalDayTime=null;et.prototype.visitIntervalYearMonth=null;const O0=new Float64Array(1),ps=new Uint32Array(O0.buffer);function z0(i){const t=(i&31744)>>10,e=(i&1023)/1024,n=Math.pow(-1,(i&32768)>>15);switch(t){case 31:return n*(e?Number.NaN:1/0);case 0:return n*(e?6103515625e-14*e:0)}return n*Math.pow(2,t-15)*(1+e)}function B_(i){if(i!==i)return 32256;O0[0]=i;const t=(ps[1]&2147483648)>>16&65535;let e=ps[1]&2146435072,n=0;return e>=1089470464?ps[0]>0?e=31744:(e=(e&2080374784)>>16,n=(ps[1]&1048575)>>10):e<=1056964608?(n=1048576+(ps[1]&1048575),n=1048576+(n<<(e>>20)-998)>>21,e=0):(e=e-1056964608>>10,n=(ps[1]&1048575)+512>>10),t|e|n&65535}class H extends et{}function X(i){return(t,e,n)=>{if(t.setValid(e,n!=null))return i(t,e,n)}}const O_=(i,t,e)=>{i[t]=Math.trunc(e/864e5)},Of=(i,t,e)=>{i[t]=Math.trunc(e%4294967296),i[t+1]=Math.trunc(e/4294967296)},z_=(i,t,e)=>{i[t]=Math.trunc(e*1e3%4294967296),i[t+1]=Math.trunc(e*1e3/4294967296)},D_=(i,t,e)=>{i[t]=Math.trunc(e*1e6%4294967296),i[t+1]=Math.trunc(e*1e6/4294967296)},D0=(i,t,e,n)=>{if(e+1<t.length){const{[e]:s,[e+1]:r}=t;i.set(n.subarray(0,r-s),s)}},L_=({offset:i,values:t},e,n)=>{const s=i+e;n?t[s>>3]|=1<<s%8:t[s>>3]&=~(1<<s%8)},Qi=({values:i},t,e)=>{i[t]=e},zf=({values:i},t,e)=>{i[t]=e},L0=({values:i},t,e)=>{i[t]=B_(e)},F_=(i,t,e)=>{switch(i.type.precision){case ye.HALF:return L0(i,t,e);case ye.SINGLE:case ye.DOUBLE:return zf(i,t,e)}},F0=({values:i},t,e)=>{O_(i,t,e.valueOf())},R0=({values:i},t,e)=>{Of(i,t*2,e.valueOf())},R_=({stride:i,values:t},e,n)=>{t.set(n.subarray(0,i),i*e)},A_=({values:i,valueOffsets:t},e,n)=>D0(i,t,e,n),P_=({values:i,valueOffsets:t},e,n)=>{D0(i,t,e,Cf(n))},$_=(i,t,e)=>{i.type.unit===Yi.DAY?F0(i,t,e):R0(i,t,e)},A0=({values:i},t,e)=>Of(i,t*2,e/1e3),P0=({values:i},t,e)=>Of(i,t*2,e),$0=({values:i},t,e)=>z_(i,t*2,e),V0=({values:i},t,e)=>D_(i,t*2,e),V_=(i,t,e)=>{switch(i.type.unit){case ot.SECOND:return A0(i,t,e);case ot.MILLISECOND:return P0(i,t,e);case ot.MICROSECOND:return $0(i,t,e);case ot.NANOSECOND:return V0(i,t,e)}},U0=({values:i},t,e)=>{i[t]=e},j0=({values:i},t,e)=>{i[t]=e},W0=({values:i},t,e)=>{i[t]=e},H0=({values:i},t,e)=>{i[t]=e},U_=(i,t,e)=>{switch(i.type.unit){case ot.SECOND:return U0(i,t,e);case ot.MILLISECOND:return j0(i,t,e);case ot.MICROSECOND:return W0(i,t,e);case ot.NANOSECOND:return H0(i,t,e)}},j_=({values:i,stride:t},e,n)=>{i.set(n.subarray(0,t),t*e)},W_=(i,t,e)=>{const n=i.children[0],s=i.valueOffsets,r=He.getVisitFn(n);if(Array.isArray(e))for(let o=-1,l=s[t],a=s[t+1];l<a;)r(n,l++,e[++o]);else for(let o=-1,l=s[t],a=s[t+1];l<a;)r(n,l++,e.get(++o))},H_=(i,t,e)=>{const n=i.children[0],{valueOffsets:s}=i,r=He.getVisitFn(n);let{[t]:o,[t+1]:l}=s;const a=e instanceof Map?e.entries():Object.entries(e);for(const u of a)if(r(n,o,u),++o>=l)break},K_=(i,t)=>(e,n,s,r)=>n&&e(n,i,t[r]),Y_=(i,t)=>(e,n,s,r)=>n&&e(n,i,t.get(r)),X_=(i,t)=>(e,n,s,r)=>n&&e(n,i,t.get(s.name)),Q_=(i,t)=>(e,n,s,r)=>n&&e(n,i,t[s.name]),J_=(i,t,e)=>{const n=i.type.children.map(r=>He.getVisitFn(r.type)),s=e instanceof Map?X_(t,e):e instanceof at?Y_(t,e):Array.isArray(e)?K_(t,e):Q_(t,e);i.type.children.forEach((r,o)=>s(n[o],i.children[o],r,o))},G_=(i,t,e)=>{i.type.mode===ke.Dense?K0(i,t,e):Y0(i,t,e)},K0=(i,t,e)=>{const n=i.type.typeIdToChildIndex[i.typeIds[t]],s=i.children[n];He.visit(s,i.valueOffsets[t],e)},Y0=(i,t,e)=>{const n=i.type.typeIdToChildIndex[i.typeIds[t]],s=i.children[n];He.visit(s,t,e)},q_=(i,t,e)=>{var n;(n=i.dictionary)===null||n===void 0||n.set(i.values[t],e)},Z_=(i,t,e)=>{i.type.unit===Sn.DAY_TIME?X0(i,t,e):Q0(i,t,e)},X0=({values:i},t,e)=>{i.set(e.subarray(0,2),2*t)},Q0=({values:i},t,e)=>{i[t]=e[0]*12+e[1]%12},tS=(i,t,e)=>{const{stride:n}=i,s=i.children[0],r=He.getVisitFn(s);if(Array.isArray(e))for(let o=-1,l=t*n;++o<n;)r(s,l+o,e[o]);else for(let o=-1,l=t*n;++o<n;)r(s,l+o,e.get(o))};H.prototype.visitBool=X(L_);H.prototype.visitInt=X(Qi);H.prototype.visitInt8=X(Qi);H.prototype.visitInt16=X(Qi);H.prototype.visitInt32=X(Qi);H.prototype.visitInt64=X(Qi);H.prototype.visitUint8=X(Qi);H.prototype.visitUint16=X(Qi);H.prototype.visitUint32=X(Qi);H.prototype.visitUint64=X(Qi);H.prototype.visitFloat=X(F_);H.prototype.visitFloat16=X(L0);H.prototype.visitFloat32=X(zf);H.prototype.visitFloat64=X(zf);H.prototype.visitUtf8=X(P_);H.prototype.visitBinary=X(A_);H.prototype.visitFixedSizeBinary=X(R_);H.prototype.visitDate=X($_);H.prototype.visitDateDay=X(F0);H.prototype.visitDateMillisecond=X(R0);H.prototype.visitTimestamp=X(V_);H.prototype.visitTimestampSecond=X(A0);H.prototype.visitTimestampMillisecond=X(P0);H.prototype.visitTimestampMicrosecond=X($0);H.prototype.visitTimestampNanosecond=X(V0);H.prototype.visitTime=X(U_);H.prototype.visitTimeSecond=X(U0);H.prototype.visitTimeMillisecond=X(j0);H.prototype.visitTimeMicrosecond=X(W0);H.prototype.visitTimeNanosecond=X(H0);H.prototype.visitDecimal=X(j_);H.prototype.visitList=X(W_);H.prototype.visitStruct=X(J_);H.prototype.visitUnion=X(G_);H.prototype.visitDenseUnion=X(K0);H.prototype.visitSparseUnion=X(Y0);H.prototype.visitDictionary=X(q_);H.prototype.visitInterval=X(Z_);H.prototype.visitIntervalDayTime=X(X0);H.prototype.visitIntervalYearMonth=X(Q0);H.prototype.visitFixedSizeList=X(tS);H.prototype.visitMap=X(H_);const He=new H,Qe=Symbol.for("parent"),js=Symbol.for("rowIndex");class Df{constructor(t,e){return this[Qe]=t,this[js]=e,new Proxy(this,new iS)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[js],e=this[Qe],n=e.type.children,s={};for(let r=-1,o=n.length;++r<o;)s[n[r].name]=we.visit(e.children[r],t);return s}toString(){return`{${[...this].map(([t,e])=>`${ho(t)}: ${ho(e)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new eS(this[Qe],this[js])}}class eS{constructor(t,e){this.childIndex=0,this.children=t.children,this.rowIndex=e,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,we.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(Df.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Qe]:{writable:!0,enumerable:!1,configurable:!1,value:null},[js]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class iS{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Qe].type.children.map(e=>e.name)}has(t,e){return t[Qe].type.children.findIndex(n=>n.name===e)!==-1}getOwnPropertyDescriptor(t,e){if(t[Qe].type.children.findIndex(n=>n.name===e)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const n=t[Qe].type.children.findIndex(s=>s.name===e);if(n!==-1){const s=we.visit(t[Qe].children[n],t[js]);return Reflect.set(t,e,s),s}}set(t,e,n){const s=t[Qe].type.children.findIndex(r=>r.name===e);return s!==-1?(He.visit(t[Qe].children[s],t[js],n),Reflect.set(t,e,n)):Reflect.has(t,e)||typeof e=="symbol"?Reflect.set(t,e,n):!1}}class V extends et{}function K(i){return(t,e)=>t.getValid(e)?i(t,e):null}const nS=(i,t)=>864e5*i[t],Lf=(i,t)=>4294967296*i[t+1]+(i[t]>>>0),sS=(i,t)=>4294967296*(i[t+1]/1e3)+(i[t]>>>0)/1e3,rS=(i,t)=>4294967296*(i[t+1]/1e6)+(i[t]>>>0)/1e6,J0=i=>new Date(i),oS=(i,t)=>J0(nS(i,t)),lS=(i,t)=>J0(Lf(i,t)),aS=(i,t)=>null,G0=(i,t,e)=>{if(e+1>=t.length)return null;const n=t[e],s=t[e+1];return i.subarray(n,s)},uS=({offset:i,values:t},e)=>{const n=i+e;return(t[n>>3]&1<<n%8)!==0},q0=({values:i},t)=>oS(i,t),Z0=({values:i},t)=>lS(i,t*2),Bn=({stride:i,values:t},e)=>t[i*e],hS=({stride:i,values:t},e)=>z0(t[i*e]),tg=({values:i},t)=>i[t],cS=({stride:i,values:t},e)=>t.subarray(i*e,i*(e+1)),fS=({values:i,valueOffsets:t},e)=>G0(i,t,e),dS=({values:i,valueOffsets:t},e)=>{const n=G0(i,t,e);return n!==null?lc(n):null},pS=({values:i},t)=>i[t],mS=({type:i,values:t},e)=>i.precision!==ye.HALF?t[e]:z0(t[e]),yS=(i,t)=>i.type.unit===Yi.DAY?q0(i,t):Z0(i,t),eg=({values:i},t)=>1e3*Lf(i,t*2),ig=({values:i},t)=>Lf(i,t*2),ng=({values:i},t)=>sS(i,t*2),sg=({values:i},t)=>rS(i,t*2),vS=(i,t)=>{switch(i.type.unit){case ot.SECOND:return eg(i,t);case ot.MILLISECOND:return ig(i,t);case ot.MICROSECOND:return ng(i,t);case ot.NANOSECOND:return sg(i,t)}},rg=({values:i},t)=>i[t],og=({values:i},t)=>i[t],lg=({values:i},t)=>i[t],ag=({values:i},t)=>i[t],gS=(i,t)=>{switch(i.type.unit){case ot.SECOND:return rg(i,t);case ot.MILLISECOND:return og(i,t);case ot.MICROSECOND:return lg(i,t);case ot.NANOSECOND:return ag(i,t)}},wS=({values:i,stride:t},e)=>Bf.decimal(i.subarray(t*e,t*(e+1))),bS=(i,t)=>{const{valueOffsets:e,stride:n,children:s}=i,{[t*n]:r,[t*n+1]:o}=e,a=s[0].slice(r,o-r);return new at([a])},_S=(i,t)=>{const{valueOffsets:e,children:n}=i,{[t]:s,[t+1]:r}=e,o=n[0];return new Ff(o.slice(s,r-s))},SS=(i,t)=>new Df(i,t),xS=(i,t)=>i.type.mode===ke.Dense?ug(i,t):hg(i,t),ug=(i,t)=>{const e=i.type.typeIdToChildIndex[i.typeIds[t]],n=i.children[e];return we.visit(n,i.valueOffsets[t])},hg=(i,t)=>{const e=i.type.typeIdToChildIndex[i.typeIds[t]],n=i.children[e];return we.visit(n,t)},MS=(i,t)=>{var e;return(e=i.dictionary)===null||e===void 0?void 0:e.get(i.values[t])},IS=(i,t)=>i.type.unit===Sn.DAY_TIME?cg(i,t):fg(i,t),cg=({values:i},t)=>i.subarray(2*t,2*(t+1)),fg=({values:i},t)=>{const e=i[t],n=new Int32Array(2);return n[0]=Math.trunc(e/12),n[1]=Math.trunc(e%12),n},ES=(i,t)=>{const{stride:e,children:n}=i,r=n[0].slice(t*e,e);return new at([r])};V.prototype.visitNull=K(aS);V.prototype.visitBool=K(uS);V.prototype.visitInt=K(pS);V.prototype.visitInt8=K(Bn);V.prototype.visitInt16=K(Bn);V.prototype.visitInt32=K(Bn);V.prototype.visitInt64=K(tg);V.prototype.visitUint8=K(Bn);V.prototype.visitUint16=K(Bn);V.prototype.visitUint32=K(Bn);V.prototype.visitUint64=K(tg);V.prototype.visitFloat=K(mS);V.prototype.visitFloat16=K(hS);V.prototype.visitFloat32=K(Bn);V.prototype.visitFloat64=K(Bn);V.prototype.visitUtf8=K(dS);V.prototype.visitBinary=K(fS);V.prototype.visitFixedSizeBinary=K(cS);V.prototype.visitDate=K(yS);V.prototype.visitDateDay=K(q0);V.prototype.visitDateMillisecond=K(Z0);V.prototype.visitTimestamp=K(vS);V.prototype.visitTimestampSecond=K(eg);V.prototype.visitTimestampMillisecond=K(ig);V.prototype.visitTimestampMicrosecond=K(ng);V.prototype.visitTimestampNanosecond=K(sg);V.prototype.visitTime=K(gS);V.prototype.visitTimeSecond=K(rg);V.prototype.visitTimeMillisecond=K(og);V.prototype.visitTimeMicrosecond=K(lg);V.prototype.visitTimeNanosecond=K(ag);V.prototype.visitDecimal=K(wS);V.prototype.visitList=K(bS);V.prototype.visitStruct=K(SS);V.prototype.visitUnion=K(xS);V.prototype.visitDenseUnion=K(ug);V.prototype.visitSparseUnion=K(hg);V.prototype.visitDictionary=K(MS);V.prototype.visitInterval=K(IS);V.prototype.visitIntervalDayTime=K(cg);V.prototype.visitIntervalYearMonth=K(fg);V.prototype.visitFixedSizeList=K(ES);V.prototype.visitMap=K(_S);const we=new V,di=Symbol.for("keys"),Ws=Symbol.for("vals");class Ff{constructor(t){return this[di]=new at([t.children[0]]).memoize(),this[Ws]=t.children[1],new Proxy(this,new kS)}[Symbol.iterator](){return new CS(this[di],this[Ws])}get size(){return this[di].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[di],e=this[Ws],n={};for(let s=-1,r=t.length;++s<r;)n[t.get(s)]=we.visit(e,s);return n}toString(){return`{${[...this].map(([t,e])=>`${ho(t)}: ${ho(e)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class CS{constructor(t,e){this.keys=t,this.vals=e,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),we.visit(this.vals,t)]})}}class kS{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[di].toArray().map(String)}has(t,e){return t[di].includes(e)}getOwnPropertyDescriptor(t,e){if(t[di].indexOf(e)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const n=t[di].indexOf(e);if(n!==-1){const s=we.visit(Reflect.get(t,Ws),n);return Reflect.set(t,e,s),s}}set(t,e,n){const s=t[di].indexOf(e);return s!==-1?(He.visit(Reflect.get(t,Ws),s,n),Reflect.set(t,e,n)):Reflect.has(t,e)?Reflect.set(t,e,n):!1}}Object.defineProperties(Ff.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[di]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Ws]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let Np;function dg(i,t,e,n){const{length:s=0}=i;let r=typeof t!="number"?0:t,o=typeof e!="number"?s:e;return r<0&&(r=(r%s+s)%s),o<0&&(o=(o%s+s)%s),o<r&&(Np=r,r=o,o=Np),o>s&&(o=s),n?n(i,r,o):[r,o]}const Tp=i=>i!==i;function dr(i){if(typeof i!=="object"||i===null)return Tp(i)?Tp:e=>e===i;if(i instanceof Date){const e=i.valueOf();return n=>n instanceof Date?n.valueOf()===e:!1}return ArrayBuffer.isView(i)?e=>e?__(i,e):!1:i instanceof Map?TS(i):Array.isArray(i)?NS(i):i instanceof at?BS(i):OS(i,!0)}function NS(i){const t=[];for(let e=-1,n=i.length;++e<n;)t[e]=dr(i[e]);return lu(t)}function TS(i){let t=-1;const e=[];for(const n of i.values())e[++t]=dr(n);return lu(e)}function BS(i){const t=[];for(let e=-1,n=i.length;++e<n;)t[e]=dr(i.get(e));return lu(t)}function OS(i,t=!1){const e=Object.keys(i);if(!t&&e.length===0)return()=>!1;const n=[];for(let s=-1,r=e.length;++s<r;)n[s]=dr(i[e[s]]);return lu(n,e)}function lu(i,t){return e=>{if(!e||typeof e!="object")return!1;switch(e.constructor){case Array:return zS(i,e);case Map:return Bp(i,e,e.keys());case Ff:case Df:case Object:case void 0:return Bp(i,e,t||Object.keys(e))}return e instanceof at?DS(i,e):!1}}function zS(i,t){const e=i.length;if(t.length!==e)return!1;for(let n=-1;++n<e;)if(!i[n](t[n]))return!1;return!0}function DS(i,t){const e=i.length;if(t.length!==e)return!1;for(let n=-1;++n<e;)if(!i[n](t.get(n)))return!1;return!0}function Bp(i,t,e){const n=e[Symbol.iterator](),s=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),r=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let o=0;const l=i.length;let a=r.next(),u=n.next(),h=s.next();for(;o<l&&!u.done&&!h.done&&!a.done&&!(u.value!==h.value||!i[o](a.value));++o,u=n.next(),h=s.next(),a=r.next());return o===l&&u.done&&h.done&&a.done?!0:(n.return&&n.return(),s.return&&s.return(),r.return&&r.return(),!1)}function pg(i,t,e,n){return(e&1<<n)!==0}function LS(i,t,e,n){return(e&1<<n)>>n}function Rf(i,t,e){const n=e.byteLength+7&-8;if(i>0||e.byteLength<n){const s=new Uint8Array(n);return s.set(i%8===0?e.subarray(i>>3):ma(new Af(e,i,t,null,pg)).subarray(0,n)),s}return e}function ma(i){const t=[];let e=0,n=0,s=0;for(const o of i)o&&(s|=1<<n),++n===8&&(t[e++]=s,s=n=0);(e===0||n>0)&&(t[e++]=s);const r=new Uint8Array(t.length+7&-8);return r.set(t),r}class Af{constructor(t,e,n,s,r){this.bytes=t,this.length=n,this.context=s,this.get=r,this.bit=e%8,this.byteIndex=e>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function cc(i,t,e){if(e-t<=0)return 0;if(e-t<8){let r=0;for(const o of new Af(i,t,e-t,i,LS))r+=o;return r}const n=e>>3<<3,s=t+(t%8===0?0:8-t%8);return cc(i,t,s)+cc(i,n,e)+FS(i,s>>3,n-s>>3)}function FS(i,t,e){let n=0,s=Math.trunc(t);const r=new DataView(i.buffer,i.byteOffset,i.byteLength),o=e===void 0?i.byteLength:s+e;for(;o-s>=4;)n+=Wu(r.getUint32(s)),s+=4;for(;o-s>=2;)n+=Wu(r.getUint16(s)),s+=2;for(;o-s>=1;)n+=Wu(r.getUint8(s)),s+=1;return n}function Wu(i){let t=Math.trunc(i);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const RS=-1;class yt{constructor(t,e,n,s,r,o=[],l){this.type=t,this.children=o,this.dictionary=l,this.offset=Math.floor(Math.max(e||0,0)),this.length=Math.floor(Math.max(n||0,0)),this._nullCount=Math.floor(Math.max(s||0,-1));let a;r instanceof yt?(this.stride=r.stride,this.values=r.values,this.typeIds=r.typeIds,this.nullBitmap=r.nullBitmap,this.valueOffsets=r.valueOffsets):(this.stride=Bi(t),r&&((a=r[0])&&(this.valueOffsets=a),(a=r[1])&&(this.values=a),(a=r[2])&&(this.nullBitmap=a),(a=r[3])&&(this.typeIds=a))),this.nullable=this._nullCount!==0&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0;const{valueOffsets:e,values:n,nullBitmap:s,typeIds:r}=this;return e&&(t+=e.byteLength),n&&(t+=n.byteLength),s&&(t+=s.byteLength),r&&(t+=r.byteLength),this.children.reduce((o,l)=>o+l.byteLength,t)}get nullCount(){let t=this._nullCount,e;return t<=RS&&(e=this.nullBitmap)&&(this._nullCount=t=this.length-cc(e,this.offset,this.offset+this.length)),t}getValid(t){if(this.nullable&&this.nullCount>0){const e=this.offset+t;return(this.nullBitmap[e>>3]&1<<e%8)!==0}return!0}setValid(t,e){if(!this.nullable)return e;if(!this.nullBitmap||this.nullBitmap.byteLength<=t>>3){const{nullBitmap:a}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:a,_nullCount:0})}const{nullBitmap:n,offset:s}=this,r=s+t>>3,o=(s+t)%8,l=n[r]>>o&1;return e?l===0&&(n[r]|=1<<o,this._nullCount=this.nullCount+1):l===1&&(n[r]&=~(1<<o),this._nullCount=this.nullCount-1),e}clone(t=this.type,e=this.offset,n=this.length,s=this._nullCount,r=this,o=this.children){return new yt(t,e,n,s,r,o,this.dictionary)}slice(t,e){const{stride:n,typeId:s,children:r}=this,o=+(this._nullCount===0)-1,l=s===16?n:1,a=this._sliceBuffers(t,e,n,s);return this.clone(this.type,this.offset+t,e,o,a,r.length===0||this.valueOffsets?r:this._sliceChildren(r,l*t,l*e))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===w.Null)return this.clone(this.type,0,t,0);const{length:e,nullCount:n}=this,s=new Uint8Array((t+63&-64)>>3).fill(255,0,e>>3);s[e>>3]=(1<<e-(e&-8))-1,n>0&&s.set(Rf(this.offset,e,this.nullBitmap),0);const r=this.buffers;return r[Ti.VALIDITY]=s,this.clone(this.type,0,t,n+(t-e),r)}_sliceBuffers(t,e,n,s){let r;const{buffers:o}=this;return(r=o[Ti.TYPE])&&(o[Ti.TYPE]=r.subarray(t,t+e)),(r=o[Ti.OFFSET])&&(o[Ti.OFFSET]=r.subarray(t,t+e+1))||(r=o[Ti.DATA])&&(o[Ti.DATA]=s===6?r:r.subarray(n*t,n*(t+e))),o}_sliceChildren(t,e,n){return t.map(s=>s.slice(e,n))}}yt.prototype.children=Object.freeze([]);class $r extends et{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:e,["offset"]:n=0,["length"]:s=0}=t;return new yt(e,n,s,0)}visitBool(t){const{["type"]:e,["offset"]:n=0}=t,s=rt(t.nullBitmap),r=pt(e.ArrayType,t.data),{["length"]:o=r.length>>3,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new yt(e,n,o,l,[void 0,r,s])}visitInt(t){const{["type"]:e,["offset"]:n=0}=t,s=rt(t.nullBitmap),r=pt(e.ArrayType,t.data),{["length"]:o=r.length,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new yt(e,n,o,l,[void 0,r,s])}visitFloat(t){const{["type"]:e,["offset"]:n=0}=t,s=rt(t.nullBitmap),r=pt(e.ArrayType,t.data),{["length"]:o=r.length,["nullCount"]:l=t.nullBitmap?-1:0}=t;return new yt(e,n,o,l,[void 0,r,s])}visitUtf8(t){const{["type"]:e,["offset"]:n=0}=t,s=rt(t.data),r=rt(t.nullBitmap),o=xr(t.valueOffsets),{["length"]:l=o.length-1,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new yt(e,n,l,a,[o,s,r])}visitBinary(t){const{["type"]:e,["offset"]:n=0}=t,s=rt(t.data),r=rt(t.nullBitmap),o=xr(t.valueOffsets),{["length"]:l=o.length-1,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new yt(e,n,l,a,[o,s,r])}visitFixedSizeBinary(t){const{["type"]:e,["offset"]:n=0}=t,s=rt(t.nullBitmap),r=pt(e.ArrayType,t.data),{["length"]:o=r.length/Bi(e),["nullCount"]:l=t.nullBitmap?-1:0}=t;return new yt(e,n,o,l,[void 0,r,s])}visitDate(t){const{["type"]:e,["offset"]:n=0}=t,s=rt(t.nullBitmap),r=pt(e.ArrayType,t.data),{["length"]:o=r.length/Bi(e),["nullCount"]:l=t.nullBitmap?-1:0}=t;return new yt(e,n,o,l,[void 0,r,s])}visitTimestamp(t){const{["type"]:e,["offset"]:n=0}=t,s=rt(t.nullBitmap),r=pt(e.ArrayType,t.data),{["length"]:o=r.length/Bi(e),["nullCount"]:l=t.nullBitmap?-1:0}=t;return new yt(e,n,o,l,[void 0,r,s])}visitTime(t){const{["type"]:e,["offset"]:n=0}=t,s=rt(t.nullBitmap),r=pt(e.ArrayType,t.data),{["length"]:o=r.length/Bi(e),["nullCount"]:l=t.nullBitmap?-1:0}=t;return new yt(e,n,o,l,[void 0,r,s])}visitDecimal(t){const{["type"]:e,["offset"]:n=0}=t,s=rt(t.nullBitmap),r=pt(e.ArrayType,t.data),{["length"]:o=r.length/Bi(e),["nullCount"]:l=t.nullBitmap?-1:0}=t;return new yt(e,n,o,l,[void 0,r,s])}visitList(t){const{["type"]:e,["offset"]:n=0,["child"]:s}=t,r=rt(t.nullBitmap),o=xr(t.valueOffsets),{["length"]:l=o.length-1,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new yt(e,n,l,a,[o,void 0,r],[s])}visitStruct(t){const{["type"]:e,["offset"]:n=0,["children"]:s=[]}=t,r=rt(t.nullBitmap),{length:o=s.reduce((a,{length:u})=>Math.max(a,u),0),nullCount:l=t.nullBitmap?-1:0}=t;return new yt(e,n,o,l,[void 0,void 0,r],s)}visitUnion(t){const{["type"]:e,["offset"]:n=0,["children"]:s=[]}=t,r=rt(t.nullBitmap),o=pt(e.ArrayType,t.typeIds),{["length"]:l=o.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;if($.isSparseUnion(e))return new yt(e,n,l,a,[void 0,void 0,r,o],s);const u=xr(t.valueOffsets);return new yt(e,n,l,a,[u,void 0,r,o],s)}visitDictionary(t){const{["type"]:e,["offset"]:n=0}=t,s=rt(t.nullBitmap),r=pt(e.indices.ArrayType,t.data),{["dictionary"]:o=new at([new $r().visit({type:e.dictionary})])}=t,{["length"]:l=r.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new yt(e,n,l,a,[void 0,r,s],[],o)}visitInterval(t){const{["type"]:e,["offset"]:n=0}=t,s=rt(t.nullBitmap),r=pt(e.ArrayType,t.data),{["length"]:o=r.length/Bi(e),["nullCount"]:l=t.nullBitmap?-1:0}=t;return new yt(e,n,o,l,[void 0,r,s])}visitFixedSizeList(t){const{["type"]:e,["offset"]:n=0,["child"]:s=new $r().visit({type:e.valueType})}=t,r=rt(t.nullBitmap),{["length"]:o=s.length/Bi(e),["nullCount"]:l=t.nullBitmap?-1:0}=t;return new yt(e,n,o,l,[void 0,void 0,r],[s])}visitMap(t){const{["type"]:e,["offset"]:n=0,["child"]:s=new $r().visit({type:e.childType})}=t,r=rt(t.nullBitmap),o=xr(t.valueOffsets),{["length"]:l=o.length-1,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new yt(e,n,l,a,[o,void 0,r],[s])}}function tt(i){return new $r().visit(i)}class Op{constructor(t=0,e){this.numChunks=t,this.getChunkIterator=e,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function mg(i){return i.reduce((t,e)=>t+e.nullCount,0)}function yg(i){return i.reduce((t,e,n)=>(t[n+1]=t[n]+e.length,t),new Uint32Array(i.length+1))}function vg(i,t,e,n){const s=[];for(let r=-1,o=i.length;++r<o;){const l=i[r],a=t[r],{length:u}=l;if(a>=n)break;if(e>=a+u)continue;if(a>=e&&a+u<=n){s.push(l);continue}const h=Math.max(0,e-a),c=Math.min(n-a,u);s.push(l.slice(h,c-h))}return s.length===0&&s.push(i[0].slice(0,0)),s}function Pf(i,t,e,n){let s=0,r=0,o=t.length-1;do{if(s>=o-1)return e<t[o]?n(i,s,e-t[s]):null;r=s+Math.trunc((o-s)*.5),e<t[r]?o=r:s=r}while(s<o)}function $f(i,t){return i.getValid(t)}function Hs(i){function t(e,n,s){return i(e[n],s)}return function(e){const n=this.data;return Pf(n,this._offsets,e,t)}}function gg(i){let t;function e(n,s,r){return i(n[s],r,t)}return function(n,s){const r=this.data;t=s;const o=Pf(r,this._offsets,n,e);return t=void 0,o}}function wg(i){let t;function e(n,s,r){let o=r,l=0,a=0;for(let u=s-1,h=n.length;++u<h;){const c=n[u];if(~(l=i(c,t,o)))return a+l;o=0,a+=c.length}return-1}return function(n,s){t=n;const r=this.data,o=typeof s!="number"?e(r,0,0):Pf(r,this._offsets,s,e);return t=void 0,o}}class U extends et{}function AS(i,t){return t===null&&i.length>0?0:-1}function PS(i,t){const{nullBitmap:e}=i;if(!e||i.nullCount<=0)return-1;let n=0;for(const s of new Af(e,i.offset+(t||0),i.length,e,pg)){if(!s)return n;++n}return-1}function J(i,t,e){if(t===void 0)return-1;if(t===null)return PS(i,e);const n=we.getVisitFn(i),s=dr(t);for(let r=(e||0)-1,o=i.length;++r<o;)if(s(n(i,r)))return r;return-1}function bg(i,t,e){const n=we.getVisitFn(i),s=dr(t);for(let r=(e||0)-1,o=i.length;++r<o;)if(s(n(i,r)))return r;return-1}U.prototype.visitNull=AS;U.prototype.visitBool=J;U.prototype.visitInt=J;U.prototype.visitInt8=J;U.prototype.visitInt16=J;U.prototype.visitInt32=J;U.prototype.visitInt64=J;U.prototype.visitUint8=J;U.prototype.visitUint16=J;U.prototype.visitUint32=J;U.prototype.visitUint64=J;U.prototype.visitFloat=J;U.prototype.visitFloat16=J;U.prototype.visitFloat32=J;U.prototype.visitFloat64=J;U.prototype.visitUtf8=J;U.prototype.visitBinary=J;U.prototype.visitFixedSizeBinary=J;U.prototype.visitDate=J;U.prototype.visitDateDay=J;U.prototype.visitDateMillisecond=J;U.prototype.visitTimestamp=J;U.prototype.visitTimestampSecond=J;U.prototype.visitTimestampMillisecond=J;U.prototype.visitTimestampMicrosecond=J;U.prototype.visitTimestampNanosecond=J;U.prototype.visitTime=J;U.prototype.visitTimeSecond=J;U.prototype.visitTimeMillisecond=J;U.prototype.visitTimeMicrosecond=J;U.prototype.visitTimeNanosecond=J;U.prototype.visitDecimal=J;U.prototype.visitList=J;U.prototype.visitStruct=J;U.prototype.visitUnion=J;U.prototype.visitDenseUnion=bg;U.prototype.visitSparseUnion=bg;U.prototype.visitDictionary=J;U.prototype.visitInterval=J;U.prototype.visitIntervalDayTime=J;U.prototype.visitIntervalYearMonth=J;U.prototype.visitFixedSizeList=J;U.prototype.visitMap=J;const ya=new U;class j extends et{}function Y(i){const{type:t}=i;if(i.nullCount===0&&i.stride===1&&(t.typeId===w.Timestamp||t instanceof Mn&&t.bitWidth!==64||t instanceof mo&&t.bitWidth!==64||t instanceof po&&t.precision!==ye.HALF))return new Op(i.data.length,n=>{const s=i.data[n];return s.values.subarray(0,s.length)[Symbol.iterator]()});let e=0;return new Op(i.data.length,n=>{const r=i.data[n].length,o=i.slice(e,e+r);return e+=r,new $S(o)})}class $S{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}j.prototype.visitNull=Y;j.prototype.visitBool=Y;j.prototype.visitInt=Y;j.prototype.visitInt8=Y;j.prototype.visitInt16=Y;j.prototype.visitInt32=Y;j.prototype.visitInt64=Y;j.prototype.visitUint8=Y;j.prototype.visitUint16=Y;j.prototype.visitUint32=Y;j.prototype.visitUint64=Y;j.prototype.visitFloat=Y;j.prototype.visitFloat16=Y;j.prototype.visitFloat32=Y;j.prototype.visitFloat64=Y;j.prototype.visitUtf8=Y;j.prototype.visitBinary=Y;j.prototype.visitFixedSizeBinary=Y;j.prototype.visitDate=Y;j.prototype.visitDateDay=Y;j.prototype.visitDateMillisecond=Y;j.prototype.visitTimestamp=Y;j.prototype.visitTimestampSecond=Y;j.prototype.visitTimestampMillisecond=Y;j.prototype.visitTimestampMicrosecond=Y;j.prototype.visitTimestampNanosecond=Y;j.prototype.visitTime=Y;j.prototype.visitTimeSecond=Y;j.prototype.visitTimeMillisecond=Y;j.prototype.visitTimeMicrosecond=Y;j.prototype.visitTimeNanosecond=Y;j.prototype.visitDecimal=Y;j.prototype.visitList=Y;j.prototype.visitStruct=Y;j.prototype.visitUnion=Y;j.prototype.visitDenseUnion=Y;j.prototype.visitSparseUnion=Y;j.prototype.visitDictionary=Y;j.prototype.visitInterval=Y;j.prototype.visitIntervalDayTime=Y;j.prototype.visitIntervalYearMonth=Y;j.prototype.visitFixedSizeList=Y;j.prototype.visitMap=Y;const Vf=new j,VS=(i,t)=>i+t;class On extends et{visitNull(t,e){return 0}visitInt(t,e){return t.type.bitWidth/8}visitFloat(t,e){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,e){return 1/8}visitDecimal(t,e){return t.type.bitWidth/8}visitDate(t,e){return(t.type.unit+1)*4}visitTime(t,e){return t.type.bitWidth/8}visitTimestamp(t,e){return t.type.unit===ot.SECOND?4:8}visitInterval(t,e){return(t.type.unit+1)*4}visitStruct(t,e){return t.children.reduce((n,s)=>n+Ii.visit(s,e),0)}visitFixedSizeBinary(t,e){return t.type.byteWidth}visitMap(t,e){return 8+t.children.reduce((n,s)=>n+Ii.visit(s,e),0)}visitDictionary(t,e){var n;return t.type.indices.bitWidth/8+(((n=t.dictionary)===null||n===void 0?void 0:n.getByteLength(t.values[e]))||0)}}const US=({valueOffsets:i},t)=>8+(i[t+1]-i[t]),jS=({valueOffsets:i},t)=>8+(i[t+1]-i[t]),WS=({valueOffsets:i,stride:t,children:e},n)=>{const s=e[0],{[n*t]:r}=i,{[n*t+1]:o}=i,l=Ii.getVisitFn(s.type),a=s.slice(r,o-r);let u=8;for(let h=-1,c=o-r;++h<c;)u+=l(a,h);return u},HS=({stride:i,children:t},e)=>{const n=t[0],s=n.slice(e*i,i),r=Ii.getVisitFn(n.type);let o=0;for(let l=-1,a=s.length;++l<a;)o+=r(s,l);return o},KS=(i,t)=>i.type.mode===ke.Dense?_g(i,t):Sg(i,t),_g=({type:i,children:t,typeIds:e,valueOffsets:n},s)=>{const r=i.typeIdToChildIndex[e[s]];return 8+Ii.visit(t[r],n[s])},Sg=({children:i},t)=>4+Ii.visitMany(i,i.map(()=>t)).reduce(VS,0);On.prototype.visitUtf8=US;On.prototype.visitBinary=jS;On.prototype.visitList=WS;On.prototype.visitFixedSizeList=HS;On.prototype.visitUnion=KS;On.prototype.visitDenseUnion=_g;On.prototype.visitSparseUnion=Sg;const Ii=new On;var xg;const Mg={},Ig={};class at{constructor(t){var e,n,s;const r=t[0]instanceof at?t.flatMap(l=>l.data):t;if(r.length===0||r.some(l=>!(l instanceof yt)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(e=r[0])===null||e===void 0?void 0:e.type;switch(r.length){case 0:this._offsets=[0];break;case 1:{const{get:l,set:a,indexOf:u,byteLength:h}=Mg[o.typeId],c=r[0];this.isValid=f=>$f(c,f),this.get=f=>l(c,f),this.set=(f,d)=>a(c,f,d),this.indexOf=f=>u(c,f),this.getByteLength=f=>h(c,f),this._offsets=[0,c.length];break}default:Object.setPrototypeOf(this,Ig[o.typeId]),this._offsets=yg(r);break}this.data=r,this.type=o,this.stride=Bi(o),this.numChildren=(s=(n=o.children)===null||n===void 0?void 0:n.length)!==null&&s!==void 0?s:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return this._byteLength===-1&&(this._byteLength=this.data.reduce((t,e)=>t+e.byteLength,0)),this._byteLength}get nullCount(){return this._nullCount===-1&&(this._nullCount=mg(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${w[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}includes(t,e){return this.indexOf(t,e)>0}getByteLength(t){return 0}[Symbol.iterator](){return Vf.visit(this)}concat(...t){return new at(this.data.concat(t.flatMap(e=>e.data).flat(Number.POSITIVE_INFINITY)))}slice(t,e){return new at(dg(this,t,e,({data:n,_offsets:s},r,o)=>vg(n,s,r,o)))}toJSON(){return[...this]}toArray(){const{type:t,data:e,length:n,stride:s,ArrayType:r}=this;switch(t.typeId){case w.Int:case w.Float:case w.Decimal:case w.Time:case w.Timestamp:switch(e.length){case 0:return new r;case 1:return e[0].values.subarray(0,n*s);default:return e.reduce((o,{values:l,length:a})=>(o.array.set(l.subarray(0,a*s),o.offset),o.offset+=a*s,o),{array:new r(n*s),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var e;return this.getChildAt((e=this.type.children)===null||e===void 0?void 0:e.findIndex(n=>n.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new at(this.data.map(({children:e})=>e[t])):null}get isMemoized(){return $.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if($.isDictionary(this.type)){const t=new va(this.data[0].dictionary),e=this.data.map(n=>{const s=n.clone();return s.dictionary=t,s});return new at(e)}return new va(this)}unmemoize(){if($.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),e=this.data.map(n=>{const s=n.clone();return s.dictionary=t,s});return new at(e)}return this}}xg=Symbol.toStringTag;at[xg]=(i=>{i.type=$.prototype,i.data=[],i.length=0,i.stride=1,i.numChildren=0,i._nullCount=-1,i._byteLength=-1,i._offsets=new Uint32Array([0]),i[Symbol.isConcatSpreadable]=!0;const t=Object.keys(w).map(e=>w[e]).filter(e=>typeof e=="number"&&e!==w.NONE);for(const e of t){const n=we.getVisitFnByTypeId(e),s=He.getVisitFnByTypeId(e),r=ya.getVisitFnByTypeId(e),o=Ii.getVisitFnByTypeId(e);Mg[e]={get:n,set:s,indexOf:r,byteLength:o},Ig[e]=Object.create(i,{isValid:{value:Hs($f)},get:{value:Hs(we.getVisitFnByTypeId(e))},set:{value:gg(He.getVisitFnByTypeId(e))},indexOf:{value:wg(ya.getVisitFnByTypeId(e))},getByteLength:{value:Hs(Ii.getVisitFnByTypeId(e))}})}return"Vector"})(at.prototype);class va extends at{constructor(t){super(t.data);const e=this.get,n=this.set,s=this.slice,r=new Array(this.length);Object.defineProperty(this,"get",{value(o){const l=r[o];if(l!==void 0)return l;const a=e.call(this,o);return r[o]=a,a}}),Object.defineProperty(this,"set",{value(o,l){n.call(this,o,l),r[o]=l}}),Object.defineProperty(this,"slice",{value:(o,l)=>new va(s.call(this,o,l))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new at(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class fc{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,e,n,s){return t.prep(8,24),t.writeInt64(s),t.pad(4),t.writeInt32(n),t.writeInt64(e),t.offset()}}const Hu=2,pi=4,Di=4,mt=4,rn=new Int32Array(2),zp=new Float32Array(rn.buffer),Dp=new Float64Array(rn.buffer),el=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;let Vi=class dc{constructor(t,e){this.low=t|0,this.high=e|0}static create(t,e){return t==0&&e==0?dc.ZERO:new dc(t,e)}toFloat64(){return(this.low>>>0)+this.high*4294967296}equals(t){return this.low==t.low&&this.high==t.high}};Vi.ZERO=new Vi(0,0);var pc;(function(i){i[i.UTF8_BYTES=1]="UTF8_BYTES",i[i.UTF16_STRING=2]="UTF16_STRING"})(pc||(pc={}));let er=class Eg{constructor(t){this.bytes_=t,this.position_=0}static allocate(t){return new Eg(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return new Vi(this.readInt32(t),this.readInt32(t+4))}readUint64(t){return new Vi(this.readUint32(t),this.readUint32(t+4))}readFloat32(t){return rn[0]=this.readInt32(t),zp[0]}readFloat64(t){return rn[el?0:1]=this.readInt32(t),rn[el?1:0]=this.readInt32(t+4),Dp[0]}writeInt8(t,e){this.bytes_[t]=e}writeUint8(t,e){this.bytes_[t]=e}writeInt16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeUint16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeInt32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeUint32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeInt64(t,e){this.writeInt32(t,e.low),this.writeInt32(t+4,e.high)}writeUint64(t,e){this.writeUint32(t,e.low),this.writeUint32(t+4,e.high)}writeFloat32(t,e){zp[0]=e,this.writeInt32(t,rn[0])}writeFloat64(t,e){Dp[0]=e,this.writeInt32(t,rn[el?0:1]),this.writeInt32(t+4,rn[el?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+pi+Di)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let e=0;e<Di;e++)t+=String.fromCharCode(this.readInt8(this.position_+pi+e));return t}__offset(t,e){const n=t-this.readInt32(t);return e<this.readInt16(n)?this.readInt16(n+e):0}__union(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t}__string(t,e){t+=this.readInt32(t);const n=this.readInt32(t);let s="",r=0;if(t+=pi,e===pc.UTF8_BYTES)return this.bytes_.subarray(t,t+n);for(;r<n;){let o;const l=this.readUint8(t+r++);if(l<192)o=l;else{const a=this.readUint8(t+r++);if(l<224)o=(l&31)<<6|a&63;else{const u=this.readUint8(t+r++);if(l<240)o=(l&15)<<12|(a&63)<<6|u&63;else{const h=this.readUint8(t+r++);o=(l&7)<<18|(a&63)<<12|(u&63)<<6|h&63}}}o<65536?s+=String.fromCharCode(o):(o-=65536,s+=String.fromCharCode((o>>10)+55296,(o&1023)+56320))}return s}__union_with_string(t,e){return typeof t=="string"?this.__string(e):this.__union(t,e)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+pi}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=Di)throw new Error("FlatBuffers: file identifier must be length "+Di);for(let e=0;e<Di;e++)if(t.charCodeAt(e)!=this.readInt8(this.position()+pi+e))return!1;return!0}createLong(t,e){return Vi.create(t,e)}createScalarList(t,e){const n=[];for(let s=0;s<e;++s)t(s)!==null&&n.push(t(s));return n}createObjList(t,e){const n=[];for(let s=0;s<e;++s){const r=t(s);r!==null&&n.push(r.unpack())}return n}},Cg=class kg{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null;let e;t?e=t:e=1024,this.bb=er.allocate(e),this.space=e}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,e){t>this.minalign&&(this.minalign=t);const n=~(this.bb.capacity()-this.space+e)+1&t-1;for(;this.space<n+t+e;){const s=this.bb.capacity();this.bb=kg.growByteBuffer(this.bb),this.space+=this.bb.capacity()-s}this.pad(n)}pad(t){for(let e=0;e<t;e++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,e,n){(this.force_defaults||e!=n)&&(this.addInt8(e),this.slot(t))}addFieldInt16(t,e,n){(this.force_defaults||e!=n)&&(this.addInt16(e),this.slot(t))}addFieldInt32(t,e,n){(this.force_defaults||e!=n)&&(this.addInt32(e),this.slot(t))}addFieldInt64(t,e,n){(this.force_defaults||!e.equals(n))&&(this.addInt64(e),this.slot(t))}addFieldFloat32(t,e,n){(this.force_defaults||e!=n)&&(this.addFloat32(e),this.slot(t))}addFieldFloat64(t,e,n){(this.force_defaults||e!=n)&&(this.addFloat64(e),this.slot(t))}addFieldOffset(t,e,n){(this.force_defaults||e!=n)&&(this.addOffset(e),this.slot(t))}addFieldStruct(t,e,n){e!=n&&(this.nested(e),this.slot(t))}nested(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const e=t.capacity();if(e&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const n=e<<1,s=er.allocate(n);return s.setPosition(n-e),s.bytes().set(t.bytes(),n-e),s}addOffset(t){this.prep(pi,0),this.writeInt32(this.offset()-t+pi)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let e=0;e<t;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let e=this.vtable_in_use-1;for(;e>=0&&this.vtable[e]==0;e--);const n=e+1;for(;e>=0;e--)this.addInt16(this.vtable[e]!=0?t-this.vtable[e]:0);const s=2;this.addInt16(t-this.object_start);const r=(n+s)*Hu;this.addInt16(r);let o=0;const l=this.space;t:for(e=0;e<this.vtables.length;e++){const a=this.bb.capacity()-this.vtables[e];if(r==this.bb.readInt16(a)){for(let u=Hu;u<r;u+=Hu)if(this.bb.readInt16(l+u)!=this.bb.readInt16(a+u))continue t;o=this.vtables[e];break}}return o?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,o-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,e,n){const s=n?mt:0;if(e){const r=e;if(this.prep(this.minalign,pi+Di+s),r.length!=Di)throw new Error("FlatBuffers: file identifier must be length "+Di);for(let o=Di-1;o>=0;o--)this.writeInt8(r.charCodeAt(o))}this.prep(this.minalign,pi+s),this.addOffset(t),s&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,e){this.finish(t,e,!0)}requiredField(t,e){const n=this.bb.capacity()-t,s=n-this.bb.readInt32(n);if(!(this.bb.readInt16(s+e)!=0))throw new Error("FlatBuffers: field "+e+" must be set")}startVector(t,e,n){this.notNested(),this.vector_num_elems=e,this.prep(pi,t*e),this.prep(n,t*e)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const e=this.createString(t);return this.string_maps.set(t,e),e}createString(t){if(!t)return 0;let e;if(t instanceof Uint8Array)e=t;else{e=[];let n=0;for(;n<t.length;){let s;const r=t.charCodeAt(n++);if(r<55296||r>=56320)s=r;else{const o=t.charCodeAt(n++);s=(r<<10)+o+-56613888}s<128?e.push(s):(s<2048?e.push(s>>6&31|192):(s<65536?e.push(s>>12&15|224):e.push(s>>18&7|240,s>>12&63|128),e.push(s>>6&63|128)),e.push(s&63|128))}}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);for(let n=0,s=this.space,r=this.bb.bytes();n<e.length;n++)r[s++]=e[n];return this.endVector()}createLong(t,e){return Vi.create(t,e)}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const e=[];for(let n=0;n<t.length;++n){const s=t[n];if(s!==null)e.push(this.createObjectOffset(s));else throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return e}createStructOffsetList(t,e){return e(this,t.length),this.createObjectOffsetList(t),this.endVector()}};class Rt{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsKeyValue(t,e){return(e||new Rt).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,e){return t.setPosition(t.position()+mt),(e||new Rt).__init(t.readInt32(t.position())+t.position(),t)}key(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}value(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,e){t.addFieldOffset(0,e,0)}static addValue(t,e){t.addFieldOffset(1,e,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,e,n){return Rt.startKeyValue(t),Rt.addKey(t,e),Rt.addValue(t,n),Rt.endKeyValue(t)}}var ir;(function(i){i[i.V1=0]="V1",i[i.V2=1]="V2",i[i.V3=2]="V3",i[i.V4=3]="V4",i[i.V5=4]="V5"})(ir||(ir={}));var nr;(function(i){i[i.Little=0]="Little",i[i.Big=1]="Big"})(nr||(nr={}));var ga;(function(i){i[i.DenseArray=0]="DenseArray"})(ga||(ga={}));class xe{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInt(t,e){return(e||new xe).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,e){return t.setPosition(t.position()+mt),(e||new xe).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,e){t.addFieldInt32(0,e,0)}static addIsSigned(t,e){t.addFieldInt8(1,+e,0)}static endInt(t){return t.endObject()}static createInt(t,e,n){return xe.startInt(t),xe.addBitWidth(t,e),xe.addIsSigned(t,n),xe.endInt(t)}}class Li{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryEncoding(t,e){return(e||new Li).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,e){return t.setPosition(t.position()+mt),(e||new Li).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}indexType(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new xe).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):ga.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addIndexType(t,e){t.addFieldOffset(1,e,0)}static addIsOrdered(t,e){t.addFieldInt8(2,+e,0)}static addDictionaryKind(t,e){t.addFieldInt16(3,e,ga.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class Un{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBinary(t,e){return(e||new Un).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,e){return t.setPosition(t.position()+mt),(e||new Un).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return Un.startBinary(t),Un.endBinary(t)}}class jn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBool(t,e){return(e||new jn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,e){return t.setPosition(t.position()+mt),(e||new jn).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return jn.startBool(t),jn.endBool(t)}}var wa;(function(i){i[i.DAY=0]="DAY",i[i.MILLISECOND=1]="MILLISECOND"})(wa||(wa={}));let El=class vs{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDate(t,e){return(e||new vs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,e){return t.setPosition(t.position()+mt),(e||new vs).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):wa.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,wa.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,e){return vs.startDate(t),vs.addUnit(t,e),vs.endDate(t)}};class le{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDecimal(t,e){return(e||new le).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,e){return t.setPosition(t.position()+mt),(e||new le).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,e){t.addFieldInt32(0,e,0)}static addScale(t,e){t.addFieldInt32(1,e,0)}static addBitWidth(t,e){t.addFieldInt32(2,e,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,e,n,s){return le.startDecimal(t),le.addPrecision(t,e),le.addScale(t,n),le.addBitWidth(t,s),le.endDecimal(t)}}var sr;(function(i){i[i.SECOND=0]="SECOND",i[i.MILLISECOND=1]="MILLISECOND",i[i.MICROSECOND=2]="MICROSECOND",i[i.NANOSECOND=3]="NANOSECOND"})(sr||(sr={}));class mi{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeBinary(t,e){return(e||new mi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,e){return t.setPosition(t.position()+mt),(e||new mi).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,e){return mi.startFixedSizeBinary(t),mi.addByteWidth(t,e),mi.endFixedSizeBinary(t)}}class yi{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeList(t,e){return(e||new yi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,e){return t.setPosition(t.position()+mt),(e||new yi).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,e){return yi.startFixedSizeList(t),yi.addListSize(t,e),yi.endFixedSizeList(t)}}var ba;(function(i){i[i.HALF=0]="HALF",i[i.SINGLE=1]="SINGLE",i[i.DOUBLE=2]="DOUBLE"})(ba||(ba={}));class vi{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFloatingPoint(t,e){return(e||new vi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,e){return t.setPosition(t.position()+mt),(e||new vi).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):ba.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,e){t.addFieldInt16(0,e,ba.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,e){return vi.startFloatingPoint(t),vi.addPrecision(t,e),vi.endFloatingPoint(t)}}var _a;(function(i){i[i.YEAR_MONTH=0]="YEAR_MONTH",i[i.DAY_TIME=1]="DAY_TIME",i[i.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(_a||(_a={}));class gi{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInterval(t,e){return(e||new gi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,e){return t.setPosition(t.position()+mt),(e||new gi).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):_a.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,_a.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,e){return gi.startInterval(t),gi.addUnit(t,e),gi.endInterval(t)}}class Wn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsList(t,e){return(e||new Wn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,e){return t.setPosition(t.position()+mt),(e||new Wn).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return Wn.startList(t),Wn.endList(t)}}let Cl=class gs{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMap(t,e){return(e||new gs).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,e){return t.setPosition(t.position()+mt),(e||new gs).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,e){t.addFieldInt8(0,+e,0)}static endMap(t){return t.endObject()}static createMap(t,e){return gs.startMap(t),gs.addKeysSorted(t,e),gs.endMap(t)}};class Hn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsNull(t,e){return(e||new Hn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,e){return t.setPosition(t.position()+mt),(e||new Hn).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return Hn.startNull(t),Hn.endNull(t)}}class Kn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsStruct_(t,e){return(e||new Kn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,e){return t.setPosition(t.position()+mt),(e||new Kn).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return Kn.startStruct_(t),Kn.endStruct_(t)}}class Pe{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTime(t,e){return(e||new Pe).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,e){return t.setPosition(t.position()+mt),(e||new Pe).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):sr.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,sr.MILLISECOND)}static addBitWidth(t,e){t.addFieldInt32(1,e,32)}static endTime(t){return t.endObject()}static createTime(t,e,n){return Pe.startTime(t),Pe.addUnit(t,e),Pe.addBitWidth(t,n),Pe.endTime(t)}}class $e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTimestamp(t,e){return(e||new $e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,e){return t.setPosition(t.position()+mt),(e||new $e).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):sr.SECOND}timezone(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,sr.SECOND)}static addTimezone(t,e){t.addFieldOffset(1,e,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,e,n){return $e.startTimestamp(t),$e.addUnit(t,e),$e.addTimezone(t,n),$e.endTimestamp(t)}}var Sa;(function(i){i[i.Sparse=0]="Sparse",i[i.Dense=1]="Dense"})(Sa||(Sa={}));class ue{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUnion(t,e){return(e||new ue).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,e){return t.setPosition(t.position()+mt),(e||new ue).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Sa.Sparse}typeIds(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,e){t.addFieldInt16(0,e,Sa.Sparse)}static addTypeIds(t,e){t.addFieldOffset(1,e,0)}static createTypeIdsVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addInt32(e[n]);return t.endVector()}static startTypeIdsVector(t,e){t.startVector(4,e,4)}static endUnion(t){return t.endObject()}static createUnion(t,e,n){return ue.startUnion(t),ue.addMode(t,e),ue.addTypeIds(t,n),ue.endUnion(t)}}class Yn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUtf8(t,e){return(e||new Yn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,e){return t.setPosition(t.position()+mt),(e||new Yn).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return Yn.startUtf8(t),Yn.endUtf8(t)}}var xt;(function(i){i[i.NONE=0]="NONE",i[i.Null=1]="Null",i[i.Int=2]="Int",i[i.FloatingPoint=3]="FloatingPoint",i[i.Binary=4]="Binary",i[i.Utf8=5]="Utf8",i[i.Bool=6]="Bool",i[i.Decimal=7]="Decimal",i[i.Date=8]="Date",i[i.Time=9]="Time",i[i.Timestamp=10]="Timestamp",i[i.Interval=11]="Interval",i[i.List=12]="List",i[i.Struct_=13]="Struct_",i[i.Union=14]="Union",i[i.FixedSizeBinary=15]="FixedSizeBinary",i[i.FixedSizeList=16]="FixedSizeList",i[i.Map=17]="Map",i[i.Duration=18]="Duration",i[i.LargeBinary=19]="LargeBinary",i[i.LargeUtf8=20]="LargeUtf8",i[i.LargeList=21]="LargeList"})(xt||(xt={}));let De=class kl{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsField(t,e){return(e||new kl).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,e){return t.setPosition(t.position()+mt),(e||new kl).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):xt.NONE}type(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__union(t,this.bb_pos+e):null}dictionary(t){const e=this.bb.__offset(this.bb_pos,12);return e?(t||new Li).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}children(t,e){const n=this.bb.__offset(this.bb_pos,14);return n?(e||new kl).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,16);return n?(e||new Rt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,e){t.addFieldOffset(0,e,0)}static addNullable(t,e){t.addFieldInt8(1,+e,0)}static addTypeType(t,e){t.addFieldInt8(2,e,xt.NONE)}static addType(t,e){t.addFieldOffset(3,e,0)}static addDictionary(t,e){t.addFieldOffset(4,e,0)}static addChildren(t,e){t.addFieldOffset(5,e,0)}static createChildrenVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startChildrenVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(6,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endField(t){return t.endObject()}},hi=class ki{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSchema(t,e){return(e||new ki).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,e){return t.setPosition(t.position()+mt),(e||new ki).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):nr.Little}fields(t,e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new De).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,8);return n?(e||new Rt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+t*8):this.bb.createLong(0,0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,e){t.addFieldInt16(0,e,nr.Little)}static addFields(t,e){t.addFieldOffset(1,e,0)}static createFieldsVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startFieldsVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(2,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static addFeatures(t,e){t.addFieldOffset(3,e,0)}static createFeaturesVector(t,e){t.startVector(8,e.length,8);for(let n=e.length-1;n>=0;n--)t.addInt64(e[n]);return t.endVector()}static startFeaturesVector(t,e){t.startVector(8,e,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,e){t.finish(e)}static finishSizePrefixedSchemaBuffer(t,e){t.finish(e,void 0,!0)}static createSchema(t,e,n,s,r){return ki.startSchema(t),ki.addEndianness(t,e),ki.addFields(t,n),ki.addCustomMetadata(t,s),ki.addFeatures(t,r),ki.endSchema(t)}};class _e{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFooter(t,e){return(e||new _e).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,e){return t.setPosition(t.position()+mt),(e||new _e).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):ir.V1}schema(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new hi).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}dictionaries(t,e){const n=this.bb.__offset(this.bb_pos,8);return n?(e||new fc).__init(this.bb.__vector(this.bb_pos+n)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,e){const n=this.bb.__offset(this.bb_pos,10);return n?(e||new fc).__init(this.bb.__vector(this.bb_pos+n)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,12);return n?(e||new Rt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,ir.V1)}static addSchema(t,e){t.addFieldOffset(1,e,0)}static addDictionaries(t,e){t.addFieldOffset(2,e,0)}static startDictionariesVector(t,e){t.startVector(24,e,8)}static addRecordBatches(t,e){t.addFieldOffset(3,e,0)}static startRecordBatchesVector(t,e){t.startVector(24,e,8)}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,e){t.finish(e)}static finishSizePrefixedFooterBuffer(t,e){t.finish(e,void 0,!0)}}class ut{constructor(t=[],e,n){this.fields=t||[],this.metadata=e||new Map,n||(n=mc(t)),this.dictionaries=n}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,e)=>`${e}: ${t}`).join(", ")} }>`}select(t){const e=new Set(t),n=this.fields.filter(s=>e.has(s.name));return new ut(n,this.metadata)}selectAt(t){const e=t.map(n=>this.fields[n]).filter(Boolean);return new ut(e,this.metadata)}assign(...t){const e=t[0]instanceof ut?t[0]:Array.isArray(t[0])?new ut(t[0]):new ut(t),n=[...this.fields],s=il(il(new Map,this.metadata),e.metadata),r=e.fields.filter(l=>{const a=n.findIndex(u=>u.name===l.name);return~a?(n[a]=l.clone({metadata:il(il(new Map,n[a].metadata),l.metadata)}))&&!1:!0}),o=mc(r,new Map);return new ut([...n,...r],s,new Map([...this.dictionaries,...o]))}}ut.prototype.fields=null;ut.prototype.metadata=null;ut.prototype.dictionaries=null;class _t{constructor(t,e,n=!1,s){this.name=t,this.type=e,this.nullable=n,this.metadata=s||new Map}static new(...t){let[e,n,s,r]=t;return t[0]&&typeof t[0]=="object"&&({name:e}=t[0],n===void 0&&(n=t[0].type),s===void 0&&(s=t[0].nullable),r===void 0&&(r=t[0].metadata)),new _t(`${e}`,n,s,r)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[e,n,s,r]=t;return!t[0]||typeof t[0]!="object"?[e=this.name,n=this.type,s=this.nullable,r=this.metadata]=t:{name:e=this.name,type:n=this.type,nullable:s=this.nullable,metadata:r=this.metadata}=t[0],_t.new(e,n,s,r)}}_t.prototype.type=null;_t.prototype.name=null;_t.prototype.nullable=null;_t.prototype.metadata=null;function il(i,t){return new Map([...i||new Map,...t||new Map])}function mc(i,t=new Map){for(let e=-1,n=i.length;++e<n;){const r=i[e].type;if($.isDictionary(r)){if(!t.has(r.id))t.set(r.id,r.dictionary);else if(t.get(r.id)!==r.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}r.children&&r.children.length>0&&mc(r.children,t)}return t}var Lp=Vi,YS=Cg,XS=er;class yo{constructor(t,e=Me.V4,n,s){this.schema=t,this.version=e,n&&(this._recordBatches=n),s&&(this._dictionaryBatches=s)}static decode(t){t=new XS(rt(t));const e=_e.getRootAsFooter(t),n=ut.decode(e.schema());return new QS(n,e)}static encode(t){const e=new YS,n=ut.encode(e,t.schema);_e.startRecordBatchesVector(e,t.numRecordBatches);for(const o of[...t.recordBatches()].slice().reverse())In.encode(e,o);const s=e.endVector();_e.startDictionariesVector(e,t.numDictionaries);for(const o of[...t.dictionaryBatches()].slice().reverse())In.encode(e,o);const r=e.endVector();return _e.startFooter(e),_e.addSchema(e,n),_e.addVersion(e,Me.V4),_e.addRecordBatches(e,s),_e.addDictionaries(e,r),_e.finishFooterBuffer(e,_e.endFooter(e)),e.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let t,e=-1,n=this.numRecordBatches;++e<n;)(t=this.getRecordBatch(e))&&(yield t)}*dictionaryBatches(){for(let t,e=-1,n=this.numDictionaries;++e<n;)(t=this.getDictionaryBatch(e))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class QS extends yo{constructor(t,e){super(t,e.version()),this._footer=e}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const e=this._footer.recordBatches(t);if(e)return In.decode(e)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const e=this._footer.dictionaries(t);if(e)return In.decode(e)}return null}}class In{constructor(t,e,n){this.metaDataLength=t,this.offset=typeof n=="number"?n:n.low,this.bodyLength=typeof e=="number"?e:e.low}static decode(t){return new In(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,e){const{metaDataLength:n}=e,s=new Lp(e.offset,0),r=new Lp(e.bodyLength,0);return fc.createBlock(t,s,n,r)}}const Et=Object.freeze({done:!0,value:void 0});class Fp{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class Uf{tee(){return this._getDOMStream().tee()}pipe(t,e){return this._getNodeStream().pipe(t,e)}pipeTo(t,e){return this._getDOMStream().pipeTo(t,e)}pipeThrough(t,e){return this._getDOMStream().pipeThrough(t,e)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class JS extends Uf{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return P(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(Et);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return Fe.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return Fe.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return P(this,void 0,void 0,function*(){return yield this.abort(t),Et})}return(t){return P(this,void 0,void 0,function*(){return yield this.close(),Et})}read(t){return P(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return P(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((e,n)=>{this.resolvers.push({resolve:e,reject:n})}):Promise.resolve(Et)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class Nl extends JS{write(t){if((t=rt(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?lc(this.toUint8Array(!0)):this.toUint8Array(!1).then(lc)}toUint8Array(t=!1){return t?Mi(this._values)[0]:P(this,void 0,void 0,function*(){var e,n;const s=[];let r=0;try{for(var o=Jn(this),l;l=yield o.next(),!l.done;){const a=l.value;s.push(a),r+=a.byteLength}}catch(a){e={error:a}}finally{try{l&&!l.done&&(n=o.return)&&(yield n.call(o))}finally{if(e)throw e.error}}return Mi(s,r)[0]})}}class xa{constructor(t){t&&(this.source=new GS(Fe.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class rr{constructor(t){t instanceof rr?this.source=t.source:t instanceof Nl?this.source=new Dn(Fe.fromAsyncIterable(t)):h0(t)?this.source=new Dn(Fe.fromNodeStream(t)):kf(t)?this.source=new Dn(Fe.fromDOMStream(t)):u0(t)?this.source=new Dn(Fe.fromDOMStream(t.body)):To(t)?this.source=new Dn(Fe.fromIterable(t)):_n(t)?this.source=new Dn(Fe.fromAsyncIterable(t)):fr(t)&&(this.source=new Dn(Fe.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class GS{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t,e="read"){return this.source.next({cmd:e,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||Et)}return(t){return Object.create(this.source.return&&this.source.return(t)||Et)}}class Dn{constructor(t){this.source=t,this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}cancel(t){return P(this,void 0,void 0,function*(){yield this.return(t)})}get closed(){return this._closedPromise}read(t){return P(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return P(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(t,e="read"){return P(this,void 0,void 0,function*(){return yield this.source.next({cmd:e,size:t})})}throw(t){return P(this,void 0,void 0,function*(){const e=this.source.throw&&(yield this.source.throw(t))||Et;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)})}return(t){return P(this,void 0,void 0,function*(){const e=this.source.return&&(yield this.source.return(t))||Et;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)})}}class Rp extends xa{constructor(t,e){super(),this.position=0,this.buffer=rt(t),this.size=typeof e>"u"?this.buffer.byteLength:e}readInt32(t){const{buffer:e,byteOffset:n}=this.readAt(t,4);return new DataView(e,n).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){const{buffer:e,size:n,position:s}=this;return e&&s<n?(typeof t!="number"&&(t=Number.POSITIVE_INFINITY),this.position=Math.min(n,s+Math.min(n-s,t)),e.subarray(s,this.position)):null}readAt(t,e){const n=this.buffer,s=Math.min(this.size,t+e);return n?n.subarray(t,s):new Uint8Array(e)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}}class Ma extends rr{constructor(t,e){super(),this.position=0,this._handle=t,typeof e=="number"?this.size=e:this._pending=P(this,void 0,void 0,function*(){this.size=(yield t.stat()).size,delete this._pending})}readInt32(t){return P(this,void 0,void 0,function*(){const{buffer:e,byteOffset:n}=yield this.readAt(t,4);return new DataView(e,n).getInt32(0,!0)})}seek(t){return P(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(t,this.size),t<this.size})}read(t){return P(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:e,size:n,position:s}=this;if(e&&s<n){typeof t!="number"&&(t=Number.POSITIVE_INFINITY);let r=s,o=0,l=0;const a=Math.min(n,r+Math.min(n-r,t)),u=new Uint8Array(Math.max(0,(this.position=a)-r));for(;(r+=l)<a&&(o+=l)<u.byteLength;)({bytesRead:l}=yield e.read(u,o,u.byteLength-o,r));return u}return null})}readAt(t,e){return P(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:n,size:s}=this;if(n&&t+e<s){const r=Math.min(s,t+e),o=new Uint8Array(r-t);return(yield n.read(o,0,e,t)).buffer}return new Uint8Array(e)})}close(){return P(this,void 0,void 0,function*(){const t=this._handle;this._handle=null,t&&(yield t.close())})}throw(t){return P(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}return(t){return P(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}}const qS=65536;function Os(i){return i<0&&(i=4294967295+i+1),`0x${i.toString(16)}`}const or=8,jf=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class Ng{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){const e=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),n=new Uint32Array([t.buffer[1]>>>16,t.buffer[1]&65535,t.buffer[0]>>>16,t.buffer[0]&65535]);let s=e[3]*n[3];this.buffer[0]=s&65535;let r=s>>>16;return s=e[2]*n[3],r+=s,s=e[3]*n[2]>>>0,r+=s,this.buffer[0]+=r<<16,this.buffer[1]=r>>>0<s?qS:0,this.buffer[1]+=r>>>16,this.buffer[1]+=e[1]*n[3]+e[2]*n[2]+e[3]*n[1],this.buffer[1]+=e[0]*n[3]+e[1]*n[2]+e[2]*n[1]+e[3]*n[0]<<16,this}_plus(t){const e=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],e<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=e}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return`${Os(this.buffer[1])} ${Os(this.buffer[0])}`}}class ht extends Ng{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t,e=new Uint32Array(2)){return ht.fromString(typeof t=="string"?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(2)){return ht.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(2)){const n=t.length,s=new ht(e);for(let r=0;r<n;){const o=or<n-r?or:n-r,l=new ht(new Uint32Array([Number.parseInt(t.slice(r,r+o),10),0])),a=new ht(new Uint32Array([jf[o],0]));s.times(a),s.plus(l),r+=o}return s}static convertArray(t){const e=new Uint32Array(t.length*2);for(let n=-1,s=t.length;++n<s;)ht.from(t[n],new Uint32Array(e.buffer,e.byteOffset+2*n*4,2));return e}static multiply(t,e){return new ht(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new ht(new Uint32Array(t.buffer)).plus(e)}}class oe extends Ng{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){const e=this.buffer[1]<<0,n=t.buffer[1]<<0;return e<n||e===n&&this.buffer[0]<t.buffer[0]}static from(t,e=new Uint32Array(2)){return oe.fromString(typeof t=="string"?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(2)){return oe.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(2)){const n=t.startsWith("-"),s=t.length,r=new oe(e);for(let o=n?1:0;o<s;){const l=or<s-o?or:s-o,a=new oe(new Uint32Array([Number.parseInt(t.slice(o,o+l),10),0])),u=new oe(new Uint32Array([jf[l],0]));r.times(u),r.plus(a),o+=l}return n?r.negate():r}static convertArray(t){const e=new Uint32Array(t.length*2);for(let n=-1,s=t.length;++n<s;)oe.from(t[n],new Uint32Array(e.buffer,e.byteOffset+2*n*4,2));return e}static multiply(t,e){return new oe(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new oe(new Uint32Array(t.buffer)).plus(e)}}class ci{constructor(t){this.buffer=t}high(){return new oe(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new oe(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(t){const e=new ht(new Uint32Array([this.buffer[3],0])),n=new ht(new Uint32Array([this.buffer[2],0])),s=new ht(new Uint32Array([this.buffer[1],0])),r=new ht(new Uint32Array([this.buffer[0],0])),o=new ht(new Uint32Array([t.buffer[3],0])),l=new ht(new Uint32Array([t.buffer[2],0])),a=new ht(new Uint32Array([t.buffer[1],0])),u=new ht(new Uint32Array([t.buffer[0],0]));let h=ht.multiply(r,u);this.buffer[0]=h.low();const c=new ht(new Uint32Array([h.high(),0]));return h=ht.multiply(s,u),c.plus(h),h=ht.multiply(r,a),c.plus(h),this.buffer[1]=c.low(),this.buffer[3]=c.lessThan(h)?1:0,this.buffer[2]=c.high(),new ht(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(ht.multiply(n,u)).plus(ht.multiply(s,a)).plus(ht.multiply(r,l)),this.buffer[3]+=ht.multiply(e,u).plus(ht.multiply(n,a)).plus(ht.multiply(s,l)).plus(ht.multiply(r,o)).low(),this}plus(t){const e=new Uint32Array(4);return e[3]=this.buffer[3]+t.buffer[3]>>>0,e[2]=this.buffer[2]+t.buffer[2]>>>0,e[1]=this.buffer[1]+t.buffer[1]>>>0,e[0]=this.buffer[0]+t.buffer[0]>>>0,e[0]<this.buffer[0]>>>0&&++e[1],e[1]<this.buffer[1]>>>0&&++e[2],e[2]<this.buffer[2]>>>0&&++e[3],this.buffer[3]=e[3],this.buffer[2]=e[2],this.buffer[1]=e[1],this.buffer[0]=e[0],this}hex(){return`${Os(this.buffer[3])} ${Os(this.buffer[2])} ${Os(this.buffer[1])} ${Os(this.buffer[0])}`}static multiply(t,e){return new ci(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new ci(new Uint32Array(t.buffer)).plus(e)}static from(t,e=new Uint32Array(4)){return ci.fromString(typeof t=="string"?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(4)){return ci.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(4)){const n=t.startsWith("-"),s=t.length,r=new ci(e);for(let o=n?1:0;o<s;){const l=or<s-o?or:s-o,a=new ci(new Uint32Array([Number.parseInt(t.slice(o,o+l),10),0,0,0])),u=new ci(new Uint32Array([jf[l],0,0,0]));r.times(u),r.plus(a),o+=l}return n?r.negate():r}static convertArray(t){const e=new Uint32Array(t.length*4);for(let n=-1,s=t.length;++n<s;)ci.from(t[n],new Uint32Array(e.buffer,e.byteOffset+4*4*n,4));return e}}class Tg extends et{constructor(t,e,n,s){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=e,this.buffers=n,this.dictionaries=s}visit(t){return super.visit(t instanceof _t?t.type:t)}visitNull(t,{length:e}=this.nextFieldNode()){return tt({type:t,length:e})}visitBool(t,{length:e,nullCount:n}=this.nextFieldNode()){return tt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitInt(t,{length:e,nullCount:n}=this.nextFieldNode()){return tt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitFloat(t,{length:e,nullCount:n}=this.nextFieldNode()){return tt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitUtf8(t,{length:e,nullCount:n}=this.nextFieldNode()){return tt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitBinary(t,{length:e,nullCount:n}=this.nextFieldNode()){return tt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitFixedSizeBinary(t,{length:e,nullCount:n}=this.nextFieldNode()){return tt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitDate(t,{length:e,nullCount:n}=this.nextFieldNode()){return tt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitTimestamp(t,{length:e,nullCount:n}=this.nextFieldNode()){return tt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitTime(t,{length:e,nullCount:n}=this.nextFieldNode()){return tt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitDecimal(t,{length:e,nullCount:n}=this.nextFieldNode()){return tt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitList(t,{length:e,nullCount:n}=this.nextFieldNode()){return tt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}visitStruct(t,{length:e,nullCount:n}=this.nextFieldNode()){return tt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),children:this.visitMany(t.children)})}visitUnion(t){return t.mode===ke.Sparse?this.visitSparseUnion(t):this.visitDenseUnion(t)}visitDenseUnion(t,{length:e,nullCount:n}=this.nextFieldNode()){return tt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),typeIds:this.readTypeIds(t),valueOffsets:this.readOffsets(t),children:this.visitMany(t.children)})}visitSparseUnion(t,{length:e,nullCount:n}=this.nextFieldNode()){return tt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),typeIds:this.readTypeIds(t),children:this.visitMany(t.children)})}visitDictionary(t,{length:e,nullCount:n}=this.nextFieldNode()){return tt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t.indices),dictionary:this.readDictionary(t)})}visitInterval(t,{length:e,nullCount:n}=this.nextFieldNode()){return tt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitFixedSizeList(t,{length:e,nullCount:n}=this.nextFieldNode()){return tt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),child:this.visit(t.children[0])})}visitMap(t,{length:e,nullCount:n}=this.nextFieldNode()){return tt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,e,n=this.nextBufferRange()){return e>0&&this.readData(t,n)||new Uint8Array(0)}readOffsets(t,e){return this.readData(t,e)}readTypeIds(t,e){return this.readData(t,e)}readData(t,{length:e,offset:n}=this.nextBufferRange()){return this.bytes.subarray(n,n+e)}readDictionary(t){return this.dictionaries.get(t.id)}}class ZS extends Tg{constructor(t,e,n,s){super(new Uint8Array(0),e,n,s),this.sources=t}readNullBitmap(t,e,{offset:n}=this.nextBufferRange()){return e<=0?new Uint8Array(0):ma(this.sources[n])}readOffsets(t,{offset:e}=this.nextBufferRange()){return pt(Uint8Array,pt(Int32Array,this.sources[e]))}readTypeIds(t,{offset:e}=this.nextBufferRange()){return pt(Uint8Array,pt(t.ArrayType,this.sources[e]))}readData(t,{offset:e}=this.nextBufferRange()){const{sources:n}=this;return $.isTimestamp(t)||($.isInt(t)||$.isTime(t))&&t.bitWidth===64||$.isDate(t)&&t.unit===Yi.MILLISECOND?pt(Uint8Array,oe.convertArray(n[e])):$.isDecimal(t)?pt(Uint8Array,ci.convertArray(n[e])):$.isBinary(t)||$.isFixedSizeBinary(t)?tx(n[e]):$.isBool(t)?ma(n[e]):$.isUtf8(t)?Cf(n[e].join("")):pt(Uint8Array,pt(t.ArrayType,n[e].map(s=>+s)))}}function tx(i){const t=i.join(""),e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2)e[n>>1]=Number.parseInt(t.slice(n,n+2),16);return e}class W extends et{compareSchemas(t,e){return t===e||e instanceof t.constructor&&this.compareManyFields(t.fields,e.fields)}compareManyFields(t,e){return t===e||Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every((n,s)=>this.compareFields(n,e[s]))}compareFields(t,e){return t===e||e instanceof t.constructor&&t.name===e.name&&t.nullable===e.nullable&&this.visit(t.type,e.type)}}function be(i,t){return t instanceof i.constructor}function Bo(i,t){return i===t||be(i,t)}function Ji(i,t){return i===t||be(i,t)&&i.bitWidth===t.bitWidth&&i.isSigned===t.isSigned}function au(i,t){return i===t||be(i,t)&&i.precision===t.precision}function ex(i,t){return i===t||be(i,t)&&i.byteWidth===t.byteWidth}function Wf(i,t){return i===t||be(i,t)&&i.unit===t.unit}function Oo(i,t){return i===t||be(i,t)&&i.unit===t.unit&&i.timezone===t.timezone}function zo(i,t){return i===t||be(i,t)&&i.unit===t.unit&&i.bitWidth===t.bitWidth}function ix(i,t){return i===t||be(i,t)&&i.children.length===t.children.length&&En.compareManyFields(i.children,t.children)}function nx(i,t){return i===t||be(i,t)&&i.children.length===t.children.length&&En.compareManyFields(i.children,t.children)}function Hf(i,t){return i===t||be(i,t)&&i.mode===t.mode&&i.typeIds.every((e,n)=>e===t.typeIds[n])&&En.compareManyFields(i.children,t.children)}function sx(i,t){return i===t||be(i,t)&&i.id===t.id&&i.isOrdered===t.isOrdered&&En.visit(i.indices,t.indices)&&En.visit(i.dictionary,t.dictionary)}function Kf(i,t){return i===t||be(i,t)&&i.unit===t.unit}function rx(i,t){return i===t||be(i,t)&&i.listSize===t.listSize&&i.children.length===t.children.length&&En.compareManyFields(i.children,t.children)}function ox(i,t){return i===t||be(i,t)&&i.keysSorted===t.keysSorted&&i.children.length===t.children.length&&En.compareManyFields(i.children,t.children)}W.prototype.visitNull=Bo;W.prototype.visitBool=Bo;W.prototype.visitInt=Ji;W.prototype.visitInt8=Ji;W.prototype.visitInt16=Ji;W.prototype.visitInt32=Ji;W.prototype.visitInt64=Ji;W.prototype.visitUint8=Ji;W.prototype.visitUint16=Ji;W.prototype.visitUint32=Ji;W.prototype.visitUint64=Ji;W.prototype.visitFloat=au;W.prototype.visitFloat16=au;W.prototype.visitFloat32=au;W.prototype.visitFloat64=au;W.prototype.visitUtf8=Bo;W.prototype.visitBinary=Bo;W.prototype.visitFixedSizeBinary=ex;W.prototype.visitDate=Wf;W.prototype.visitDateDay=Wf;W.prototype.visitDateMillisecond=Wf;W.prototype.visitTimestamp=Oo;W.prototype.visitTimestampSecond=Oo;W.prototype.visitTimestampMillisecond=Oo;W.prototype.visitTimestampMicrosecond=Oo;W.prototype.visitTimestampNanosecond=Oo;W.prototype.visitTime=zo;W.prototype.visitTimeSecond=zo;W.prototype.visitTimeMillisecond=zo;W.prototype.visitTimeMicrosecond=zo;W.prototype.visitTimeNanosecond=zo;W.prototype.visitDecimal=Bo;W.prototype.visitList=ix;W.prototype.visitStruct=nx;W.prototype.visitUnion=Hf;W.prototype.visitDenseUnion=Hf;W.prototype.visitSparseUnion=Hf;W.prototype.visitDictionary=sx;W.prototype.visitInterval=Kf;W.prototype.visitIntervalDayTime=Kf;W.prototype.visitIntervalYearMonth=Kf;W.prototype.visitFixedSizeList=rx;W.prototype.visitMap=ox;const En=new W;function yc(i,t){return En.compareSchemas(i,t)}function Ku(i,t){return lx(i,t.map(e=>e.data.concat()))}function lx(i,t){const e=[...i.fields],n=[],s={numBatches:t.reduce((c,f)=>Math.max(c,f.length),0)};let r=0,o=0,l=-1;const a=t.length;let u,h=[];for(;s.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,l=-1;++l<a;)h[l]=u=t[l].shift(),o=Math.min(o,u?u.length:o);Number.isFinite(o)&&(h=ax(e,o,h,t,s),o>0&&(n[r++]=tt({type:new te(e),length:o,nullCount:0,children:h.slice()})))}return[i=i.assign(e),n.map(c=>new he(i,c))]}function ax(i,t,e,n,s){var r;const o=(t+63&-64)>>3;for(let l=-1,a=n.length;++l<a;){const u=e[l],h=u==null?void 0:u.length;if(h>=t)h===t?e[l]=u:(e[l]=u.slice(0,t),s.numBatches=Math.max(s.numBatches,n[l].unshift(u.slice(t,h-t))));else{const c=i[l];i[l]=c.clone({nullable:!0}),e[l]=(r=u==null?void 0:u._changeLengthAndBackfillNullBitmap(t))!==null&&r!==void 0?r:tt({type:c.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)})}}return e}var Bg;class Zt{constructor(...t){var e,n;if(t.length===0)return this.batches=[],this.schema=new ut([]),this._offsets=[0],this;let s,r;t[0]instanceof ut&&(s=t.shift()),t[t.length-1]instanceof Uint32Array&&(r=t.pop());const o=a=>{if(a){if(a instanceof he)return[a];if(a instanceof Zt)return a.batches;if(a instanceof yt){if(a.type instanceof te)return[new he(new ut(a.type.children),a)]}else{if(Array.isArray(a))return a.flatMap(u=>o(u));if(typeof a[Symbol.iterator]=="function")return[...a].flatMap(u=>o(u));if(typeof a=="object"){const u=Object.keys(a),h=u.map(d=>new at([a[d]])),c=new ut(u.map((d,y)=>new _t(String(d),h[y].type))),[,f]=Ku(c,h);return f.length===0?[new he(a)]:f}}}return[]},l=t.flatMap(a=>o(a));if(s=(n=s??((e=l[0])===null||e===void 0?void 0:e.schema))!==null&&n!==void 0?n:new ut([]),!(s instanceof ut))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const a of l){if(!(a instanceof he))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!yc(s,a.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=s,this.batches=l,this._offsets=r??yg(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,e)=>t+e.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=mg(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?Vf.visit(new at(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const e=this.schema,n=this.data.concat(t.flatMap(({data:s})=>s));return new Zt(e,n.map(s=>new he(e,s)))}slice(t,e){const n=this.schema;[t,e]=dg({length:this.numRows},t,e);const s=vg(this.data,this._offsets,t,e);return new Zt(n,s.map(r=>new he(n,r)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(e=>e.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const e=this.data.map(n=>n.children[t]);if(e.length===0){const{type:n}=this.schema.fields[t],s=tt({type:n,length:0,nullCount:0});e.push(s._changeLengthAndBackfillNullBitmap(this.numRows))}return new at(e)}return null}setChild(t,e){var n;return this.setChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(s=>s.name===t),e)}setChildAt(t,e){let n=this.schema,s=[...this.batches];if(t>-1&&t<this.numCols){e||(e=new at([tt({type:new xn,length:this.numRows})]));const r=n.fields.slice(),o=r[t].clone({type:e.type}),l=this.schema.fields.map((a,u)=>this.getChildAt(u));[r[t],l[t]]=[o,e],[n,s]=Ku(n,l)}return new Zt(n,s)}select(t){const e=this.schema.fields.reduce((n,s,r)=>n.set(s.name,r),new Map);return this.selectAt(t.map(n=>e.get(n)).filter(n=>n>-1))}selectAt(t){const e=this.schema.selectAt(t),n=this.batches.map(s=>s.selectAt(t));return new Zt(e,n)}assign(t){const e=this.schema.fields,[n,s]=t.schema.fields.reduce((l,a,u)=>{const[h,c]=l,f=e.findIndex(d=>d.name===a.name);return~f?c[f]=u:h.push(u),l},[[],[]]),r=this.schema.assign(t.schema),o=[...e.map((l,a)=>[a,s[a]]).map(([l,a])=>a===void 0?this.getChildAt(l):t.getChildAt(a)),...n.map(l=>t.getChildAt(l))].filter(Boolean);return new Zt(...Ku(r,o))}}Bg=Symbol.toStringTag;Zt[Bg]=(i=>(i.schema=null,i.batches=[],i._offsets=new Uint32Array([0]),i._nullCount=-1,i[Symbol.isConcatSpreadable]=!0,i.isValid=Hs($f),i.get=Hs(we.getVisitFn(w.Struct)),i.set=gg(He.getVisitFn(w.Struct)),i.indexOf=wg(ya.getVisitFn(w.Struct)),i.getByteLength=Hs(Ii.getVisitFn(w.Struct)),"Table"))(Zt.prototype);var Og;let he=class Nr{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof ut))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=tt({nullCount:0,type:new te(this.schema.fields),children:this.schema.fields.map(e=>tt({type:e.type,nullCount:0}))})]=t,!(this.data instanceof yt))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=Ap(this.schema,this.data.children);break}case 1:{const[e]=t,{fields:n,children:s,length:r}=Object.keys(e).reduce((a,u,h)=>(a.children[h]=e[u],a.length=Math.max(a.length,e[u].length),a.fields[h]=_t.new({name:u,type:e[u].type,nullable:!0}),a),{length:0,fields:new Array,children:new Array}),o=new ut(n),l=tt({type:new te(n),length:r,children:s,nullCount:0});[this.schema,this.data]=Ap(o,l.children,r);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=zg(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return we.visit(this.data,t)}set(t,e){return He.visit(this.data,t,e)}indexOf(t,e){return ya.visit(this.data,t,e)}getByteLength(t){return Ii.visit(this.data,t)}[Symbol.iterator](){return Vf.visit(new at([this.data]))}toArray(){return[...this]}concat(...t){return new Zt(this.schema,[this,...t])}slice(t,e){const[n]=new at([this.data]).slice(t,e).data;return new Nr(this.schema,n)}getChild(t){var e;return this.getChildAt((e=this.schema.fields)===null||e===void 0?void 0:e.findIndex(n=>n.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new at([this.data.children[t]]):null}setChild(t,e){var n;return this.setChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(s=>s.name===t),e)}setChildAt(t,e){let n=this.schema,s=this.data;if(t>-1&&t<this.numCols){e||(e=new at([tt({type:new xn,length:this.numRows})]));const r=n.fields.slice(),o=s.children.slice(),l=r[t].clone({type:e.type});[r[t],o[t]]=[l,e.data[0]],n=new ut(r,new Map(this.schema.metadata)),s=tt({type:new te(r),children:o})}return new Nr(n,s)}select(t){const e=this.schema.select(t),n=new te(e.fields),s=[];for(const r of t){const o=this.schema.fields.findIndex(l=>l.name===r);~o&&(s[o]=this.data.children[o])}return new Nr(e,tt({type:n,length:this.numRows,children:s}))}selectAt(t){const e=this.schema.selectAt(t),n=t.map(r=>this.data.children[r]).filter(Boolean),s=tt({type:new te(e.fields),length:this.numRows,children:n});return new Nr(e,s)}};Og=Symbol.toStringTag;he[Og]=(i=>(i._nullCount=-1,i[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(he.prototype);function Ap(i,t,e=t.reduce((n,s)=>Math.max(n,s.length),0)){var n;const s=[...i.fields],r=[...t],o=(e+63&-64)>>3;for(const[l,a]of i.fields.entries()){const u=t[l];(!u||u.length!==e)&&(s[l]=a.clone({nullable:!0}),r[l]=(n=u==null?void 0:u._changeLengthAndBackfillNullBitmap(e))!==null&&n!==void 0?n:tt({type:a.type,length:e,nullCount:e,nullBitmap:new Uint8Array(o)}))}return[i.assign(s),tt({type:new te(s),length:e,children:r})]}function zg(i,t,e=new Map){for(let n=-1,s=i.length;++n<s;){const o=i[n].type,l=t[n];if($.isDictionary(o)){if(!e.has(o.id))l.dictionary&&e.set(o.id,l.dictionary);else if(e.get(o.id)!==l.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}o.children&&o.children.length>0&&zg(o.children,l.children,e)}return e}class Yf extends he{constructor(t){const e=t.fields.map(s=>tt({type:s.type})),n=tt({type:new te(t.fields),nullCount:0,children:e});super(t,n)}}var Ia;(function(i){i[i.BUFFER=0]="BUFFER"})(Ia||(Ia={}));var Ea;(function(i){i[i.LZ4_FRAME=0]="LZ4_FRAME",i[i.ZSTD=1]="ZSTD"})(Ea||(Ea={}));class on{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBodyCompression(t,e){return(e||new on).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,e){return t.setPosition(t.position()+mt),(e||new on).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):Ea.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):Ia.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,e){t.addFieldInt8(0,e,Ea.LZ4_FRAME)}static addMethod(t,e){t.addFieldInt8(1,e,Ia.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,e,n){return on.startBodyCompression(t),on.addCodec(t,e),on.addMethod(t,n),on.endBodyCompression(t)}}class Dg{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,e,n){return t.prep(8,16),t.writeInt64(n),t.writeInt64(e),t.offset()}}let Lg=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,e,n){return t.prep(8,16),t.writeInt64(n),t.writeInt64(e),t.offset()}},Oi=class vc{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsRecordBatch(t,e){return(e||new vc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,e){return t.setPosition(t.position()+mt),(e||new vc).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}nodes(t,e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new Lg).__init(this.bb.__vector(this.bb_pos+n)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,e){const n=this.bb.__offset(this.bb_pos,8);return n?(e||new Dg).__init(this.bb.__vector(this.bb_pos+n)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const e=this.bb.__offset(this.bb_pos,10);return e?(t||new on).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addNodes(t,e){t.addFieldOffset(1,e,0)}static startNodesVector(t,e){t.startVector(16,e,8)}static addBuffers(t,e){t.addFieldOffset(2,e,0)}static startBuffersVector(t,e){t.startVector(16,e,8)}static addCompression(t,e){t.addFieldOffset(3,e,0)}static endRecordBatch(t){return t.endObject()}},ws=class gc{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryBatch(t,e){return(e||new gc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,e){return t.setPosition(t.position()+mt),(e||new gc).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}data(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Oi).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addData(t,e){t.addFieldOffset(1,e,0)}static addIsDelta(t,e){t.addFieldInt8(2,+e,0)}static endDictionaryBatch(t){return t.endObject()}};var Ca;(function(i){i[i.NONE=0]="NONE",i[i.Schema=1]="Schema",i[i.DictionaryBatch=2]="DictionaryBatch",i[i.RecordBatch=3]="RecordBatch",i[i.Tensor=4]="Tensor",i[i.SparseTensor=5]="SparseTensor"})(Ca||(Ca={}));let tn=class ai{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMessage(t,e){return(e||new ai).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,e){return t.setPosition(t.position()+mt),(e||new ai).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):ir.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):Ca.NONE}header(t){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,12);return n?(e||new Rt).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,ir.V1)}static addHeaderType(t,e){t.addFieldInt8(1,e,Ca.NONE)}static addHeader(t,e){t.addFieldOffset(2,e,0)}static addBodyLength(t,e){t.addFieldInt64(3,e,t.createLong(0,0))}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,e){t.finish(e)}static finishSizePrefixedMessageBuffer(t,e){t.finish(e,void 0,!0)}static createMessage(t,e,n,s,r,o){return ai.startMessage(t),ai.addVersion(t,e),ai.addHeaderType(t,n),ai.addHeader(t,s),ai.addBodyLength(t,r),ai.addCustomMetadata(t,o),ai.endMessage(t)}};var ux=Vi;class hx extends et{visit(t,e){return t==null||e==null?void 0:super.visit(t,e)}visitNull(t,e){return Hn.startNull(e),Hn.endNull(e)}visitInt(t,e){return xe.startInt(e),xe.addBitWidth(e,t.bitWidth),xe.addIsSigned(e,t.isSigned),xe.endInt(e)}visitFloat(t,e){return vi.startFloatingPoint(e),vi.addPrecision(e,t.precision),vi.endFloatingPoint(e)}visitBinary(t,e){return Un.startBinary(e),Un.endBinary(e)}visitBool(t,e){return jn.startBool(e),jn.endBool(e)}visitUtf8(t,e){return Yn.startUtf8(e),Yn.endUtf8(e)}visitDecimal(t,e){return le.startDecimal(e),le.addScale(e,t.scale),le.addPrecision(e,t.precision),le.addBitWidth(e,t.bitWidth),le.endDecimal(e)}visitDate(t,e){return El.startDate(e),El.addUnit(e,t.unit),El.endDate(e)}visitTime(t,e){return Pe.startTime(e),Pe.addUnit(e,t.unit),Pe.addBitWidth(e,t.bitWidth),Pe.endTime(e)}visitTimestamp(t,e){const n=t.timezone&&e.createString(t.timezone)||void 0;return $e.startTimestamp(e),$e.addUnit(e,t.unit),n!==void 0&&$e.addTimezone(e,n),$e.endTimestamp(e)}visitInterval(t,e){return gi.startInterval(e),gi.addUnit(e,t.unit),gi.endInterval(e)}visitList(t,e){return Wn.startList(e),Wn.endList(e)}visitStruct(t,e){return Kn.startStruct_(e),Kn.endStruct_(e)}visitUnion(t,e){ue.startTypeIdsVector(e,t.typeIds.length);const n=ue.createTypeIdsVector(e,t.typeIds);return ue.startUnion(e),ue.addMode(e,t.mode),ue.addTypeIds(e,n),ue.endUnion(e)}visitDictionary(t,e){const n=this.visit(t.indices,e);return Li.startDictionaryEncoding(e),Li.addId(e,new ux(t.id,0)),Li.addIsOrdered(e,t.isOrdered),n!==void 0&&Li.addIndexType(e,n),Li.endDictionaryEncoding(e)}visitFixedSizeBinary(t,e){return mi.startFixedSizeBinary(e),mi.addByteWidth(e,t.byteWidth),mi.endFixedSizeBinary(e)}visitFixedSizeList(t,e){return yi.startFixedSizeList(e),yi.addListSize(e,t.listSize),yi.endFixedSizeList(e)}visitMap(t,e){return Cl.startMap(e),Cl.addKeysSorted(e,t.keysSorted),Cl.endMap(e)}}const Yu=new hx;function cx(i,t=new Map){return new ut(dx(i,t),Tl(i.customMetadata),t)}function Fg(i){return new Ne(i.count,Rg(i.columns),Ag(i.columns))}function fx(i){return new Ei(Fg(i.data),i.id,i.isDelta)}function dx(i,t){return(i.fields||[]).filter(Boolean).map(e=>_t.fromJSON(e,t))}function Pp(i,t){return(i.children||[]).filter(Boolean).map(e=>_t.fromJSON(e,t))}function Rg(i){return(i||[]).reduce((t,e)=>[...t,new cs(e.count,px(e.VALIDITY)),...Rg(e.children)],[])}function Ag(i,t=[]){for(let e=-1,n=(i||[]).length;++e<n;){const s=i[e];s.VALIDITY&&t.push(new bi(t.length,s.VALIDITY.length)),s.TYPE&&t.push(new bi(t.length,s.TYPE.length)),s.OFFSET&&t.push(new bi(t.length,s.OFFSET.length)),s.DATA&&t.push(new bi(t.length,s.DATA.length)),t=Ag(s.children,t)}return t}function px(i){return(i||[]).reduce((t,e)=>t+ +(e===0),0)}function mx(i,t){let e,n,s,r,o,l;return!t||!(r=i.dictionary)?(o=Vp(i,Pp(i,t)),s=new _t(i.name,o,i.nullable,Tl(i.customMetadata))):t.has(e=r.id)?(n=(n=r.indexType)?$p(n):new fo,l=new tr(t.get(e),n,e,r.isOrdered),s=new _t(i.name,l,i.nullable,Tl(i.customMetadata))):(n=(n=r.indexType)?$p(n):new fo,t.set(e,o=Vp(i,Pp(i,t))),l=new tr(o,n,e,r.isOrdered),s=new _t(i.name,l,i.nullable,Tl(i.customMetadata))),s||null}function Tl(i){return new Map(Object.entries(i||{}))}function $p(i){return new Mn(i.isSigned,i.bitWidth)}function Vp(i,t){const e=i.type.name;switch(e){case"NONE":return new xn;case"null":return new xn;case"binary":return new na;case"utf8":return new sa;case"bool":return new ra;case"list":return new ha((t||[])[0]);case"struct":return new te(t||[]);case"struct_":return new te(t||[])}switch(e){case"int":{const n=i.type;return new Mn(n.isSigned,n.bitWidth)}case"floatingpoint":{const n=i.type;return new po(ye[n.precision])}case"decimal":{const n=i.type;return new oa(n.scale,n.precision,n.bitWidth)}case"date":{const n=i.type;return new la(Yi[n.unit])}case"time":{const n=i.type;return new mo(ot[n.unit],n.bitWidth)}case"timestamp":{const n=i.type;return new aa(ot[n.unit],n.timezone)}case"interval":{const n=i.type;return new ua(Sn[n.unit])}case"union":{const n=i.type;return new ca(ke[n.mode],n.typeIds||[],t||[])}case"fixedsizebinary":{const n=i.type;return new fa(n.byteWidth)}case"fixedsizelist":{const n=i.type;return new da(n.listSize,(t||[])[0])}case"map":{const n=i.type;return new pa((t||[])[0],n.keysSorted)}}throw new Error(`Unrecognized type: "${e}"`)}var ss=Vi,yx=Cg,vx=er;class ee{constructor(t,e,n,s){this._version=e,this._headerType=n,this.body=new Uint8Array(0),s&&(this._createHeader=()=>s),this._bodyLength=typeof t=="number"?t:t.low}static fromJSON(t,e){const n=new ee(0,Me.V4,e);return n._createHeader=gx(t,e),n}static decode(t){t=new vx(rt(t));const e=tn.getRootAsMessage(t),n=e.bodyLength(),s=e.version(),r=e.headerType(),o=new ee(n,s,r);return o._createHeader=wx(e,r),o}static encode(t){const e=new yx;let n=-1;return t.isSchema()?n=ut.encode(e,t.header()):t.isRecordBatch()?n=Ne.encode(e,t.header()):t.isDictionaryBatch()&&(n=Ei.encode(e,t.header())),tn.startMessage(e),tn.addVersion(e,Me.V4),tn.addHeader(e,n),tn.addHeaderType(e,t.headerType),tn.addBodyLength(e,new ss(t.bodyLength,0)),tn.finishMessageBuffer(e,tn.endMessage(e)),e.asUint8Array()}static from(t,e=0){if(t instanceof ut)return new ee(0,Me.V4,lt.Schema,t);if(t instanceof Ne)return new ee(e,Me.V4,lt.RecordBatch,t);if(t instanceof Ei)return new ee(e,Me.V4,lt.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===lt.Schema}isRecordBatch(){return this.headerType===lt.RecordBatch}isDictionaryBatch(){return this.headerType===lt.DictionaryBatch}}class Ne{constructor(t,e,n){this._nodes=e,this._buffers=n,this._length=typeof t=="number"?t:t.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class Ei{constructor(t,e,n=!1){this._data=t,this._isDelta=n,this._id=typeof e=="number"?e:e.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class bi{constructor(t,e){this.offset=typeof t=="number"?t:t.low,this.length=typeof e=="number"?e:e.low}}class cs{constructor(t,e){this.length=typeof t=="number"?t:t.low,this.nullCount=typeof e=="number"?e:e.low}}function gx(i,t){return()=>{switch(t){case lt.Schema:return ut.fromJSON(i);case lt.RecordBatch:return Ne.fromJSON(i);case lt.DictionaryBatch:return Ei.fromJSON(i)}throw new Error(`Unrecognized Message type: { name: ${lt[t]}, type: ${t} }`)}}function wx(i,t){return()=>{switch(t){case lt.Schema:return ut.decode(i.header(new hi));case lt.RecordBatch:return Ne.decode(i.header(new Oi),i.version());case lt.DictionaryBatch:return Ei.decode(i.header(new ws),i.version())}throw new Error(`Unrecognized Message type: { name: ${lt[t]}, type: ${t} }`)}}_t.encode=Tx;_t.decode=kx;_t.fromJSON=mx;ut.encode=Nx;ut.decode=bx;ut.fromJSON=cx;Ne.encode=Bx;Ne.decode=_x;Ne.fromJSON=Fg;Ei.encode=Ox;Ei.decode=Sx;Ei.fromJSON=fx;cs.encode=zx;cs.decode=Mx;bi.encode=Dx;bi.decode=xx;function bx(i,t=new Map){const e=Cx(i,t);return new ut(e,Bl(i),t)}function _x(i,t=Me.V4){if(i.compression()!==null)throw new Error("Record batch compression not implemented");return new Ne(i.length(),Ix(i),Ex(i,t))}function Sx(i,t=Me.V4){return new Ei(Ne.decode(i.data(),t),i.id(),i.isDelta())}function xx(i){return new bi(i.offset(),i.length())}function Mx(i){return new cs(i.length(),i.nullCount())}function Ix(i){const t=[];for(let e,n=-1,s=-1,r=i.nodesLength();++n<r;)(e=i.nodes(n))&&(t[++s]=cs.decode(e));return t}function Ex(i,t){const e=[];for(let n,s=-1,r=-1,o=i.buffersLength();++s<o;)(n=i.buffers(s))&&(t<Me.V4&&(n.bb_pos+=8*(s+1)),e[++r]=bi.decode(n));return e}function Cx(i,t){const e=[];for(let n,s=-1,r=-1,o=i.fieldsLength();++s<o;)(n=i.fields(s))&&(e[++r]=_t.decode(n,t));return e}function Up(i,t){const e=[];for(let n,s=-1,r=-1,o=i.childrenLength();++s<o;)(n=i.children(s))&&(e[++r]=_t.decode(n,t));return e}function kx(i,t){let e,n,s,r,o,l;return!t||!(l=i.dictionary())?(s=Wp(i,Up(i,t)),n=new _t(i.name(),s,i.nullable(),Bl(i))):t.has(e=l.id().low)?(r=(r=l.indexType())?jp(r):new fo,o=new tr(t.get(e),r,e,l.isOrdered()),n=new _t(i.name(),o,i.nullable(),Bl(i))):(r=(r=l.indexType())?jp(r):new fo,t.set(e,s=Wp(i,Up(i,t))),o=new tr(s,r,e,l.isOrdered()),n=new _t(i.name(),o,i.nullable(),Bl(i))),n||null}function Bl(i){const t=new Map;if(i)for(let e,n,s=-1,r=Math.trunc(i.customMetadataLength());++s<r;)(e=i.customMetadata(s))&&(n=e.key())!=null&&t.set(n,e.value());return t}function jp(i){return new Mn(i.isSigned(),i.bitWidth())}function Wp(i,t){const e=i.typeType();switch(e){case xt.NONE:return new xn;case xt.Null:return new xn;case xt.Binary:return new na;case xt.Utf8:return new sa;case xt.Bool:return new ra;case xt.List:return new ha((t||[])[0]);case xt.Struct_:return new te(t||[])}switch(e){case xt.Int:{const n=i.type(new xe);return new Mn(n.isSigned(),n.bitWidth())}case xt.FloatingPoint:{const n=i.type(new vi);return new po(n.precision())}case xt.Decimal:{const n=i.type(new le);return new oa(n.scale(),n.precision(),n.bitWidth())}case xt.Date:{const n=i.type(new El);return new la(n.unit())}case xt.Time:{const n=i.type(new Pe);return new mo(n.unit(),n.bitWidth())}case xt.Timestamp:{const n=i.type(new $e);return new aa(n.unit(),n.timezone())}case xt.Interval:{const n=i.type(new gi);return new ua(n.unit())}case xt.Union:{const n=i.type(new ue);return new ca(n.mode(),n.typeIdsArray()||[],t||[])}case xt.FixedSizeBinary:{const n=i.type(new mi);return new fa(n.byteWidth())}case xt.FixedSizeList:{const n=i.type(new yi);return new da(n.listSize(),(t||[])[0])}case xt.Map:{const n=i.type(new Cl);return new pa((t||[])[0],n.keysSorted())}}throw new Error(`Unrecognized type: "${xt[e]}" (${e})`)}function Nx(i,t){const e=t.fields.map(r=>_t.encode(i,r));hi.startFieldsVector(i,e.length);const n=hi.createFieldsVector(i,e),s=t.metadata&&t.metadata.size>0?hi.createCustomMetadataVector(i,[...t.metadata].map(([r,o])=>{const l=i.createString(`${r}`),a=i.createString(`${o}`);return Rt.startKeyValue(i),Rt.addKey(i,l),Rt.addValue(i,a),Rt.endKeyValue(i)})):-1;return hi.startSchema(i),hi.addFields(i,n),hi.addEndianness(i,Lx?nr.Little:nr.Big),s!==-1&&hi.addCustomMetadata(i,s),hi.endSchema(i)}function Tx(i,t){let e=-1,n=-1,s=-1;const r=t.type;let o=t.typeId;$.isDictionary(r)?(o=r.dictionary.typeId,s=Yu.visit(r,i),n=Yu.visit(r.dictionary,i)):n=Yu.visit(r,i);const l=(r.children||[]).map(h=>_t.encode(i,h)),a=De.createChildrenVector(i,l),u=t.metadata&&t.metadata.size>0?De.createCustomMetadataVector(i,[...t.metadata].map(([h,c])=>{const f=i.createString(`${h}`),d=i.createString(`${c}`);return Rt.startKeyValue(i),Rt.addKey(i,f),Rt.addValue(i,d),Rt.endKeyValue(i)})):-1;return t.name&&(e=i.createString(t.name)),De.startField(i),De.addType(i,n),De.addTypeType(i,o),De.addChildren(i,a),De.addNullable(i,!!t.nullable),e!==-1&&De.addName(i,e),s!==-1&&De.addDictionary(i,s),u!==-1&&De.addCustomMetadata(i,u),De.endField(i)}function Bx(i,t){const e=t.nodes||[],n=t.buffers||[];Oi.startNodesVector(i,e.length);for(const o of e.slice().reverse())cs.encode(i,o);const s=i.endVector();Oi.startBuffersVector(i,n.length);for(const o of n.slice().reverse())bi.encode(i,o);const r=i.endVector();return Oi.startRecordBatch(i),Oi.addLength(i,new ss(t.length,0)),Oi.addNodes(i,s),Oi.addBuffers(i,r),Oi.endRecordBatch(i)}function Ox(i,t){const e=Ne.encode(i,t.data);return ws.startDictionaryBatch(i),ws.addId(i,new ss(t.id,0)),ws.addIsDelta(i,t.isDelta),ws.addData(i,e),ws.endDictionaryBatch(i)}function zx(i,t){return Lg.createFieldNode(i,new ss(t.length,0),new ss(t.nullCount,0))}function Dx(i,t){return Dg.createBuffer(i,new ss(t.offset,0),new ss(t.length,0))}const Lx=(()=>{const i=new ArrayBuffer(2);return new DataView(i).setInt16(0,256,!0),new Int16Array(i)[0]===256})(),Xf=i=>`Expected ${lt[i]} Message in stream, but was null or length 0.`,Qf=i=>`Header pointer of flatbuffer-encoded ${lt[i]} Message is null or length 0.`,Pg=(i,t)=>`Expected to read ${i} metadata bytes, but only read ${t}.`,$g=(i,t)=>`Expected to read ${i} bytes for message body, but only read ${t}.`;class Vg{constructor(t){this.source=t instanceof xa?t:new xa(t)}[Symbol.iterator](){return this}next(){let t;return(t=this.readMetadataLength()).done||t.value===-1&&(t=this.readMetadataLength()).done||(t=this.readMetadata(t.value)).done?Et:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let e;if((e=this.next()).done)return null;if(t!=null&&e.value.headerType!==t)throw new Error(Xf(t));return e.value}readMessageBody(t){if(t<=0)return new Uint8Array(0);const e=rt(this.source.read(t));if(e.byteLength<t)throw new Error($g(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}readSchema(t=!1){const e=lt.Schema,n=this.readMessage(e),s=n==null?void 0:n.header();if(t&&!s)throw new Error(Qf(e));return s}readMetadataLength(){const t=this.source.read(uu),e=t&&new er(t),n=(e==null?void 0:e.readInt32(0))||0;return{done:n===0,value:n}}readMetadata(t){const e=this.source.read(t);if(!e)return Et;if(e.byteLength<t)throw new Error(Pg(t,e.byteLength));return{done:!1,value:ee.decode(e)}}}class Fx{constructor(t,e){this.source=t instanceof rr?t:a0(t)?new Ma(t,e):new rr(t)}[Symbol.asyncIterator](){return this}next(){return P(this,void 0,void 0,function*(){let t;return(t=yield this.readMetadataLength()).done||t.value===-1&&(t=yield this.readMetadataLength()).done||(t=yield this.readMetadata(t.value)).done?Et:t})}throw(t){return P(this,void 0,void 0,function*(){return yield this.source.throw(t)})}return(t){return P(this,void 0,void 0,function*(){return yield this.source.return(t)})}readMessage(t){return P(this,void 0,void 0,function*(){let e;if((e=yield this.next()).done)return null;if(t!=null&&e.value.headerType!==t)throw new Error(Xf(t));return e.value})}readMessageBody(t){return P(this,void 0,void 0,function*(){if(t<=0)return new Uint8Array(0);const e=rt(yield this.source.read(t));if(e.byteLength<t)throw new Error($g(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()})}readSchema(t=!1){return P(this,void 0,void 0,function*(){const e=lt.Schema,n=yield this.readMessage(e),s=n==null?void 0:n.header();if(t&&!s)throw new Error(Qf(e));return s})}readMetadataLength(){return P(this,void 0,void 0,function*(){const t=yield this.source.read(uu),e=t&&new er(t),n=(e==null?void 0:e.readInt32(0))||0;return{done:n===0,value:n}})}readMetadata(t){return P(this,void 0,void 0,function*(){const e=yield this.source.read(t);if(!e)return Et;if(e.byteLength<t)throw new Error(Pg(t,e.byteLength));return{done:!1,value:ee.decode(e)}})}}class Rx extends Vg{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof Fp?t:new Fp(t)}next(){const{_json:t}=this;if(!this._schema)return this._schema=!0,{done:!1,value:ee.fromJSON(t.schema,lt.Schema)};if(this._dictionaryIndex<t.dictionaries.length){const e=t.dictionaries[this._dictionaryIndex++];return this._body=e.data.columns,{done:!1,value:ee.fromJSON(e,lt.DictionaryBatch)}}if(this._batchIndex<t.batches.length){const e=t.batches[this._batchIndex++];return this._body=e.columns,{done:!1,value:ee.fromJSON(e,lt.RecordBatch)}}return this._body=[],Et}readMessageBody(t){return e(this._body);function e(n){return(n||[]).reduce((s,r)=>[...s,...r.VALIDITY&&[r.VALIDITY]||[],...r.TYPE&&[r.TYPE]||[],...r.OFFSET&&[r.OFFSET]||[],...r.DATA&&[r.DATA]||[],...e(r.children)],[])}}readMessage(t){let e;if((e=this.next()).done)return null;if(t!=null&&e.value.headerType!==t)throw new Error(Xf(t));return e.value}readSchema(){const t=lt.Schema,e=this.readMessage(t),n=e==null?void 0:e.header();if(!e||!n)throw new Error(Qf(t));return n}}const uu=4,wc="ARROW1",vo=new Uint8Array(wc.length);for(let i=0;i<wc.length;i+=1)vo[i]=wc.codePointAt(i);function Jf(i,t=0){for(let e=-1,n=vo.length;++e<n;)if(vo[e]!==i[t+e])return!1;return!0}const Do=vo.length,Ug=Do+uu,Ax=Do*2+uu;class Ui extends Uf{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){const e=this._impl.open(t);return _n(e)?e.then(()=>this):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return Fe.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return Fe.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}static from(t){return t instanceof Ui?t:ac(t)?Ux(t):a0(t)?Hx(t):_n(t)?P(this,void 0,void 0,function*(){return yield Ui.from(yield t)}):u0(t)||kf(t)||h0(t)||fr(t)?Wx(new rr(t)):jx(new xa(t))}static readAll(t){return t instanceof Ui?t.isSync()?Hp(t):Kp(t):ac(t)||ArrayBuffer.isView(t)||To(t)||l0(t)?Hp(t):Kp(t)}}class ka extends Ui{constructor(t){super(t),this._impl=t}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return wi(this,arguments,function*(){yield Q(yield*Il(Jn(this[Symbol.iterator]())))})}}class Na extends Ui{constructor(t){super(t),this._impl=t}readAll(){var t,e;return P(this,void 0,void 0,function*(){const n=new Array;try{for(var s=Jn(this),r;r=yield s.next(),!r.done;){const o=r.value;n.push(o)}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=s.return)&&(yield e.call(s))}finally{if(t)throw t.error}}return n})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class jg extends ka{constructor(t){super(t),this._impl=t}}class Px extends Na{constructor(t){super(t),this._impl=t}}class Wg{constructor(t=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,e){const n=this._loadVectors(t,e,this.schema.fields),s=tt({type:new te(this.schema.fields),length:t.length,children:n});return new he(this.schema,s)}_loadDictionaryBatch(t,e){const{id:n,isDelta:s}=t,{dictionaries:r,schema:o}=this,l=r.get(n);if(s||!l){const a=o.dictionaries.get(n),u=this._loadVectors(t.data,e,[a]);return(l&&s?l.concat(new at(u)):new at(u)).memoize()}return l.memoize()}_loadVectors(t,e,n){return new Tg(e,t.nodes,t.buffers,this.dictionaries).visitMany(n)}}class Ta extends Wg{constructor(t,e){super(e),this._reader=ac(t)?new Rx(this._handle=t):new Vg(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return this.closed||(this.autoDestroy=Kg(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):Et}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):Et}next(){if(this.closed)return Et;let t;const{_reader:e}=this;for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;const n=t.header(),s=e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(n,s)}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;const n=t.header(),s=e.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(n,s);this.dictionaries.set(n.id,r)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new Yf(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}}class Ba extends Wg{constructor(t,e){super(e),this._reader=new Fx(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return P(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(t){return P(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=Kg(this,t),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(t){return P(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(t):Et})}return(t){return P(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(t):Et})}next(){return P(this,void 0,void 0,function*(){if(this.closed)return Et;let t;const{_reader:e}=this;for(;t=yield this._readNextMessageAndValidate();)if(t.isSchema())yield this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;const n=t.header(),s=yield e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(n,s)}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;const n=t.header(),s=yield e.readMessageBody(t.bodyLength),r=this._loadDictionaryBatch(n,s);this.dictionaries.set(n.id,r)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new Yf(this.schema)}):yield this.return()})}_readNextMessageAndValidate(t){return P(this,void 0,void 0,function*(){return yield this._reader.readMessage(t)})}}class Hg extends Ta{constructor(t,e){super(t instanceof Rp?t:new Rp(t),e)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const e of this._footer.dictionaryBatches())e&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(t)}readRecordBatch(t){var e;if(this.closed)return null;this._footer||this.open();const n=(e=this._footer)===null||e===void 0?void 0:e.getRecordBatch(t);if(n&&this._handle.seek(n.offset)){const s=this._reader.readMessage(lt.RecordBatch);if(s!=null&&s.isRecordBatch()){const r=s.header(),o=this._reader.readMessageBody(s.bodyLength);return this._loadRecordBatch(r,o)}}return null}_readDictionaryBatch(t){var e;const n=(e=this._footer)===null||e===void 0?void 0:e.getDictionaryBatch(t);if(n&&this._handle.seek(n.offset)){const s=this._reader.readMessage(lt.DictionaryBatch);if(s!=null&&s.isDictionaryBatch()){const r=s.header(),o=this._reader.readMessageBody(s.bodyLength),l=this._loadDictionaryBatch(r,o);this.dictionaries.set(r.id,l)}}}_readFooter(){const{_handle:t}=this,e=t.size-Ug,n=t.readInt32(e),s=t.readAt(e-n,n);return yo.decode(s)}_readNextMessageAndValidate(t){var e;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const n=(e=this._footer)===null||e===void 0?void 0:e.getRecordBatch(this._recordBatchIndex);if(n&&this._handle.seek(n.offset))return this._reader.readMessage(t)}return null}}class $x extends Ba{constructor(t,...e){const n=typeof e[0]!="number"?e.shift():void 0,s=e[0]instanceof Map?e.shift():void 0;super(t instanceof Ma?t:new Ma(t,n),s)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(t){const e=Object.create(null,{open:{get:()=>super.open}});return P(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const n of this._footer.dictionaryBatches())n&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield e.open.call(this,t)})}readRecordBatch(t){var e;return P(this,void 0,void 0,function*(){if(this.closed)return null;this._footer||(yield this.open());const n=(e=this._footer)===null||e===void 0?void 0:e.getRecordBatch(t);if(n&&(yield this._handle.seek(n.offset))){const s=yield this._reader.readMessage(lt.RecordBatch);if(s!=null&&s.isRecordBatch()){const r=s.header(),o=yield this._reader.readMessageBody(s.bodyLength);return this._loadRecordBatch(r,o)}}return null})}_readDictionaryBatch(t){var e;return P(this,void 0,void 0,function*(){const n=(e=this._footer)===null||e===void 0?void 0:e.getDictionaryBatch(t);if(n&&(yield this._handle.seek(n.offset))){const s=yield this._reader.readMessage(lt.DictionaryBatch);if(s!=null&&s.isDictionaryBatch()){const r=s.header(),o=yield this._reader.readMessageBody(s.bodyLength),l=this._loadDictionaryBatch(r,o);this.dictionaries.set(r.id,l)}}})}_readFooter(){return P(this,void 0,void 0,function*(){const{_handle:t}=this;t._pending&&(yield t._pending);const e=t.size-Ug,n=yield t.readInt32(e),s=yield t.readAt(e-n,n);return yo.decode(s)})}_readNextMessageAndValidate(t){return P(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const e=this._footer.getRecordBatch(this._recordBatchIndex);if(e&&(yield this._handle.seek(e.offset)))return yield this._reader.readMessage(t)}return null})}}class Vx extends Ta{constructor(t,e){super(t,e)}_loadVectors(t,e,n){return new ZS(e,t.nodes,t.buffers,this.dictionaries).visitMany(n)}}function Kg(i,t){return t&&typeof t.autoDestroy=="boolean"?t.autoDestroy:i.autoDestroy}function*Hp(i){const t=Ui.from(i);try{if(!t.open({autoDestroy:!1}).closed)do yield t;while(!t.reset().open().closed)}finally{t.cancel()}}function Kp(i){return wi(this,arguments,function*(){const e=yield Q(Ui.from(i));try{if(!(yield Q(e.open({autoDestroy:!1}))).closed)do yield yield Q(e);while(!(yield Q(e.reset().open())).closed)}finally{yield Q(e.cancel())}})}function Ux(i){return new ka(new Vx(i))}function jx(i){const t=i.peek(Do+7&-8);return t&&t.byteLength>=4?Jf(t)?new jg(new Hg(i.read())):new ka(new Ta(i)):new ka(new Ta(function*(){}()))}function Wx(i){return P(this,void 0,void 0,function*(){const t=yield i.peek(Do+7&-8);return t&&t.byteLength>=4?Jf(t)?new jg(new Hg(yield i.read())):new Na(new Ba(i)):new Na(new Ba(function(){return wi(this,arguments,function*(){})}()))})}function Hx(i){return P(this,void 0,void 0,function*(){const{size:t}=yield i.stat(),e=new Ma(i,t);return t>=Ax&&Jf(yield e.readAt(0,Do+7&-8))?new Px(new $x(e)):new Na(new Ba(e))})}class Dt extends et{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...t){const e=s=>s.flatMap(r=>Array.isArray(r)?e(r):r instanceof he?r.data.children:r.data),n=new Dt;return n.visitMany(e(t)),n}visit(t){if(t instanceof at)return this.visitMany(t.data),this;const{type:e}=t;if(!$.isDictionary(e)){const{length:n,nullCount:s}=t;if(n>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");$.isNull(e)||Ze.call(this,s<=0?new Uint8Array(0):Rf(t.offset,n,t.nullBitmap)),this.nodes.push(new cs(n,s))}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function Ze(i){const t=i.byteLength+7&-8;return this.buffers.push(i),this.bufferRegions.push(new bi(this._byteLength,t)),this._byteLength+=t,this}function Kx(i){const{type:t,length:e,typeIds:n,valueOffsets:s}=i;if(Ze.call(this,n),t.mode===ke.Sparse)return bc.call(this,i);if(t.mode===ke.Dense){if(i.offset<=0)return Ze.call(this,s),bc.call(this,i);{const r=n.reduce((h,c)=>Math.max(h,c),n[0]),o=new Int32Array(r+1),l=new Int32Array(r+1).fill(-1),a=new Int32Array(e),u=Tf(-s[0],e,s);for(let h,c,f=-1;++f<e;)(c=l[h=n[f]])===-1&&(c=l[h]=u[h]),a[f]=u[f]-c,++o[h];Ze.call(this,a);for(let h,c=-1,f=t.children.length;++c<f;)if(h=i.children[c]){const d=t.typeIds[c],y=Math.min(e,o[d]);this.visit(h.slice(l[d],y))}}}return this}function Yx(i){let t;return i.nullCount>=i.length?Ze.call(this,new Uint8Array(0)):(t=i.values)instanceof Uint8Array?Ze.call(this,Rf(i.offset,i.length,t)):Ze.call(this,ma(i.values))}function zn(i){return Ze.call(this,i.values.subarray(0,i.length*i.stride))}function Yg(i){const{length:t,values:e,valueOffsets:n}=i,s=n[0],r=n[t],o=Math.min(r-s,e.byteLength-s);return Ze.call(this,Tf(-n[0],t,n)),Ze.call(this,e.subarray(s,s+o)),this}function Gf(i){const{length:t,valueOffsets:e}=i;return e&&Ze.call(this,Tf(e[0],t,e)),this.visit(i.children[0])}function bc(i){return this.visitMany(i.type.children.map((t,e)=>i.children[e]).filter(Boolean))[0]}Dt.prototype.visitBool=Yx;Dt.prototype.visitInt=zn;Dt.prototype.visitFloat=zn;Dt.prototype.visitUtf8=Yg;Dt.prototype.visitBinary=Yg;Dt.prototype.visitFixedSizeBinary=zn;Dt.prototype.visitDate=zn;Dt.prototype.visitTimestamp=zn;Dt.prototype.visitTime=zn;Dt.prototype.visitDecimal=zn;Dt.prototype.visitList=Gf;Dt.prototype.visitStruct=bc;Dt.prototype.visitUnion=Kx;Dt.prototype.visitInterval=zn;Dt.prototype.visitFixedSizeList=Gf;Dt.prototype.visitMap=Gf;class Xg extends Uf{constructor(t){super(),this._position=0,this._started=!1,this._sink=new Nl,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,ge(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return _n(t)?t.then(e=>this.writeAll(e)):fr(t)?ed(this,t):td(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,e=null){return t===this._sink||t instanceof Nl?this._sink=t:(this._sink=new Nl,t&&p_(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&m_(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!e||!yc(e,this._schema))&&(e==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=e,this._writeSchema(e))),this}write(t){let e=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof Zt&&!(e=t.schema))return this.finish()&&void 0;if(t instanceof he&&!(e=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(e&&!yc(e,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,e)}t instanceof he?t instanceof Yf||this._writeRecordBatch(t):t instanceof Zt?this.writeAll(t.batches):To(t)&&this.writeAll(t)}_writeMessage(t,e=8){const n=e-1,s=ee.encode(t),r=s.byteLength,o=this._writeLegacyIpcFormat?4:8,l=r+o+n&~n,a=l-r-o;return t.headerType===lt.RecordBatch?this._recordBatchBlocks.push(new In(l,t.bodyLength,this._position)):t.headerType===lt.DictionaryBatch&&this._dictionaryBlocks.push(new In(l,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(l-o)),r>0&&this._write(s),this._writePadding(a)}_write(t){if(this._started){const e=rt(t);e&&e.byteLength>0&&(this._sink.write(e),this._position+=e.byteLength)}return this}_writeSchema(t){return this._writeMessage(ee.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(vo)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:e,nodes:n,bufferRegions:s,buffers:r}=Dt.assemble(t),o=new Ne(t.numRows,n,s),l=ee.from(o,e);return this._writeDictionaries(t)._writeMessage(l)._writeBodyBuffers(r)}_writeDictionaryBatch(t,e,n=!1){this._dictionaryDeltaOffsets.set(e,t.length+(this._dictionaryDeltaOffsets.get(e)||0));const{byteLength:s,nodes:r,bufferRegions:o,buffers:l}=Dt.assemble(new at([t])),a=new Ne(t.length,r,o),u=new Ei(a,e,n),h=ee.from(u,s);return this._writeMessage(h)._writeBodyBuffers(l)}_writeBodyBuffers(t){let e,n,s;for(let r=-1,o=t.length;++r<o;)(e=t[r])&&(n=e.byteLength)>0&&(this._write(e),(s=(n+7&-8)-n)>0&&this._writePadding(s));return this}_writeDictionaries(t){for(let[e,n]of t.dictionaries){let s=this._dictionaryDeltaOffsets.get(e)||0;if(s===0||(n=n==null?void 0:n.slice(s)).length>0)for(const r of n.data)this._writeDictionaryBatch(r,e,s>0),s+=r.length}return this}}class qf extends Xg{static writeAll(t,e){const n=new qf(e);return _n(t)?t.then(s=>n.writeAll(s)):fr(t)?ed(n,t):td(n,t)}}class Zf extends Xg{static writeAll(t){const e=new Zf;return _n(t)?t.then(n=>e.writeAll(n)):fr(t)?ed(e,t):td(e,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const e=yo.encode(new yo(t,Me.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(e)._write(Int32Array.of(e.byteLength))._writeMagic()}}function td(i,t){let e=t;t instanceof Zt&&(e=t.batches,i.reset(void 0,t.schema));for(const n of e)i.write(n);return i.finish()}function ed(i,t){var e,n,s,r;return P(this,void 0,void 0,function*(){try{for(e=Jn(t);n=yield e.next(),!n.done;){const o=n.value;i.write(o)}}catch(o){s={error:o}}finally{try{n&&!n.done&&(r=e.return)&&(yield r.call(e))}finally{if(s)throw s.error}}return i.finish()})}function Tr(i){const t=Ui.from(i);return _n(t)?t.then(e=>Tr(e)):t.isAsync()?t.readAll().then(e=>new Zt(e)):new Zt(t.readAll())}function Xu(i,t="stream"){return(t==="stream"?qf:Zf).writeAll(i).toUint8Array(!0)}var Yp=function(){function i(t,e,n,s){var r=this;this.getCell=function(o,l){var a=o<r.headerRows&&l<r.headerColumns,u=o>=r.headerRows&&l<r.headerColumns,h=o<r.headerRows&&l>=r.headerColumns;if(a){var c=["blank"];return l>0&&c.push("level"+o),{type:"blank",classNames:c.join(" "),content:""}}else if(h){var f=l-r.headerColumns,c=["col_heading","level"+o,"col"+f];return{type:"columns",classNames:c.join(" "),content:r.getContent(r.columnsTable,f,o)}}else if(u){var d=o-r.headerRows,c=["row_heading","level"+l,"row"+d];return{type:"index",id:"T_".concat(r.uuid,"level").concat(l,"_row").concat(d),classNames:c.join(" "),content:r.getContent(r.indexTable,d,l)}}else{var d=o-r.headerRows,f=l-r.headerColumns,c=["data","row"+d,"col"+f],y=r.styler?r.getContent(r.styler.displayValuesTable,d,f):r.getContent(r.dataTable,d,f);return{type:"data",id:"T_".concat(r.uuid,"row").concat(d,"_col").concat(f),classNames:c.join(" "),content:y}}},this.getContent=function(o,l,a){var u=o.getChildAt(a);if(u===null)return"";var h=r.getColumnTypeId(o,a);switch(h){case w.Timestamp:return r.nanosToDate(u.get(l));default:return u.get(l)}},this.dataTable=Tr(t),this.indexTable=Tr(e),this.columnsTable=Tr(n),this.styler=s?{caption:s.caption,displayValuesTable:Tr(s.displayValues),styles:s.styles,uuid:s.uuid}:void 0}return Object.defineProperty(i.prototype,"rows",{get:function(){return this.indexTable.numRows+this.columnsTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"columns",{get:function(){return this.indexTable.numCols+this.columnsTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"headerRows",{get:function(){return this.rows-this.dataRows},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"headerColumns",{get:function(){return this.columns-this.dataColumns},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dataRows",{get:function(){return this.dataTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"dataColumns",{get:function(){return this.dataTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"uuid",{get:function(){return this.styler&&this.styler.uuid},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"caption",{get:function(){return this.styler&&this.styler.caption},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"styles",{get:function(){return this.styler&&this.styler.styles},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"table",{get:function(){return this.dataTable},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"index",{get:function(){return this.indexTable},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"columnTable",{get:function(){return this.columnsTable},enumerable:!1,configurable:!0}),i.prototype.serialize=function(){return{data:Xu(this.dataTable),index:Xu(this.indexTable),columns:Xu(this.columnsTable)}},i.prototype.getColumnTypeId=function(t,e){return t.schema.fields[e].type.typeId},i.prototype.nanosToDate=function(t){return new Date(t/1e6)},i}(),Vr=function(){return Vr=Object.assign||function(i){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s])}return i},Vr.apply(this,arguments)},Ur;(function(i){i.COMPONENT_READY="streamlit:componentReady",i.SET_COMPONENT_VALUE="streamlit:setComponentValue",i.SET_FRAME_HEIGHT="streamlit:setFrameHeight"})(Ur||(Ur={}));var ce=function(){function i(){}return i.API_VERSION=1,i.RENDER_EVENT="streamlit:render",i.events=new EventTarget,i.registeredMessageListener=!1,i.setComponentReady=function(){i.registeredMessageListener||(window.addEventListener("message",i.onMessageEvent),i.registeredMessageListener=!0),i.sendBackMsg(Ur.COMPONENT_READY,{apiVersion:i.API_VERSION})},i.setFrameHeight=function(t){t===void 0&&(t=document.body.scrollHeight),t!==i.lastFrameHeight&&(i.lastFrameHeight=t,i.sendBackMsg(Ur.SET_FRAME_HEIGHT,{height:t}))},i.setComponentValue=function(t){var e;t instanceof Yp?(e="dataframe",t=t.serialize()):Qx(t)?(e="bytes",t=new Uint8Array(t.buffer)):t instanceof ArrayBuffer?(e="bytes",t=new Uint8Array(t)):e="json",i.sendBackMsg(Ur.SET_COMPONENT_VALUE,{value:t,dataType:e})},i.onMessageEvent=function(t){var e=t.data.type;switch(e){case i.RENDER_EVENT:i.onRenderMessage(t.data);break}},i.onRenderMessage=function(t){var e=t.args;e==null&&(console.error("Got null args in onRenderMessage. This should never happen"),e={});var n=t.dfs&&t.dfs.length>0?i.argsDataframeToObject(t.dfs):{};e=Vr(Vr({},e),n);var s=!!t.disabled,r=t.theme;r&&Xx(r);var o={disabled:s,args:e,theme:r},l=new CustomEvent(i.RENDER_EVENT,{detail:o});i.events.dispatchEvent(l)},i.argsDataframeToObject=function(t){var e=t.map(function(n){var s=n.key,r=n.value;return[s,i.toArrowTable(r)]});return Object.fromEntries(e)},i.toArrowTable=function(t){var e,n=(e=t.data,e.data),s=e.index,r=e.columns,o=e.styler;return new Yp(n,s,r,o)},i.sendBackMsg=function(t,e){window.parent.postMessage(Vr({isStreamlitMessage:!0,type:t},e),"*")},i}(),Xx=function(i){var t=document.createElement("style");document.head.appendChild(t),t.innerHTML=`
    :root {
      --primary-color: `.concat(i.primaryColor,`;
      --background-color: `).concat(i.backgroundColor,`;
      --secondary-background-color: `).concat(i.secondaryBackgroundColor,`;
      --text-color: `).concat(i.textColor,`;
      --font: `).concat(i.font,`;
    }

    body {
      background-color: var(--background-color);
      color: var(--text-color);
    }
  `)};function Qx(i){var t=!1;try{t=i instanceof BigInt64Array||i instanceof BigUint64Array}catch{}return i instanceof Int8Array||i instanceof Uint8Array||i instanceof Uint8ClampedArray||i instanceof Int16Array||i instanceof Uint16Array||i instanceof Int32Array||i instanceof Uint32Array||i instanceof Float32Array||i instanceof Float64Array||t}var Qg=function(){var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])},i(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");i(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();(function(i){Qg(t,i);function t(){return i!==null&&i.apply(this,arguments)||this}return t.prototype.componentDidMount=function(){ce.setFrameHeight()},t.prototype.componentDidUpdate=function(){ce.setFrameHeight()},t})(An.PureComponent);function Jx(i){var t=function(e){Qg(n,e);function n(s){var r=e.call(this,s)||this;return r.componentDidMount=function(){ce.events.addEventListener(ce.RENDER_EVENT,r.onRenderEvent),ce.setComponentReady()},r.componentDidUpdate=function(){r.state.componentError!=null&&ce.setFrameHeight()},r.componentWillUnmount=function(){ce.events.removeEventListener(ce.RENDER_EVENT,r.onRenderEvent)},r.onRenderEvent=function(o){r.setState({renderData:o.detail})},r.state={renderData:void 0,componentError:void 0},r}return n.prototype.render=function(){return this.state.componentError!=null?An.createElement("div",null,An.createElement("h1",null,"Component Error"),An.createElement("span",null,this.state.componentError.message)):this.state.renderData==null?null:An.createElement(i,{width:window.innerWidth,disabled:this.state.renderData.disabled,args:this.state.renderData.args,theme:this.state.renderData.theme})},n.getDerivedStateFromError=function(s){return{componentError:s}},n}(An.PureComponent);return u_(t,i)}function wt(i){var t=i.width,e=i.height;if(t<0)throw new Error("Negative width is not allowed for Size");if(e<0)throw new Error("Negative height is not allowed for Size");return{width:t,height:e}}function qn(i,t){return i.width===t.width&&i.height===t.height}var Gx=function(){function i(t){var e=this;this._resolutionListener=function(){return e._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=t,this._installResolutionListener()}return i.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(i.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),i.prototype.subscribe=function(t){var e=this,n={next:t};return this._observers.push(n),{unsubscribe:function(){e._observers=e._observers.filter(function(s){return s!==n})}}},i.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var t=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(t,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},i.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},i.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},i.prototype._onResolutionChanged=function(){var t=this;this._observers.forEach(function(e){return e.next(t._window.devicePixelRatio)}),this._reinstallResolutionListener()},i}();function qx(i){return new Gx(i)}var Zx=function(){function i(t,e,n){var s;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=t,this._canvasElementClientSize=wt({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=e??function(r){return r},this._allowResizeObserver=(s=n==null?void 0:n.allowResizeObserver)!==null&&s!==void 0?s:!0,this._chooseAndInitObserver()}return i.prototype.dispose=function(){var t,e;if(this._canvasElement===null)throw new Error("Object is disposed");(t=this._canvasElementResizeObserver)===null||t===void 0||t.disconnect(),this._canvasElementResizeObserver=null,(e=this._devicePixelRatioObservable)===null||e===void 0||e.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(i.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"bitmapSize",{get:function(){return wt({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),i.prototype.resizeCanvasElement=function(t){this._canvasElementClientSize=wt(t),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},i.prototype.subscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners.push(t)},i.prototype.unsubscribeBitmapSizeChanged=function(t){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(e){return e!==t})},Object.defineProperty(i.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),i.prototype.subscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners.push(t)},i.prototype.unsubscribeSuggestedBitmapSizeChanged=function(t){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(e){return e!==t})},i.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var t=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(t),this._emitSuggestedBitmapSizeChanged(t,this._suggestedBitmapSize)}},i.prototype._resizeBitmap=function(t){var e=this.bitmapSize;qn(e,t)||(this.canvasElement.width=t.width,this.canvasElement.height=t.height,this._emitBitmapSizeChanged(e,t))},i.prototype._emitBitmapSizeChanged=function(t,e){var n=this;this._bitmapSizeChangedListeners.forEach(function(s){return s.call(n,t,e)})},i.prototype._suggestNewBitmapSize=function(t){var e=this._suggestedBitmapSize,n=wt(this._transformBitmapSize(t,this._canvasElementClientSize)),s=qn(this.bitmapSize,n)?null:n;e===null&&s===null||e!==null&&s!==null&&qn(e,s)||(this._suggestedBitmapSize=s,this._emitSuggestedBitmapSizeChanged(e,s))},i.prototype._emitSuggestedBitmapSizeChanged=function(t,e){var n=this;this._suggestedBitmapSizeChangedListeners.forEach(function(s){return s.call(n,t,e)})},i.prototype._chooseAndInitObserver=function(){var t=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}e2().then(function(e){return e?t._initResizeObserver():t._initDevicePixelRatioObservable()})},i.prototype._initDevicePixelRatioObservable=function(){var t=this;if(this._canvasElement!==null){var e=Xp(this._canvasElement);if(e===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=qx(e),this._devicePixelRatioObservable.subscribe(function(){return t._invalidateBitmapSize()}),this._invalidateBitmapSize()}},i.prototype._invalidateBitmapSize=function(){var t,e;if(this._canvasElement!==null){var n=Xp(this._canvasElement);if(n!==null){var s=(e=(t=this._devicePixelRatioObservable)===null||t===void 0?void 0:t.value)!==null&&e!==void 0?e:n.devicePixelRatio,r=this._canvasElement.getClientRects(),o=r[0]!==void 0?i2(r[0],s):wt({width:this._canvasElementClientSize.width*s,height:this._canvasElementClientSize.height*s});this._suggestNewBitmapSize(o)}}},i.prototype._initResizeObserver=function(){var t=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(e){var n=e.find(function(o){return o.target===t._canvasElement});if(!(!n||!n.devicePixelContentBoxSize||!n.devicePixelContentBoxSize[0])){var s=n.devicePixelContentBoxSize[0],r=wt({width:s.inlineSize,height:s.blockSize});t._suggestNewBitmapSize(r)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},i}();function t2(i,t){return new Zx(i,t.transform,t.options)}function Xp(i){return i.ownerDocument.defaultView}function e2(){return new Promise(function(i){var t=new ResizeObserver(function(e){i(e.every(function(n){return"devicePixelContentBoxSize"in n})),t.disconnect()});t.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function i2(i,t){return wt({width:Math.round(i.left*t+i.width*t)-Math.round(i.left*t),height:Math.round(i.top*t+i.height*t)-Math.round(i.top*t)})}var n2=function(){function i(t,e,n){if(e.width===0||e.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=e,n.width===0||n.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=n,this._context=t}return i.prototype.useMediaCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),t({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},i.prototype.useBitmapCoordinateSpace=function(t){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),t({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(i.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(i.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),i}();function rs(i,t){var e=i.canvasElementClientSize;if(e.width===0||e.height===0)return null;var n=i.bitmapSize;if(n.width===0||n.height===0)return null;var s=i.canvasElement.getContext("2d",t);return s===null?null:new n2(s,e,n)}/*!
 * @license
 * TradingView Lightweight Charts™ v4.2.3
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const s2={upColor:"#26a69a",downColor:"#ef5350",wickVisible:!0,borderVisible:!0,borderColor:"#378658",borderUpColor:"#26a69a",borderDownColor:"#ef5350",wickColor:"#737375",wickUpColor:"#26a69a",wickDownColor:"#ef5350"},r2={upColor:"#26a69a",downColor:"#ef5350",openVisible:!0,thinBars:!0},o2={color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},l2={topColor:"rgba( 46, 220, 135, 0.4)",bottomColor:"rgba( 40, 221, 100, 0)",invertFilledArea:!1,lineColor:"#33D778",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},a2={baseValue:{type:"price",price:0},topFillColor1:"rgba(38, 166, 154, 0.28)",topFillColor2:"rgba(38, 166, 154, 0.05)",topLineColor:"rgba(38, 166, 154, 1)",bottomFillColor1:"rgba(239, 83, 80, 0.05)",bottomFillColor2:"rgba(239, 83, 80, 0.28)",bottomLineColor:"rgba(239, 83, 80, 1)",lineWidth:3,lineStyle:0,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},u2={color:"#26a69a",base:0},Jg={color:"#2196f3"},Gg={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var Qp,Jp;function os(i,t){const e={0:[],1:[i.lineWidth,i.lineWidth],2:[2*i.lineWidth,2*i.lineWidth],3:[6*i.lineWidth,6*i.lineWidth],4:[i.lineWidth,4*i.lineWidth]}[t];i.setLineDash(e)}function qg(i,t,e,n){i.beginPath();const s=i.lineWidth%2?.5:0;i.moveTo(e,t+s),i.lineTo(n,t+s),i.stroke()}function Cn(i,t){if(!i)throw new Error("Assertion failed"+(t?": "+t:""))}function ne(i){if(i===void 0)throw new Error("Value is undefined");return i}function E(i){if(i===null)throw new Error("Value is null");return i}function zs(i){return E(ne(i))}(function(i){i[i.Simple=0]="Simple",i[i.WithSteps=1]="WithSteps",i[i.Curved=2]="Curved"})(Qp||(Qp={})),function(i){i[i.Solid=0]="Solid",i[i.Dotted=1]="Dotted",i[i.Dashed=2]="Dashed",i[i.LargeDashed=3]="LargeDashed",i[i.SparseDotted=4]="SparseDotted"}(Jp||(Jp={}));const Gp={khaki:"#f0e68c",azure:"#f0ffff",aliceblue:"#f0f8ff",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",gray:"#808080",green:"#008000",honeydew:"#f0fff0",floralwhite:"#fffaf0",lightblue:"#add8e6",lightcoral:"#f08080",lemonchiffon:"#fffacd",hotpink:"#ff69b4",lightyellow:"#ffffe0",greenyellow:"#adff2f",lightgoldenrodyellow:"#fafad2",limegreen:"#32cd32",linen:"#faf0e6",lightcyan:"#e0ffff",magenta:"#f0f",maroon:"#800000",olive:"#808000",orange:"#ffa500",oldlace:"#fdf5e6",mediumblue:"#0000cd",transparent:"#0000",lime:"#0f0",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",midnightblue:"#191970",orchid:"#da70d6",mediumorchid:"#ba55d3",mediumturquoise:"#48d1cc",orangered:"#ff4500",royalblue:"#4169e1",powderblue:"#b0e0e6",red:"#f00",coral:"#ff7f50",turquoise:"#40e0d0",white:"#fff",whitesmoke:"#f5f5f5",wheat:"#f5deb3",teal:"#008080",steelblue:"#4682b4",bisque:"#ffe4c4",aquamarine:"#7fffd4",aqua:"#0ff",sienna:"#a0522d",silver:"#c0c0c0",springgreen:"#00ff7f",antiquewhite:"#faebd7",burlywood:"#deb887",brown:"#a52a2a",beige:"#f5f5dc",chocolate:"#d2691e",chartreuse:"#7fff00",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cadetblue:"#5f9ea0",tomato:"#ff6347",fuchsia:"#f0f",blue:"#00f",salmon:"#fa8072",blanchedalmond:"#ffebcd",slateblue:"#6a5acd",slategray:"#708090",thistle:"#d8bfd8",tan:"#d2b48c",cyan:"#0ff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",blueviolet:"#8a2be2",black:"#000",darkmagenta:"#8b008b",darkslateblue:"#483d8b",darkkhaki:"#bdb76b",darkorchid:"#9932cc",darkorange:"#ff8c00",darkgreen:"#006400",darkred:"#8b0000",dodgerblue:"#1e90ff",darkslategray:"#2f4f4f",dimgray:"#696969",deepskyblue:"#00bfff",firebrick:"#b22222",forestgreen:"#228b22",indigo:"#4b0082",ivory:"#fffff0",lavenderblush:"#fff0f5",feldspar:"#d19275",indianred:"#cd5c5c",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightskyblue:"#87cefa",lightslategray:"#789",lightslateblue:"#8470ff",snow:"#fffafa",lightseagreen:"#20b2aa",lightsalmon:"#ffa07a",darksalmon:"#e9967a",darkviolet:"#9400d3",mediumpurple:"#9370d8",mediumaquamarine:"#66cdaa",skyblue:"#87ceeb",lavender:"#e6e6fa",lightsteelblue:"#b0c4de",mediumvioletred:"#c71585",mintcream:"#f5fffa",navajowhite:"#ffdead",navy:"#000080",olivedrab:"#6b8e23",palevioletred:"#d87093",violetred:"#d02090",yellow:"#ff0",yellowgreen:"#9acd32",lawngreen:"#7cfc00",pink:"#ffc0cb",paleturquoise:"#afeeee",palegoldenrod:"#eee8aa",darkolivegreen:"#556b2f",darkseagreen:"#8fbc8f",darkturquoise:"#00ced1",peachpuff:"#ffdab9",deeppink:"#ff1493",violet:"#ee82ee",palegreen:"#98fb98",mediumseagreen:"#3cb371",peru:"#cd853f",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",purple:"#800080",seagreen:"#2e8b57",seashell:"#fff5ee",papayawhip:"#ffefd5",mediumslateblue:"#7b68ee",plum:"#dda0dd",mediumspringgreen:"#00fa9a"};function Le(i){return i<0?0:i>255?255:Math.round(i)||0}function Zg(i){return i<=0||i>1?Math.min(Math.max(i,0),1):Math.round(1e4*i)/1e4}const h2=/^#([0-9a-f])([0-9a-f])([0-9a-f])([0-9a-f])?$/i,c2=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})?$/i,f2=/^rgb\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*\)$/,d2=/^rgba\(\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d{1,10})\s*,\s*(-?\d*\.?\d+)\s*\)$/;function go(i){(i=i.toLowerCase())in Gp&&(i=Gp[i]);{const t=d2.exec(i)||f2.exec(i);if(t)return[Le(parseInt(t[1],10)),Le(parseInt(t[2],10)),Le(parseInt(t[3],10)),Zg(t.length<5?1:parseFloat(t[4]))]}{const t=c2.exec(i);if(t)return[Le(parseInt(t[1],16)),Le(parseInt(t[2],16)),Le(parseInt(t[3],16)),1]}{const t=h2.exec(i);if(t)return[Le(17*parseInt(t[1],16)),Le(17*parseInt(t[2],16)),Le(17*parseInt(t[3],16)),1]}throw new Error(`Cannot parse color: ${i}`)}function tw(i){return .199*i[0]+.687*i[1]+.114*i[2]}function hu(i){const t=go(i);return{t:`rgb(${t[0]}, ${t[1]}, ${t[2]})`,i:tw(t)>160?"black":"white"}}class Ot{constructor(){this.h=[]}l(t,e,n){const s={o:t,_:e,u:n===!0};this.h.push(s)}v(t){const e=this.h.findIndex(n=>t===n.o);e>-1&&this.h.splice(e,1)}p(t){this.h=this.h.filter(e=>e._!==t)}m(t,e,n){const s=[...this.h];this.h=this.h.filter(r=>!r.u),s.forEach(r=>r.o(t,e,n))}M(){return this.h.length>0}S(){this.h=[]}}function ei(i,...t){for(const e of t)for(const n in e)e[n]!==void 0&&Object.prototype.hasOwnProperty.call(e,n)&&!["__proto__","constructor","prototype"].includes(n)&&(typeof e[n]!="object"||i[n]===void 0||Array.isArray(e[n])?i[n]=e[n]:ei(i[n],e[n]));return i}function _i(i){return typeof i=="number"&&isFinite(i)}function wo(i){return typeof i=="number"&&i%1==0}function Lo(i){return typeof i=="string"}function nl(i){return typeof i=="boolean"}function Ai(i){const t=i;if(!t||typeof t!="object")return t;let e,n,s;for(n in e=Array.isArray(t)?[]:{},t)t.hasOwnProperty(n)&&(s=t[n],e[n]=s&&typeof s=="object"?Ai(s):s);return e}function p2(i){return i!==null}function bo(i){return i===null?void 0:i}const id="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function lr(i,t,e){return t===void 0&&(t=id),`${e=e!==void 0?`${e} `:""}${i}px ${t}`}class m2{constructor(t){this.k={C:1,T:5,P:NaN,R:"",D:"",V:"",O:"",B:0,A:0,I:0,L:0,N:0},this.F=t}W(){const t=this.k,e=this.j(),n=this.H();return t.P===e&&t.D===n||(t.P=e,t.D=n,t.R=lr(e,n),t.L=2.5/12*e,t.B=t.L,t.A=e/12*t.T,t.I=e/12*t.T,t.N=0),t.V=this.$(),t.O=this.U(),this.k}$(){return this.F.W().layout.textColor}U(){return this.F.q()}j(){return this.F.W().layout.fontSize}H(){return this.F.W().layout.fontFamily}}class nd{constructor(){this.Y=[]}Z(t){this.Y=t}X(t,e,n){this.Y.forEach(s=>{s.X(t,e,n)})}}class ni{X(t,e,n){t.useBitmapCoordinateSpace(s=>this.K(s,e,n))}}class y2 extends ni{constructor(){super(...arguments),this.G=null}J(t){this.G=t}K({context:t,horizontalPixelRatio:e,verticalPixelRatio:n}){if(this.G===null||this.G.tt===null)return;const s=this.G.tt,r=this.G,o=Math.max(1,Math.floor(e))%2/2,l=a=>{t.beginPath();for(let u=s.to-1;u>=s.from;--u){const h=r.it[u],c=Math.round(h.nt*e)+o,f=h.st*n,d=a*n+o;t.moveTo(c,f),t.arc(c,f,d,0,2*Math.PI)}t.fill()};r.et>0&&(t.fillStyle=r.rt,l(r.ht+r.et)),t.fillStyle=r.lt,l(r.ht)}}function v2(){return{it:[{nt:0,st:0,ot:0,_t:0}],lt:"",rt:"",ht:0,et:0,tt:null}}const g2={from:0,to:1};class w2{constructor(t,e){this.ut=new nd,this.ct=[],this.dt=[],this.ft=!0,this.F=t,this.vt=e,this.ut.Z(this.ct)}bt(t){const e=this.F.wt();e.length!==this.ct.length&&(this.dt=e.map(v2),this.ct=this.dt.map(n=>{const s=new y2;return s.J(n),s}),this.ut.Z(this.ct)),this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.ut}Mt(){const t=this.vt.W().mode===2,e=this.F.wt(),n=this.vt.xt(),s=this.F.St();e.forEach((r,o)=>{var l;const a=this.dt[o],u=r.kt(n);if(t||u===null||!r.yt())return void(a.tt=null);const h=E(r.Ct());a.lt=u.Tt,a.ht=u.ht,a.et=u.Pt,a.it[0]._t=u._t,a.it[0].st=r.Dt().Rt(u._t,h.Vt),a.rt=(l=u.Ot)!==null&&l!==void 0?l:this.F.Bt(a.it[0].st/r.Dt().At()),a.it[0].ot=n,a.it[0].nt=s.It(n),a.tt=g2})}}class b2 extends ni{constructor(t){super(),this.zt=t}K({context:t,bitmapSize:e,horizontalPixelRatio:n,verticalPixelRatio:s}){if(this.zt===null)return;const r=this.zt.Lt.yt,o=this.zt.Et.yt;if(!r&&!o)return;const l=Math.round(this.zt.nt*n),a=Math.round(this.zt.st*s);t.lineCap="butt",r&&l>=0&&(t.lineWidth=Math.floor(this.zt.Lt.et*n),t.strokeStyle=this.zt.Lt.V,t.fillStyle=this.zt.Lt.V,os(t,this.zt.Lt.Nt),function(u,h,c,f){u.beginPath();const d=u.lineWidth%2?.5:0;u.moveTo(h+d,c),u.lineTo(h+d,f),u.stroke()}(t,l,0,e.height)),o&&a>=0&&(t.lineWidth=Math.floor(this.zt.Et.et*s),t.strokeStyle=this.zt.Et.V,t.fillStyle=this.zt.Et.V,os(t,this.zt.Et.Nt),qg(t,a,0,e.width))}}class _2{constructor(t){this.ft=!0,this.Ft={Lt:{et:1,Nt:0,V:"",yt:!1},Et:{et:1,Nt:0,V:"",yt:!1},nt:0,st:0},this.Wt=new b2(this.Ft),this.jt=t}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const t=this.jt.yt(),e=E(this.jt.Ht()),n=e.$t().W().crosshair,s=this.Ft;if(n.mode===2)return s.Et.yt=!1,void(s.Lt.yt=!1);s.Et.yt=t&&this.jt.Ut(e),s.Lt.yt=t&&this.jt.qt(),s.Et.et=n.horzLine.width,s.Et.Nt=n.horzLine.style,s.Et.V=n.horzLine.color,s.Lt.et=n.vertLine.width,s.Lt.Nt=n.vertLine.style,s.Lt.V=n.vertLine.color,s.nt=this.jt.Yt(),s.st=this.jt.Zt()}}function S2(i,t,e,n,s,r){i.fillRect(t+r,e,n-2*r,r),i.fillRect(t+r,e+s-r,n-2*r,r),i.fillRect(t,e,r,s),i.fillRect(t+n-r,e,r,s)}function cu(i,t,e,n,s,r){i.save(),i.globalCompositeOperation="copy",i.fillStyle=r,i.fillRect(t,e,n,s),i.restore()}function qp(i,t,e,n,s,r){i.beginPath(),i.roundRect?i.roundRect(t,e,n,s,r):(i.lineTo(t+n-r[1],e),r[1]!==0&&i.arcTo(t+n,e,t+n,e+r[1],r[1]),i.lineTo(t+n,e+s-r[2]),r[2]!==0&&i.arcTo(t+n,e+s,t+n-r[2],e+s,r[2]),i.lineTo(t+r[3],e+s),r[3]!==0&&i.arcTo(t,e+s,t,e+s-r[3],r[3]),i.lineTo(t,e+r[0]),r[0]!==0&&i.arcTo(t,e,t+r[0],e,r[0]))}function Zp(i,t,e,n,s,r,o=0,l=[0,0,0,0],a=""){if(i.save(),!o||!a||a===r)return qp(i,t,e,n,s,l),i.fillStyle=r,i.fill(),void i.restore();const u=o/2;var h;qp(i,t+u,e+u,n-o,s-o,(h=-u,l.map(c=>c===0?c:c+h))),r!=="transparent"&&(i.fillStyle=r,i.fill()),a!=="transparent"&&(i.lineWidth=o,i.strokeStyle=a,i.closePath(),i.stroke()),i.restore()}function ew(i,t,e,n,s,r,o){i.save(),i.globalCompositeOperation="copy";const l=i.createLinearGradient(0,0,0,s);l.addColorStop(0,r),l.addColorStop(1,o),i.fillStyle=l,i.fillRect(t,e,n,s),i.restore()}class tm{constructor(t,e){this.J(t,e)}J(t,e){this.zt=t,this.Xt=e}At(t,e){return this.zt.yt?t.P+t.L+t.B:0}X(t,e,n,s){if(!this.zt.yt||this.zt.Kt.length===0)return;const r=this.zt.V,o=this.Xt.t,l=t.useBitmapCoordinateSpace(a=>{const u=a.context;u.font=e.R;const h=this.Gt(a,e,n,s),c=h.Jt;return h.Qt?Zp(u,c.ti,c.ii,c.ni,c.si,o,c.ei,[c.ht,0,0,c.ht],o):Zp(u,c.ri,c.ii,c.ni,c.si,o,c.ei,[0,c.ht,c.ht,0],o),this.zt.hi&&(u.fillStyle=r,u.fillRect(c.ri,c.li,c.ai-c.ri,c.oi)),this.zt._i&&(u.fillStyle=e.O,u.fillRect(h.Qt?c.ui-c.ei:0,c.ii,c.ei,c.ci-c.ii)),h});t.useMediaCoordinateSpace(({context:a})=>{const u=l.di;a.font=e.R,a.textAlign=l.Qt?"right":"left",a.textBaseline="middle",a.fillStyle=r,a.fillText(this.zt.Kt,u.fi,(u.ii+u.ci)/2+u.pi)})}Gt(t,e,n,s){var r;const{context:o,bitmapSize:l,mediaSize:a,horizontalPixelRatio:u,verticalPixelRatio:h}=t,c=this.zt.hi||!this.zt.mi?e.T:0,f=this.zt.bi?e.C:0,d=e.L+this.Xt.wi,y=e.B+this.Xt.gi,v=e.A,x=e.I,m=this.zt.Kt,p=e.P,g=n.Mi(o,m),_=Math.ceil(n.xi(o,m)),k=p+d+y,O=e.C+v+x+_+c,T=Math.max(1,Math.floor(h));let N=Math.round(k*h);N%2!=T%2&&(N+=1);const it=f>0?Math.max(1,Math.floor(f*u)):0,R=Math.round(O*u),Pt=Math.round(c*u),Ci=(r=this.Xt.Si)!==null&&r!==void 0?r:this.Xt.ki,si=Math.round(Ci*h)-Math.floor(.5*h),Gi=Math.floor(si+T/2-N/2),fs=Gi+N,ri=s==="right",qi=ri?a.width-f:f,b=ri?l.width-it:it;let I,M,S;return ri?(I=b-R,M=b-Pt,S=qi-c-v-f):(I=b+R,M=b+Pt,S=qi+c+v),{Qt:ri,Jt:{ii:Gi,li:si,ci:fs,ni:R,si:N,ht:2*u,ei:it,ti:I,ri:b,ai:M,oi:T,ui:l.width},di:{ii:Gi/h,ci:fs/h,fi:S,pi:g}}}}class fu{constructor(t){this.yi={ki:0,t:"#000",gi:0,wi:0},this.Ci={Kt:"",yt:!1,hi:!0,mi:!1,Ot:"",V:"#FFF",_i:!1,bi:!1},this.Ti={Kt:"",yt:!1,hi:!1,mi:!0,Ot:"",V:"#FFF",_i:!0,bi:!0},this.ft=!0,this.Pi=new(t||tm)(this.Ci,this.yi),this.Ri=new(t||tm)(this.Ti,this.yi)}Kt(){return this.Di(),this.Ci.Kt}ki(){return this.Di(),this.yi.ki}bt(){this.ft=!0}At(t,e=!1){return Math.max(this.Pi.At(t,e),this.Ri.At(t,e))}Vi(){return this.yi.Si||0}Oi(t){this.yi.Si=t}Bi(){return this.Di(),this.Ci.yt||this.Ti.yt}Ai(){return this.Di(),this.Ci.yt}gt(t){return this.Di(),this.Ci.hi=this.Ci.hi&&t.W().ticksVisible,this.Ti.hi=this.Ti.hi&&t.W().ticksVisible,this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Pi}Ii(){return this.Di(),this.Pi.J(this.Ci,this.yi),this.Ri.J(this.Ti,this.yi),this.Ri}Di(){this.ft&&(this.Ci.hi=!0,this.Ti.hi=!1,this.zi(this.Ci,this.Ti,this.yi))}}class x2 extends fu{constructor(t,e,n){super(),this.jt=t,this.Li=e,this.Ei=n}zi(t,e,n){if(t.yt=!1,this.jt.W().mode===2)return;const s=this.jt.W().horzLine;if(!s.labelVisible)return;const r=this.Li.Ct();if(!this.jt.yt()||this.Li.Ni()||r===null)return;const o=hu(s.labelBackgroundColor);n.t=o.t,t.V=o.i;const l=2/12*this.Li.P();n.wi=l,n.gi=l;const a=this.Ei(this.Li);n.ki=a.ki,t.Kt=this.Li.Fi(a._t,r),t.yt=!0}}const M2=/[1-9]/g;class iw{constructor(){this.zt=null}J(t){this.zt=t}X(t,e){if(this.zt===null||this.zt.yt===!1||this.zt.Kt.length===0)return;const n=t.useMediaCoordinateSpace(({context:f})=>(f.font=e.R,Math.round(e.Wi.xi(f,E(this.zt).Kt,M2))));if(n<=0)return;const s=e.ji,r=n+2*s,o=r/2,l=this.zt.Hi;let a=this.zt.ki,u=Math.floor(a-o)+.5;u<0?(a+=Math.abs(0-u),u=Math.floor(a-o)+.5):u+r>l&&(a-=Math.abs(l-(u+r)),u=Math.floor(a-o)+.5);const h=u+r,c=Math.ceil(0+e.C+e.T+e.L+e.P+e.B);t.useBitmapCoordinateSpace(({context:f,horizontalPixelRatio:d,verticalPixelRatio:y})=>{const v=E(this.zt);f.fillStyle=v.t;const x=Math.round(u*d),m=Math.round(0*y),p=Math.round(h*d),g=Math.round(c*y),_=Math.round(2*d);if(f.beginPath(),f.moveTo(x,m),f.lineTo(x,g-_),f.arcTo(x,g,x+_,g,_),f.lineTo(p-_,g),f.arcTo(p,g,p,g-_,_),f.lineTo(p,m),f.fill(),v.hi){const k=Math.round(v.ki*d),O=m,T=Math.round((O+e.T)*y);f.fillStyle=v.V;const N=Math.max(1,Math.floor(d)),it=Math.floor(.5*d);f.fillRect(k-it,O,N,T-O)}}),t.useMediaCoordinateSpace(({context:f})=>{const d=E(this.zt),y=0+e.C+e.T+e.L+e.P/2;f.font=e.R,f.textAlign="left",f.textBaseline="middle",f.fillStyle=d.V;const v=e.Wi.Mi(f,"Apr0");f.translate(u+s,y+v),f.fillText(d.Kt,0,0)})}}class I2{constructor(t,e,n){this.ft=!0,this.Wt=new iw,this.Ft={yt:!1,t:"#4c525e",V:"white",Kt:"",Hi:0,ki:NaN,hi:!0},this.vt=t,this.$i=e,this.Ei=n}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt.J(this.Ft),this.Wt}Mt(){const t=this.Ft;if(t.yt=!1,this.vt.W().mode===2)return;const e=this.vt.W().vertLine;if(!e.labelVisible)return;const n=this.$i.St();if(n.Ni())return;t.Hi=n.Hi();const s=this.Ei();if(s===null)return;t.ki=s.ki;const r=n.Ui(this.vt.xt());t.Kt=n.qi(E(r)),t.yt=!0;const o=hu(e.labelBackgroundColor);t.t=o.t,t.V=o.i,t.hi=n.W().ticksVisible}}class sd{constructor(){this.Yi=null,this.Zi=0}Xi(){return this.Zi}Ki(t){this.Zi=t}Dt(){return this.Yi}Gi(t){this.Yi=t}Ji(t){return[]}Qi(){return[]}yt(){return!0}}var em;(function(i){i[i.Normal=0]="Normal",i[i.Magnet=1]="Magnet",i[i.Hidden=2]="Hidden"})(em||(em={}));class E2 extends sd{constructor(t,e){super(),this.tn=null,this.nn=NaN,this.sn=0,this.en=!0,this.rn=new Map,this.hn=!1,this.ln=NaN,this.an=NaN,this._n=NaN,this.un=NaN,this.$i=t,this.cn=e,this.dn=new w2(t,this),this.fn=((s,r)=>o=>{const l=r(),a=s();if(o===E(this.tn).vn())return{_t:a,ki:l};{const u=E(o.Ct());return{_t:o.pn(l,u),ki:l}}})(()=>this.nn,()=>this.an);const n=((s,r)=>()=>{const o=this.$i.St().mn(s()),l=r();return o&&Number.isFinite(l)?{ot:o,ki:l}:null})(()=>this.sn,()=>this.Yt());this.bn=new I2(this,t,n),this.wn=new _2(this)}W(){return this.cn}gn(t,e){this._n=t,this.un=e}Mn(){this._n=NaN,this.un=NaN}xn(){return this._n}Sn(){return this.un}kn(t,e,n){this.hn||(this.hn=!0),this.en=!0,this.yn(t,e,n)}xt(){return this.sn}Yt(){return this.ln}Zt(){return this.an}yt(){return this.en}Cn(){this.en=!1,this.Tn(),this.nn=NaN,this.ln=NaN,this.an=NaN,this.tn=null,this.Mn()}Pn(t){return this.tn!==null?[this.wn,this.dn]:[]}Ut(t){return t===this.tn&&this.cn.horzLine.visible}qt(){return this.cn.vertLine.visible}Rn(t,e){this.en&&this.tn===t||this.rn.clear();const n=[];return this.tn===t&&n.push(this.Dn(this.rn,e,this.fn)),n}Qi(){return this.en?[this.bn]:[]}Ht(){return this.tn}Vn(){this.wn.bt(),this.rn.forEach(t=>t.bt()),this.bn.bt(),this.dn.bt()}On(t){return t&&!t.vn().Ni()?t.vn():null}yn(t,e,n){this.Bn(t,e,n)&&this.Vn()}Bn(t,e,n){const s=this.ln,r=this.an,o=this.nn,l=this.sn,a=this.tn,u=this.On(n);this.sn=t,this.ln=isNaN(t)?NaN:this.$i.St().It(t),this.tn=n;const h=u!==null?u.Ct():null;return u!==null&&h!==null?(this.nn=e,this.an=u.Rt(e,h)):(this.nn=NaN,this.an=NaN),s!==this.ln||r!==this.an||l!==this.sn||o!==this.nn||a!==this.tn}Tn(){const t=this.$i.wt().map(n=>n.In().An()).filter(p2),e=t.length===0?null:Math.max(...t);this.sn=e!==null?e:NaN}Dn(t,e,n){let s=t.get(e);return s===void 0&&(s=new x2(this,e,n),t.set(e,s)),s}}function du(i){return i==="left"||i==="right"}class Wt{constructor(t){this.zn=new Map,this.Ln=[],this.En=t}Nn(t,e){const n=function(s,r){return s===void 0?r:{Fn:Math.max(s.Fn,r.Fn),Wn:s.Wn||r.Wn}}(this.zn.get(t),e);this.zn.set(t,n)}jn(){return this.En}Hn(t){const e=this.zn.get(t);return e===void 0?{Fn:this.En}:{Fn:Math.max(this.En,e.Fn),Wn:e.Wn}}$n(){this.Un(),this.Ln=[{qn:0}]}Yn(t){this.Un(),this.Ln=[{qn:1,Vt:t}]}Zn(t){this.Xn(),this.Ln.push({qn:5,Vt:t})}Un(){this.Xn(),this.Ln.push({qn:6})}Kn(){this.Un(),this.Ln=[{qn:4}]}Gn(t){this.Un(),this.Ln.push({qn:2,Vt:t})}Jn(t){this.Un(),this.Ln.push({qn:3,Vt:t})}Qn(){return this.Ln}ts(t){for(const e of t.Ln)this.ns(e);this.En=Math.max(this.En,t.En),t.zn.forEach((e,n)=>{this.Nn(n,e)})}static ss(){return new Wt(2)}static es(){return new Wt(3)}ns(t){switch(t.qn){case 0:this.$n();break;case 1:this.Yn(t.Vt);break;case 2:this.Gn(t.Vt);break;case 3:this.Jn(t.Vt);break;case 4:this.Kn();break;case 5:this.Zn(t.Vt);break;case 6:this.Xn()}}Xn(){const t=this.Ln.findIndex(e=>e.qn===5);t!==-1&&this.Ln.splice(t,1)}}const im=".";function Pi(i,t){if(!_i(i))return"n/a";if(!wo(t))throw new TypeError("invalid length");if(t<0||t>16)throw new TypeError("invalid length");return t===0?i.toString():("0000000000000000"+i.toString()).slice(-t)}class pu{constructor(t,e){if(e||(e=1),_i(t)&&wo(t)||(t=100),t<0)throw new TypeError("invalid base");this.Li=t,this.rs=e,this.hs()}format(t){const e=t<0?"−":"";return t=Math.abs(t),e+this.ls(t)}hs(){if(this._s=0,this.Li>0&&this.rs>0){let t=this.Li;for(;t>1;)t/=10,this._s++}}ls(t){const e=this.Li/this.rs;let n=Math.floor(t),s="";const r=this._s!==void 0?this._s:NaN;if(e>1){let o=+(Math.round(t*e)-n*e).toFixed(this._s);o>=e&&(o-=e,n+=1),s=im+Pi(+o.toFixed(this._s)*this.rs,r)}else n=Math.round(n*e)/e,r>0&&(s=im+Pi(0,r));return n.toFixed(0)+s}}class nw extends pu{constructor(t=100){super(t)}format(t){return`${super.format(t)}%`}}class C2{constructor(t){this.us=t}format(t){let e="";return t<0&&(e="-",t=-t),t<995?e+this.cs(t):t<999995?e+this.cs(t/1e3)+"K":t<999999995?(t=1e3*Math.round(t/1e3),e+this.cs(t/1e6)+"M"):(t=1e6*Math.round(t/1e6),e+this.cs(t/1e9)+"B")}cs(t){let e;const n=Math.pow(10,this.us);return e=(t=Math.round(t*n)/n)>=1e-15&&t<1?t.toFixed(this.us).replace(/\.?0+$/,""):String(t),e.replace(/(\.[1-9]*)0+$/,(s,r)=>r)}}function sw(i,t,e,n,s,r,o){if(t.length===0||n.from>=t.length||n.to<=0)return;const{context:l,horizontalPixelRatio:a,verticalPixelRatio:u}=i,h=t[n.from];let c=r(i,h),f=h;if(n.to-n.from<2){const d=s/2;l.beginPath();const y={nt:h.nt-d,st:h.st},v={nt:h.nt+d,st:h.st};l.moveTo(y.nt*a,y.st*u),l.lineTo(v.nt*a,v.st*u),o(i,c,y,v)}else{const d=(v,x)=>{o(i,c,f,x),l.beginPath(),c=v,f=x};let y=f;l.beginPath(),l.moveTo(h.nt*a,h.st*u);for(let v=n.from+1;v<n.to;++v){y=t[v];const x=r(i,y);switch(e){case 0:l.lineTo(y.nt*a,y.st*u);break;case 1:l.lineTo(y.nt*a,t[v-1].st*u),x!==c&&(d(x,y),l.lineTo(y.nt*a,t[v-1].st*u)),l.lineTo(y.nt*a,y.st*u);break;case 2:{const[m,p]=k2(t,v-1,v);l.bezierCurveTo(m.nt*a,m.st*u,p.nt*a,p.st*u,y.nt*a,y.st*u);break}}e!==1&&x!==c&&(d(x,y),l.moveTo(y.nt*a,y.st*u))}(f!==y||f===y&&e===1)&&o(i,c,f,y)}}const nm=6;function Qu(i,t){return{nt:i.nt-t.nt,st:i.st-t.st}}function sm(i,t){return{nt:i.nt/t,st:i.st/t}}function k2(i,t,e){const n=Math.max(0,t-1),s=Math.min(i.length-1,e+1);var r,o;return[(r=i[t],o=sm(Qu(i[e],i[n]),nm),{nt:r.nt+o.nt,st:r.st+o.st}),Qu(i[e],sm(Qu(i[s],i[t]),nm))]}function N2(i,t,e,n,s){const{context:r,horizontalPixelRatio:o,verticalPixelRatio:l}=t;r.lineTo(s.nt*o,i*l),r.lineTo(n.nt*o,i*l),r.closePath(),r.fillStyle=e,r.fill()}class rw extends ni{constructor(){super(...arguments),this.G=null}J(t){this.G=t}K(t){var e;if(this.G===null)return;const{it:n,tt:s,ds:r,et:o,Nt:l,fs:a}=this.G,u=(e=this.G.vs)!==null&&e!==void 0?e:this.G.ps?0:t.mediaSize.height;if(s===null)return;const h=t.context;h.lineCap="butt",h.lineJoin="round",h.lineWidth=o,os(h,l),h.lineWidth=1,sw(t,n,a,s,r,this.bs.bind(this),N2.bind(null,u))}}function _c(i,t,e){return Math.min(Math.max(i,t),e)}function sl(i,t,e){return t-i<=e}function ow(i){const t=Math.ceil(i);return t%2==0?t-1:t}class rd{ws(t,e){const n=this.gs,{Ms:s,xs:r,Ss:o,ks:l,ys:a,vs:u}=e;if(this.Cs===void 0||n===void 0||n.Ms!==s||n.xs!==r||n.Ss!==o||n.ks!==l||n.vs!==u||n.ys!==a){const h=t.context.createLinearGradient(0,0,0,a);if(h.addColorStop(0,s),u!=null){const c=_c(u*t.verticalPixelRatio/a,0,1);h.addColorStop(c,r),h.addColorStop(c,o)}h.addColorStop(1,l),this.Cs=h,this.gs=e}return this.Cs}}class T2 extends rw{constructor(){super(...arguments),this.Ts=new rd}bs(t,e){return this.Ts.ws(t,{Ms:e.Ps,xs:"",Ss:"",ks:e.Rs,ys:t.bitmapSize.height})}}function B2(i,t){const e=i.context;e.strokeStyle=t,e.stroke()}class lw extends ni{constructor(){super(...arguments),this.G=null}J(t){this.G=t}K(t){if(this.G===null)return;const{it:e,tt:n,ds:s,fs:r,et:o,Nt:l,Ds:a}=this.G;if(n===null)return;const u=t.context;u.lineCap="butt",u.lineWidth=o*t.verticalPixelRatio,os(u,l),u.lineJoin="round";const h=this.Vs.bind(this);r!==void 0&&sw(t,e,r,n,s,h,B2),a&&function(c,f,d,y,v){const{horizontalPixelRatio:x,verticalPixelRatio:m,context:p}=c;let g=null;const _=Math.max(1,Math.floor(x))%2/2,k=d*m+_;for(let O=y.to-1;O>=y.from;--O){const T=f[O];if(T){const N=v(c,T);N!==g&&(p.beginPath(),g!==null&&p.fill(),p.fillStyle=N,g=N);const it=Math.round(T.nt*x)+_,R=T.st*m;p.moveTo(it,R),p.arc(it,R,k,0,2*Math.PI)}}p.fill()}(t,e,a,n,h)}}class aw extends lw{Vs(t,e){return e.lt}}function uw(i,t,e,n,s=0,r=t.length){let o=r-s;for(;0<o;){const l=o>>1,a=s+l;n(t[a],e)===i?(s=a+1,o-=l+1):o=l}return s}const Fo=uw.bind(null,!0),hw=uw.bind(null,!1);function O2(i,t){return i.ot<t}function z2(i,t){return t<i.ot}function cw(i,t,e){const n=t.Os(),s=t.ui(),r=Fo(i,n,O2),o=hw(i,s,z2);if(!e)return{from:r,to:o};let l=r,a=o;return r>0&&r<i.length&&i[r].ot>=n&&(l=r-1),o>0&&o<i.length&&i[o-1].ot<=s&&(a=o+1),{from:l,to:a}}class od{constructor(t,e,n){this.Bs=!0,this.As=!0,this.Is=!0,this.zs=[],this.Ls=null,this.Es=t,this.Ns=e,this.Fs=n}bt(t){this.Bs=!0,t==="data"&&(this.As=!0),t==="options"&&(this.Is=!0)}gt(){return this.Es.yt()?(this.Ws(),this.Ls===null?null:this.js):null}Hs(){this.zs=this.zs.map(t=>Object.assign(Object.assign({},t),this.Es.Us().$s(t.ot)))}qs(){this.Ls=null}Ws(){this.As&&(this.Ys(),this.As=!1),this.Is&&(this.Hs(),this.Is=!1),this.Bs&&(this.Zs(),this.Bs=!1)}Zs(){const t=this.Es.Dt(),e=this.Ns.St();if(this.qs(),e.Ni()||t.Ni())return;const n=e.Xs();if(n===null||this.Es.In().Ks()===0)return;const s=this.Es.Ct();s!==null&&(this.Ls=cw(this.zs,n,this.Fs),this.Gs(t,e,s.Vt),this.Js())}}class mu extends od{constructor(t,e){super(t,e,!0)}Gs(t,e,n){e.Qs(this.zs,bo(this.Ls)),t.te(this.zs,n,bo(this.Ls))}ie(t,e){return{ot:t,_t:e,nt:NaN,st:NaN}}Ys(){const t=this.Es.Us();this.zs=this.Es.In().ne().map(e=>{const n=e.Vt[3];return this.se(e.ee,n,t)})}}class D2 extends mu{constructor(t,e){super(t,e),this.js=new nd,this.re=new T2,this.he=new aw,this.js.Z([this.re,this.he])}se(t,e,n){return Object.assign(Object.assign({},this.ie(t,e)),n.$s(t))}Js(){const t=this.Es.W();this.re.J({fs:t.lineType,it:this.zs,Nt:t.lineStyle,et:t.lineWidth,vs:null,ps:t.invertFilledArea,tt:this.Ls,ds:this.Ns.St().le()}),this.he.J({fs:t.lineVisible?t.lineType:void 0,it:this.zs,Nt:t.lineStyle,et:t.lineWidth,tt:this.Ls,ds:this.Ns.St().le(),Ds:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0})}}class L2 extends ni{constructor(){super(...arguments),this.zt=null,this.ae=0,this.oe=0}J(t){this.zt=t}K({context:t,horizontalPixelRatio:e,verticalPixelRatio:n}){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;this.ae=this._e(e),this.ae>=2&&Math.max(1,Math.floor(e))%2!=this.ae%2&&this.ae--,this.oe=this.zt.ue?Math.min(this.ae,Math.floor(e)):this.ae;let s=null;const r=this.oe<=this.ae&&this.zt.le>=Math.floor(1.5*e);for(let o=this.zt.tt.from;o<this.zt.tt.to;++o){const l=this.zt.In[o];s!==l.ce&&(t.fillStyle=l.ce,s=l.ce);const a=Math.floor(.5*this.oe),u=Math.round(l.nt*e),h=u-a,c=this.oe,f=h+c-1,d=Math.min(l.de,l.fe),y=Math.max(l.de,l.fe),v=Math.round(d*n)-a,x=Math.round(y*n)+a,m=Math.max(x-v,this.oe);t.fillRect(h,v,c,m);const p=Math.ceil(1.5*this.ae);if(r){if(this.zt.ve){const O=u-p;let T=Math.max(v,Math.round(l.pe*n)-a),N=T+c-1;N>v+m-1&&(N=v+m-1,T=N-c+1),t.fillRect(O,T,h-O,N-T+1)}const g=u+p;let _=Math.max(v,Math.round(l.me*n)-a),k=_+c-1;k>v+m-1&&(k=v+m-1,_=k-c+1),t.fillRect(f+1,_,g-f,k-_+1)}}}_e(t){const e=Math.floor(t);return Math.max(e,Math.floor(function(n,s){return Math.floor(.3*n*s)}(E(this.zt).le,t)))}}class fw extends od{constructor(t,e){super(t,e,!1)}Gs(t,e,n){e.Qs(this.zs,bo(this.Ls)),t.be(this.zs,n,bo(this.Ls))}we(t,e,n){return{ot:t,ge:e.Vt[0],Me:e.Vt[1],xe:e.Vt[2],Se:e.Vt[3],nt:NaN,pe:NaN,de:NaN,fe:NaN,me:NaN}}Ys(){const t=this.Es.Us();this.zs=this.Es.In().ne().map(e=>this.se(e.ee,e,t))}}class F2 extends fw{constructor(){super(...arguments),this.js=new L2}se(t,e,n){return Object.assign(Object.assign({},this.we(t,e,n)),n.$s(t))}Js(){const t=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),ve:t.openVisible,ue:t.thinBars,tt:this.Ls})}}class R2 extends rw{constructor(){super(...arguments),this.Ts=new rd}bs(t,e){const n=this.G;return this.Ts.ws(t,{Ms:e.ke,xs:e.ye,Ss:e.Ce,ks:e.Te,ys:t.bitmapSize.height,vs:n.vs})}}class A2 extends lw{constructor(){super(...arguments),this.Pe=new rd}Vs(t,e){const n=this.G;return this.Pe.ws(t,{Ms:e.Re,xs:e.Re,Ss:e.De,ks:e.De,ys:t.bitmapSize.height,vs:n.vs})}}class P2 extends mu{constructor(t,e){super(t,e),this.js=new nd,this.Ve=new R2,this.Oe=new A2,this.js.Z([this.Ve,this.Oe])}se(t,e,n){return Object.assign(Object.assign({},this.ie(t,e)),n.$s(t))}Js(){const t=this.Es.Ct();if(t===null)return;const e=this.Es.W(),n=this.Es.Dt().Rt(e.baseValue.price,t.Vt),s=this.Ns.St().le();this.Ve.J({it:this.zs,et:e.lineWidth,Nt:e.lineStyle,fs:e.lineType,vs:n,ps:!1,tt:this.Ls,ds:s}),this.Oe.J({it:this.zs,et:e.lineWidth,Nt:e.lineStyle,fs:e.lineVisible?e.lineType:void 0,Ds:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,vs:n,tt:this.Ls,ds:s})}}class $2 extends ni{constructor(){super(...arguments),this.zt=null,this.ae=0}J(t){this.zt=t}K(t){if(this.zt===null||this.zt.In.length===0||this.zt.tt===null)return;const{horizontalPixelRatio:e}=t;this.ae=function(r,o){if(r>=2.5&&r<=4)return Math.floor(3*o);const l=1-.2*Math.atan(Math.max(4,r)-4)/(.5*Math.PI),a=Math.floor(r*l*o),u=Math.floor(r*o),h=Math.min(a,u);return Math.max(Math.floor(o),h)}(this.zt.le,e),this.ae>=2&&Math.floor(e)%2!=this.ae%2&&this.ae--;const n=this.zt.In;this.zt.Be&&this.Ae(t,n,this.zt.tt),this.zt._i&&this.Ie(t,n,this.zt.tt);const s=this.ze(e);(!this.zt._i||this.ae>2*s)&&this.Le(t,n,this.zt.tt)}Ae(t,e,n){if(this.zt===null)return;const{context:s,horizontalPixelRatio:r,verticalPixelRatio:o}=t;let l="",a=Math.min(Math.floor(r),Math.floor(this.zt.le*r));a=Math.max(Math.floor(r),Math.min(a,this.ae));const u=Math.floor(.5*a);let h=null;for(let c=n.from;c<n.to;c++){const f=e[c];f.Ee!==l&&(s.fillStyle=f.Ee,l=f.Ee);const d=Math.round(Math.min(f.pe,f.me)*o),y=Math.round(Math.max(f.pe,f.me)*o),v=Math.round(f.de*o),x=Math.round(f.fe*o);let m=Math.round(r*f.nt)-u;const p=m+a-1;h!==null&&(m=Math.max(h+1,m),m=Math.min(m,p));const g=p-m+1;s.fillRect(m,v,g,d-v),s.fillRect(m,y+1,g,x-y),h=p}}ze(t){let e=Math.floor(1*t);this.ae<=2*e&&(e=Math.floor(.5*(this.ae-1)));const n=Math.max(Math.floor(t),e);return this.ae<=2*n?Math.max(Math.floor(t),Math.floor(1*t)):n}Ie(t,e,n){if(this.zt===null)return;const{context:s,horizontalPixelRatio:r,verticalPixelRatio:o}=t;let l="";const a=this.ze(r);let u=null;for(let h=n.from;h<n.to;h++){const c=e[h];c.Ne!==l&&(s.fillStyle=c.Ne,l=c.Ne);let f=Math.round(c.nt*r)-Math.floor(.5*this.ae);const d=f+this.ae-1,y=Math.round(Math.min(c.pe,c.me)*o),v=Math.round(Math.max(c.pe,c.me)*o);if(u!==null&&(f=Math.max(u+1,f),f=Math.min(f,d)),this.zt.le*r>2*a)S2(s,f,y,d-f+1,v-y+1,a);else{const x=d-f+1;s.fillRect(f,y,x,v-y+1)}u=d}}Le(t,e,n){if(this.zt===null)return;const{context:s,horizontalPixelRatio:r,verticalPixelRatio:o}=t;let l="";const a=this.ze(r);for(let u=n.from;u<n.to;u++){const h=e[u];let c=Math.round(Math.min(h.pe,h.me)*o),f=Math.round(Math.max(h.pe,h.me)*o),d=Math.round(h.nt*r)-Math.floor(.5*this.ae),y=d+this.ae-1;if(h.ce!==l){const v=h.ce;s.fillStyle=v,l=v}this.zt._i&&(d+=a,c+=a,y-=a,f-=a),c>f||s.fillRect(d,c,y-d+1,f-c+1)}}}class V2 extends fw{constructor(){super(...arguments),this.js=new $2}se(t,e,n){return Object.assign(Object.assign({},this.we(t,e,n)),n.$s(t))}Js(){const t=this.Es.W();this.js.J({In:this.zs,le:this.Ns.St().le(),Be:t.wickVisible,_i:t.borderVisible,tt:this.Ls})}}class U2{constructor(t,e){this.Fe=t,this.Li=e}X(t,e,n){this.Fe.draw(t,this.Li,e,n)}}class Ju extends od{constructor(t,e,n){super(t,e,!1),this.wn=n,this.js=new U2(this.wn.renderer(),s=>{const r=t.Ct();return r===null?null:t.Dt().Rt(s,r.Vt)})}We(t){return this.wn.priceValueBuilder(t)}je(t){return this.wn.isWhitespace(t)}Ys(){const t=this.Es.Us();this.zs=this.Es.In().ne().map(e=>Object.assign(Object.assign({ot:e.ee,nt:NaN},t.$s(e.ee)),{He:e.$e}))}Gs(t,e){e.Qs(this.zs,bo(this.Ls))}Js(){this.wn.update({bars:this.zs.map(j2),barSpacing:this.Ns.St().le(),visibleRange:this.Ls},this.Es.W())}}function j2(i){return{x:i.nt,time:i.ot,originalData:i.He,barColor:i.ce}}class W2 extends ni{constructor(){super(...arguments),this.zt=null,this.Ue=[]}J(t){this.zt=t,this.Ue=[]}K({context:t,horizontalPixelRatio:e,verticalPixelRatio:n}){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return;this.Ue.length||this.qe(e);const s=Math.max(1,Math.floor(n)),r=Math.round(this.zt.Ye*n)-Math.floor(s/2),o=r+s;for(let l=this.zt.tt.from;l<this.zt.tt.to;l++){const a=this.zt.it[l],u=this.Ue[l-this.zt.tt.from],h=Math.round(a.st*n);let c,f;t.fillStyle=a.ce,h<=r?(c=h,f=o):(c=r,f=h-Math.floor(s/2)+s),t.fillRect(u.Os,c,u.ui-u.Os+1,f-c)}}qe(t){if(this.zt===null||this.zt.it.length===0||this.zt.tt===null)return void(this.Ue=[]);const e=Math.ceil(this.zt.le*t)<=1?0:Math.max(1,Math.floor(t)),n=Math.round(this.zt.le*t)-e;this.Ue=new Array(this.zt.tt.to-this.zt.tt.from);for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const o=this.zt.it[r],l=Math.round(o.nt*t);let a,u;if(n%2){const h=(n-1)/2;a=l-h,u=l+h}else{const h=n/2;a=l-h,u=l+h-1}this.Ue[r-this.zt.tt.from]={Os:a,ui:u,Ze:l,Xe:o.nt*t,ot:o.ot}}for(let r=this.zt.tt.from+1;r<this.zt.tt.to;r++){const o=this.Ue[r-this.zt.tt.from],l=this.Ue[r-this.zt.tt.from-1];o.ot===l.ot+1&&o.Os-l.ui!==e+1&&(l.Ze>l.Xe?l.ui=o.Os-e-1:o.Os=l.ui+e+1)}let s=Math.ceil(this.zt.le*t);for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const o=this.Ue[r-this.zt.tt.from];o.ui<o.Os&&(o.ui=o.Os);const l=o.ui-o.Os+1;s=Math.min(l,s)}if(e>0&&s<4)for(let r=this.zt.tt.from;r<this.zt.tt.to;r++){const o=this.Ue[r-this.zt.tt.from];o.ui-o.Os+1>s&&(o.Ze>o.Xe?o.ui-=1:o.Os+=1)}}}class H2 extends mu{constructor(){super(...arguments),this.js=new W2}se(t,e,n){return Object.assign(Object.assign({},this.ie(t,e)),n.$s(t))}Js(){const t={it:this.zs,le:this.Ns.St().le(),tt:this.Ls,Ye:this.Es.Dt().Rt(this.Es.W().base,E(this.Es.Ct()).Vt)};this.js.J(t)}}class K2 extends mu{constructor(){super(...arguments),this.js=new aw}se(t,e,n){return Object.assign(Object.assign({},this.ie(t,e)),n.$s(t))}Js(){const t=this.Es.W(),e={it:this.zs,Nt:t.lineStyle,fs:t.lineVisible?t.lineType:void 0,et:t.lineWidth,Ds:t.pointMarkersVisible?t.pointMarkersRadius||t.lineWidth/2+2:void 0,tt:this.Ls,ds:this.Ns.St().le()};this.js.J(e)}}const Y2=/[2-9]/g;class _o{constructor(t=50){this.Ke=0,this.Ge=1,this.Je=1,this.Qe={},this.tr=new Map,this.ir=t}nr(){this.Ke=0,this.tr.clear(),this.Ge=1,this.Je=1,this.Qe={}}xi(t,e,n){return this.sr(t,e,n).width}Mi(t,e,n){const s=this.sr(t,e,n);return((s.actualBoundingBoxAscent||0)-(s.actualBoundingBoxDescent||0))/2}sr(t,e,n){const s=n||Y2,r=String(e).replace(s,"0");if(this.tr.has(r))return ne(this.tr.get(r)).er;if(this.Ke===this.ir){const l=this.Qe[this.Je];delete this.Qe[this.Je],this.tr.delete(l),this.Je++,this.Ke--}t.save(),t.textBaseline="middle";const o=t.measureText(r);return t.restore(),o.width===0&&e.length||(this.tr.set(r,{er:o,rr:this.Ge}),this.Qe[this.Ge]=r,this.Ke++,this.Ge++),o}}class X2{constructor(t){this.hr=null,this.k=null,this.lr="right",this.ar=t}_r(t,e,n){this.hr=t,this.k=e,this.lr=n}X(t){this.k!==null&&this.hr!==null&&this.hr.X(t,this.k,this.ar,this.lr)}}class dw{constructor(t,e,n){this.ur=t,this.ar=new _o(50),this.cr=e,this.F=n,this.j=-1,this.Wt=new X2(this.ar)}gt(){const t=this.F.dr(this.cr);if(t===null)return null;const e=t.vr(this.cr)?t.pr():this.cr.Dt();if(e===null)return null;const n=t.mr(e);if(n==="overlay")return null;const s=this.F.br();return s.P!==this.j&&(this.j=s.P,this.ar.nr()),this.Wt._r(this.ur.Ii(),s,n),this.Wt}}class Q2 extends ni{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}wr(t,e){var n;if(!(!((n=this.zt)===null||n===void 0)&&n.yt))return null;const{st:s,et:r,gr:o}=this.zt;return e>=s-r-7&&e<=s+r+7?{Mr:this.zt,gr:o}:null}K({context:t,bitmapSize:e,horizontalPixelRatio:n,verticalPixelRatio:s}){if(this.zt===null||this.zt.yt===!1)return;const r=Math.round(this.zt.st*s);r<0||r>e.height||(t.lineCap="butt",t.strokeStyle=this.zt.V,t.lineWidth=Math.floor(this.zt.et*n),os(t,this.zt.Nt),qg(t,r,0,e.width))}}class ld{constructor(t){this.Sr={st:0,V:"rgba(0, 0, 0, 0)",et:1,Nt:0,yt:!1},this.kr=new Q2,this.ft=!0,this.Es=t,this.Ns=t.$t(),this.kr.J(this.Sr)}bt(){this.ft=!0}gt(){return this.Es.yt()?(this.ft&&(this.yr(),this.ft=!1),this.kr):null}}class J2 extends ld{constructor(t){super(t)}yr(){this.Sr.yt=!1;const t=this.Es.Dt(),e=t.Cr().Cr;if(e!==2&&e!==3)return;const n=this.Es.W();if(!n.baseLineVisible||!this.Es.yt())return;const s=this.Es.Ct();s!==null&&(this.Sr.yt=!0,this.Sr.st=t.Rt(s.Vt,s.Vt),this.Sr.V=n.baseLineColor,this.Sr.et=n.baseLineWidth,this.Sr.Nt=n.baseLineStyle)}}class G2 extends ni{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}$e(){return this.zt}K({context:t,horizontalPixelRatio:e,verticalPixelRatio:n}){const s=this.zt;if(s===null)return;const r=Math.max(1,Math.floor(e)),o=r%2/2,l=Math.round(s.Xe.x*e)+o,a=s.Xe.y*n;t.fillStyle=s.Tr,t.beginPath();const u=Math.max(2,1.5*s.Pr)*e;t.arc(l,a,u,0,2*Math.PI,!1),t.fill(),t.fillStyle=s.Rr,t.beginPath(),t.arc(l,a,s.ht*e,0,2*Math.PI,!1),t.fill(),t.lineWidth=r,t.strokeStyle=s.Dr,t.beginPath(),t.arc(l,a,s.ht*e+r/2,0,2*Math.PI,!1),t.stroke()}}const q2=[{Vr:0,Or:.25,Br:4,Ar:10,Ir:.25,zr:0,Lr:.4,Er:.8},{Vr:.25,Or:.525,Br:10,Ar:14,Ir:0,zr:0,Lr:.8,Er:0},{Vr:.525,Or:1,Br:14,Ar:14,Ir:0,zr:0,Lr:0,Er:0}];function rm(i,t,e,n){return function(s,r){if(s==="transparent")return s;const o=go(s),l=o[3];return`rgba(${o[0]}, ${o[1]}, ${o[2]}, ${r*l})`}(i,e+(n-e)*t)}function om(i,t){const e=i%2600/2600;let n;for(const a of q2)if(e>=a.Vr&&e<=a.Or){n=a;break}Cn(n!==void 0,"Last price animation internal logic error");const s=(e-n.Vr)/(n.Or-n.Vr);return{Rr:rm(t,s,n.Ir,n.zr),Dr:rm(t,s,n.Lr,n.Er),ht:(r=s,o=n.Br,l=n.Ar,o+(l-o)*r)};var r,o,l}class Z2{constructor(t){this.Wt=new G2,this.ft=!0,this.Nr=!0,this.Fr=performance.now(),this.Wr=this.Fr-1,this.jr=t}Hr(){this.Wr=this.Fr-1,this.bt()}$r(){if(this.bt(),this.jr.W().lastPriceAnimation===2){const t=performance.now(),e=this.Wr-t;if(e>0)return void(e<650&&(this.Wr+=2600));this.Fr=t,this.Wr=t+2600}}bt(){this.ft=!0}Ur(){this.Nr=!0}yt(){return this.jr.W().lastPriceAnimation!==0}qr(){switch(this.jr.W().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Wr}}gt(){return this.ft?(this.Mt(),this.ft=!1,this.Nr=!1):this.Nr&&(this.Yr(),this.Nr=!1),this.Wt}Mt(){this.Wt.J(null);const t=this.jr.$t().St(),e=t.Xs(),n=this.jr.Ct();if(e===null||n===null)return;const s=this.jr.Zr(!0);if(s.Xr||!e.Kr(s.ee))return;const r={x:t.It(s.ee),y:this.jr.Dt().Rt(s._t,n.Vt)},o=s.V,l=this.jr.W().lineWidth,a=om(this.Gr(),o);this.Wt.J({Tr:o,Pr:l,Rr:a.Rr,Dr:a.Dr,ht:a.ht,Xe:r})}Yr(){const t=this.Wt.$e();if(t!==null){const e=om(this.Gr(),t.Tr);t.Rr=e.Rr,t.Dr=e.Dr,t.ht=e.ht}}Gr(){return this.qr()?performance.now()-this.Fr:2599}}function jr(i,t){return ow(Math.min(Math.max(i,12),30)*t)}function So(i,t){switch(i){case"arrowDown":case"arrowUp":return jr(t,1);case"circle":return jr(t,.8);case"square":return jr(t,.7)}}function pw(i){return function(t){const e=Math.ceil(t);return e%2!=0?e-1:e}(jr(i,1))}function lm(i){return Math.max(jr(i,.1),3)}function am(i,t,e){return t?i:e?Math.ceil(i/2):0}function mw(i,t,e,n,s){const r=So("square",e),o=(r-1)/2,l=i-o,a=t-o;return n>=l&&n<=l+r&&s>=a&&s<=a+r}function um(i,t,e,n){const s=(So("arrowUp",n)-1)/2*e.Jr,r=(ow(n/2)-1)/2*e.Jr;t.beginPath(),i?(t.moveTo(e.nt-s,e.st),t.lineTo(e.nt,e.st-s),t.lineTo(e.nt+s,e.st),t.lineTo(e.nt+r,e.st),t.lineTo(e.nt+r,e.st+s),t.lineTo(e.nt-r,e.st+s),t.lineTo(e.nt-r,e.st)):(t.moveTo(e.nt-s,e.st),t.lineTo(e.nt,e.st+s),t.lineTo(e.nt+s,e.st),t.lineTo(e.nt+r,e.st),t.lineTo(e.nt+r,e.st-s),t.lineTo(e.nt-r,e.st-s),t.lineTo(e.nt-r,e.st)),t.fill()}function tM(i,t,e,n,s,r){return mw(t,e,n,s,r)}class eM extends ni{constructor(){super(...arguments),this.zt=null,this.ar=new _o,this.j=-1,this.H="",this.Qr=""}J(t){this.zt=t}_r(t,e){this.j===t&&this.H===e||(this.j=t,this.H=e,this.Qr=lr(t,e),this.ar.nr())}wr(t,e){if(this.zt===null||this.zt.tt===null)return null;for(let n=this.zt.tt.from;n<this.zt.tt.to;n++){const s=this.zt.it[n];if(nM(s,t,e))return{Mr:s.th,gr:s.gr}}return null}K({context:t,horizontalPixelRatio:e,verticalPixelRatio:n},s,r){if(this.zt!==null&&this.zt.tt!==null){t.textBaseline="middle",t.font=this.Qr;for(let o=this.zt.tt.from;o<this.zt.tt.to;o++){const l=this.zt.it[o];l.Kt!==void 0&&(l.Kt.Hi=this.ar.xi(t,l.Kt.ih),l.Kt.At=this.j,l.Kt.nt=l.nt-l.Kt.Hi/2),iM(l,t,e,n)}}}}function iM(i,t,e,n){t.fillStyle=i.V,i.Kt!==void 0&&function(s,r,o,l,a,u){s.save(),s.scale(a,u),s.fillText(r,o,l),s.restore()}(t,i.Kt.ih,i.Kt.nt,i.Kt.st,e,n),function(s,r,o){if(s.Ks!==0){switch(s.nh){case"arrowDown":return void um(!1,r,o,s.Ks);case"arrowUp":return void um(!0,r,o,s.Ks);case"circle":return void function(l,a,u){const h=(So("circle",u)-1)/2;l.beginPath(),l.arc(a.nt,a.st,h*a.Jr,0,2*Math.PI,!1),l.fill()}(r,o,s.Ks);case"square":return void function(l,a,u){const h=So("square",u),c=(h-1)*a.Jr/2,f=a.nt-c,d=a.st-c;l.fillRect(f,d,h*a.Jr,h*a.Jr)}(r,o,s.Ks)}s.nh}}(i,t,function(s,r,o){const l=Math.max(1,Math.floor(r))%2/2;return{nt:Math.round(s.nt*r)+l,st:s.st*o,Jr:r}}(i,e,n))}function nM(i,t,e){return!(i.Kt===void 0||!function(n,s,r,o,l,a){const u=o/2;return l>=n&&l<=n+r&&a>=s-u&&a<=s+u}(i.Kt.nt,i.Kt.st,i.Kt.Hi,i.Kt.At,t,e))||function(n,s,r){if(n.Ks===0)return!1;switch(n.nh){case"arrowDown":case"arrowUp":return tM(0,n.nt,n.st,n.Ks,s,r);case"circle":return function(o,l,a,u,h){const c=2+So("circle",a)/2,f=o-u,d=l-h;return Math.sqrt(f*f+d*d)<=c}(n.nt,n.st,n.Ks,s,r);case"square":return mw(n.nt,n.st,n.Ks,s,r)}}(i,t,e)}function sM(i,t,e,n,s,r,o,l,a){const u=_i(e)?e:e.Se,h=_i(e)?e:e.Me,c=_i(e)?e:e.xe,f=_i(t.size)?Math.max(t.size,0):1,d=pw(l.le())*f,y=d/2;switch(i.Ks=d,t.position){case"inBar":return i.st=o.Rt(u,a),void(i.Kt!==void 0&&(i.Kt.st=i.st+y+r+.6*s));case"aboveBar":return i.st=o.Rt(h,a)-y-n.sh,i.Kt!==void 0&&(i.Kt.st=i.st-y-.6*s,n.sh+=1.2*s),void(n.sh+=d+r);case"belowBar":return i.st=o.Rt(c,a)+y+n.eh,i.Kt!==void 0&&(i.Kt.st=i.st+y+r+.6*s,n.eh+=1.2*s),void(n.eh+=d+r)}t.position}class rM{constructor(t,e){this.ft=!0,this.rh=!0,this.hh=!0,this.ah=null,this.oh=null,this.Wt=new eM,this.jr=t,this.$i=e,this.zt={it:[],tt:null}}bt(t){this.ft=!0,this.hh=!0,t==="data"&&(this.rh=!0,this.oh=null)}gt(t){if(!this.jr.yt())return null;this.ft&&this._h();const e=this.$i.W().layout;return this.Wt._r(e.fontSize,e.fontFamily),this.Wt.J(this.zt),this.Wt}uh(){if(this.hh){if(this.jr.dh().length>0){const t=this.$i.St().le(),e=lm(t),n=1.5*pw(t)+2*e,s=this.fh();this.ah={above:am(n,s.aboveBar,s.inBar),below:am(n,s.belowBar,s.inBar)}}else this.ah=null;this.hh=!1}return this.ah}fh(){return this.oh===null&&(this.oh=this.jr.dh().reduce((t,e)=>(t[e.position]||(t[e.position]=!0),t),{inBar:!1,aboveBar:!1,belowBar:!1})),this.oh}_h(){const t=this.jr.Dt(),e=this.$i.St(),n=this.jr.dh();this.rh&&(this.zt.it=n.map(h=>({ot:h.time,nt:0,st:0,Ks:0,nh:h.shape,V:h.color,th:h.th,gr:h.id,Kt:void 0})),this.rh=!1);const s=this.$i.W().layout;this.zt.tt=null;const r=e.Xs();if(r===null)return;const o=this.jr.Ct();if(o===null||this.zt.it.length===0)return;let l=NaN;const a=lm(e.le()),u={sh:a,eh:a};this.zt.tt=cw(this.zt.it,r,!0);for(let h=this.zt.tt.from;h<this.zt.tt.to;h++){const c=n[h];c.time!==l&&(u.sh=a,u.eh=a,l=c.time);const f=this.zt.it[h];f.nt=e.It(c.time),c.text!==void 0&&c.text.length>0&&(f.Kt={ih:c.text,nt:0,st:0,Hi:0,At:0});const d=this.jr.ph(c.time);d!==null&&sM(f,c,d,u,s.fontSize,a,t,e,o.Vt)}this.ft=!1}}class oM extends ld{constructor(t){super(t)}yr(){const t=this.Sr;t.yt=!1;const e=this.Es.W();if(!e.priceLineVisible||!this.Es.yt())return;const n=this.Es.Zr(e.priceLineSource===0);n.Xr||(t.yt=!0,t.st=n.ki,t.V=this.Es.mh(n.V),t.et=e.priceLineWidth,t.Nt=e.priceLineStyle)}}class lM extends fu{constructor(t){super(),this.jt=t}zi(t,e,n){t.yt=!1,e.yt=!1;const s=this.jt;if(!s.yt())return;const r=s.W(),o=r.lastValueVisible,l=s.bh()!=="",a=r.seriesLastValueMode===0,u=s.Zr(!1);if(u.Xr)return;o&&(t.Kt=this.wh(u,o,a),t.yt=t.Kt.length!==0),(l||a)&&(e.Kt=this.gh(u,o,l,a),e.yt=e.Kt.length>0);const h=s.mh(u.V),c=hu(h);n.t=c.t,n.ki=u.ki,e.Ot=s.$t().Bt(u.ki/s.Dt().At()),t.Ot=h,t.V=c.i,e.V=c.i}gh(t,e,n,s){let r="";const o=this.jt.bh();return n&&o.length!==0&&(r+=`${o} `),e&&s&&(r+=this.jt.Dt().Mh()?t.xh:t.Sh),r.trim()}wh(t,e,n){return e?n?this.jt.Dt().Mh()?t.Sh:t.xh:t.Kt:""}}function hm(i,t,e,n){const s=Number.isFinite(t),r=Number.isFinite(e);return s&&r?i(t,e):s||r?s?t:e:n}class ve{constructor(t,e){this.kh=t,this.yh=e}Ch(t){return t!==null&&this.kh===t.kh&&this.yh===t.yh}Th(){return new ve(this.kh,this.yh)}Ph(){return this.kh}Rh(){return this.yh}Dh(){return this.yh-this.kh}Ni(){return this.yh===this.kh||Number.isNaN(this.yh)||Number.isNaN(this.kh)}ts(t){return t===null?this:new ve(hm(Math.min,this.Ph(),t.Ph(),-1/0),hm(Math.max,this.Rh(),t.Rh(),1/0))}Vh(t){if(!_i(t)||this.yh-this.kh===0)return;const e=.5*(this.yh+this.kh);let n=this.yh-e,s=this.kh-e;n*=t,s*=t,this.yh=e+n,this.kh=e+s}Oh(t){_i(t)&&(this.yh+=t,this.kh+=t)}Bh(){return{minValue:this.kh,maxValue:this.yh}}static Ah(t){return t===null?null:new ve(t.minValue,t.maxValue)}}class Oa{constructor(t,e){this.Ih=t,this.zh=e||null}Lh(){return this.Ih}Eh(){return this.zh}Bh(){return this.Ih===null?null:{priceRange:this.Ih.Bh(),margins:this.zh||void 0}}static Ah(t){return t===null?null:new Oa(ve.Ah(t.priceRange),t.margins)}}class aM extends ld{constructor(t,e){super(t),this.Nh=e}yr(){const t=this.Sr;t.yt=!1;const e=this.Nh.W();if(!this.Es.yt()||!e.lineVisible)return;const n=this.Nh.Fh();n!==null&&(t.yt=!0,t.st=n,t.V=e.color,t.et=e.lineWidth,t.Nt=e.lineStyle,t.gr=this.Nh.W().id)}}class uM extends fu{constructor(t,e){super(),this.jr=t,this.Nh=e}zi(t,e,n){t.yt=!1,e.yt=!1;const s=this.Nh.W(),r=s.axisLabelVisible,o=s.title!=="",l=this.jr;if(!r||!l.yt())return;const a=this.Nh.Fh();if(a===null)return;o&&(e.Kt=s.title,e.yt=!0),e.Ot=l.$t().Bt(a/l.Dt().At()),t.Kt=this.Wh(s.price),t.yt=!0;const u=hu(s.axisLabelColor||s.color);n.t=u.t;const h=s.axisLabelTextColor||u.i;t.V=h,e.V=h,n.ki=a}Wh(t){const e=this.jr.Ct();return e===null?"":this.jr.Dt().Fi(t,e.Vt)}}class hM{constructor(t,e){this.jr=t,this.cn=e,this.jh=new aM(t,this),this.ur=new uM(t,this),this.Hh=new dw(this.ur,t,t.$t())}$h(t){ei(this.cn,t),this.bt(),this.jr.$t().Uh()}W(){return this.cn}qh(){return this.jh}Yh(){return this.Hh}Zh(){return this.ur}bt(){this.jh.bt(),this.ur.bt()}Fh(){const t=this.jr,e=t.Dt();if(t.$t().St().Ni()||e.Ni())return null;const n=t.Ct();return n===null?null:e.Rt(this.cn.price,n.Vt)}}class cM extends sd{constructor(t){super(),this.$i=t}$t(){return this.$i}}const fM={Bar:(i,t,e,n)=>{var s;const r=t.upColor,o=t.downColor,l=E(i(e,n)),a=zs(l.Vt[0])<=zs(l.Vt[3]);return{ce:(s=l.V)!==null&&s!==void 0?s:a?r:o}},Candlestick:(i,t,e,n)=>{var s,r,o;const l=t.upColor,a=t.downColor,u=t.borderUpColor,h=t.borderDownColor,c=t.wickUpColor,f=t.wickDownColor,d=E(i(e,n)),y=zs(d.Vt[0])<=zs(d.Vt[3]);return{ce:(s=d.V)!==null&&s!==void 0?s:y?l:a,Ne:(r=d.Ot)!==null&&r!==void 0?r:y?u:h,Ee:(o=d.Xh)!==null&&o!==void 0?o:y?c:f}},Custom:(i,t,e,n)=>{var s;return{ce:(s=E(i(e,n)).V)!==null&&s!==void 0?s:t.color}},Area:(i,t,e,n)=>{var s,r,o,l;const a=E(i(e,n));return{ce:(s=a.lt)!==null&&s!==void 0?s:t.lineColor,lt:(r=a.lt)!==null&&r!==void 0?r:t.lineColor,Ps:(o=a.Ps)!==null&&o!==void 0?o:t.topColor,Rs:(l=a.Rs)!==null&&l!==void 0?l:t.bottomColor}},Baseline:(i,t,e,n)=>{var s,r,o,l,a,u;const h=E(i(e,n));return{ce:h.Vt[3]>=t.baseValue.price?t.topLineColor:t.bottomLineColor,Re:(s=h.Re)!==null&&s!==void 0?s:t.topLineColor,De:(r=h.De)!==null&&r!==void 0?r:t.bottomLineColor,ke:(o=h.ke)!==null&&o!==void 0?o:t.topFillColor1,ye:(l=h.ye)!==null&&l!==void 0?l:t.topFillColor2,Ce:(a=h.Ce)!==null&&a!==void 0?a:t.bottomFillColor1,Te:(u=h.Te)!==null&&u!==void 0?u:t.bottomFillColor2}},Line:(i,t,e,n)=>{var s,r;const o=E(i(e,n));return{ce:(s=o.V)!==null&&s!==void 0?s:t.color,lt:(r=o.V)!==null&&r!==void 0?r:t.color}},Histogram:(i,t,e,n)=>{var s;return{ce:(s=E(i(e,n)).V)!==null&&s!==void 0?s:t.color}}};class dM{constructor(t){this.Kh=(e,n)=>n!==void 0?n.Vt:this.jr.In().Gh(e),this.jr=t,this.Jh=fM[t.Qh()]}$s(t,e){return this.Jh(this.Kh,this.jr.W(),t,e)}}var cm;(function(i){i[i.NearestLeft=-1]="NearestLeft",i[i.None=0]="None",i[i.NearestRight=1]="NearestRight"})(cm||(cm={}));const en=30;class pM{constructor(){this.tl=[],this.il=new Map,this.nl=new Map}sl(){return this.Ks()>0?this.tl[this.tl.length-1]:null}el(){return this.Ks()>0?this.rl(0):null}An(){return this.Ks()>0?this.rl(this.tl.length-1):null}Ks(){return this.tl.length}Ni(){return this.Ks()===0}Kr(t){return this.hl(t,0)!==null}Gh(t){return this.ll(t)}ll(t,e=0){const n=this.hl(t,e);return n===null?null:Object.assign(Object.assign({},this.al(n)),{ee:this.rl(n)})}ne(){return this.tl}ol(t,e,n){if(this.Ni())return null;let s=null;for(const r of n)s=rl(s,this._l(t,e,r));return s}J(t){this.nl.clear(),this.il.clear(),this.tl=t}rl(t){return this.tl[t].ee}al(t){return this.tl[t]}hl(t,e){const n=this.ul(t);if(n===null&&e!==0)switch(e){case-1:return this.cl(t);case 1:return this.dl(t);default:throw new TypeError("Unknown search mode")}return n}cl(t){let e=this.fl(t);return e>0&&(e-=1),e!==this.tl.length&&this.rl(e)<t?e:null}dl(t){const e=this.vl(t);return e!==this.tl.length&&t<this.rl(e)?e:null}ul(t){const e=this.fl(t);return e===this.tl.length||t<this.tl[e].ee?null:e}fl(t){return Fo(this.tl,t,(e,n)=>e.ee<n)}vl(t){return hw(this.tl,t,(e,n)=>e.ee>n)}pl(t,e,n){let s=null;for(let r=t;r<e;r++){const o=this.tl[r].Vt[n];Number.isNaN(o)||(s===null?s={ml:o,bl:o}:(o<s.ml&&(s.ml=o),o>s.bl&&(s.bl=o)))}return s}_l(t,e,n){if(this.Ni())return null;let s=null;const r=E(this.el()),o=E(this.An()),l=Math.max(t,r),a=Math.min(e,o),u=Math.ceil(l/en)*en,h=Math.max(u,Math.floor(a/en)*en);{const f=this.fl(l),d=this.vl(Math.min(a,u,e));s=rl(s,this.pl(f,d,n))}let c=this.il.get(n);c===void 0&&(c=new Map,this.il.set(n,c));for(let f=Math.max(u+1,l);f<h;f+=en){const d=Math.floor(f/en);let y=c.get(d);if(y===void 0){const v=this.fl(d*en),x=this.vl((d+1)*en-1);y=this.pl(v,x,n),c.set(d,y)}s=rl(s,y)}{const f=this.fl(h),d=this.vl(a);s=rl(s,this.pl(f,d,n))}return s}}function rl(i,t){return i===null?t:t===null?i:{ml:Math.min(i.ml,t.ml),bl:Math.max(i.bl,t.bl)}}class mM{constructor(t){this.wl=t}X(t,e,n){this.wl.draw(t)}gl(t,e,n){var s,r;(r=(s=this.wl).drawBackground)===null||r===void 0||r.call(s,t)}}class Gu{constructor(t){this.tr=null,this.wn=t}gt(){var t;const e=this.wn.renderer();if(e===null)return null;if(((t=this.tr)===null||t===void 0?void 0:t.Ml)===e)return this.tr.xl;const n=new mM(e);return this.tr={Ml:e,xl:n},n}Sl(){var t,e,n;return(n=(e=(t=this.wn).zOrder)===null||e===void 0?void 0:e.call(t))!==null&&n!==void 0?n:"normal"}}function yw(i){var t,e,n,s,r;return{Kt:i.text(),ki:i.coordinate(),Si:(t=i.fixedCoordinate)===null||t===void 0?void 0:t.call(i),V:i.textColor(),t:i.backColor(),yt:(n=(e=i.visible)===null||e===void 0?void 0:e.call(i))===null||n===void 0||n,hi:(r=(s=i.tickVisible)===null||s===void 0?void 0:s.call(i))===null||r===void 0||r}}class yM{constructor(t,e){this.Wt=new iw,this.kl=t,this.yl=e}gt(){return this.Wt.J(Object.assign({Hi:this.yl.Hi()},yw(this.kl))),this.Wt}}class vM extends fu{constructor(t,e){super(),this.kl=t,this.Li=e}zi(t,e,n){const s=yw(this.kl);n.t=s.t,t.V=s.V;const r=2/12*this.Li.P();n.wi=r,n.gi=r,n.ki=s.ki,n.Si=s.Si,t.Kt=s.Kt,t.yt=s.yt,t.hi=s.hi}}class gM{constructor(t,e){this.Cl=null,this.Tl=null,this.Pl=null,this.Rl=null,this.Dl=null,this.Vl=t,this.jr=e}Ol(){return this.Vl}Vn(){var t,e;(e=(t=this.Vl).updateAllViews)===null||e===void 0||e.call(t)}Pn(){var t,e,n,s;const r=(n=(e=(t=this.Vl).paneViews)===null||e===void 0?void 0:e.call(t))!==null&&n!==void 0?n:[];if(((s=this.Cl)===null||s===void 0?void 0:s.Ml)===r)return this.Cl.xl;const o=r.map(l=>new Gu(l));return this.Cl={Ml:r,xl:o},o}Qi(){var t,e,n,s;const r=(n=(e=(t=this.Vl).timeAxisViews)===null||e===void 0?void 0:e.call(t))!==null&&n!==void 0?n:[];if(((s=this.Tl)===null||s===void 0?void 0:s.Ml)===r)return this.Tl.xl;const o=this.jr.$t().St(),l=r.map(a=>new yM(a,o));return this.Tl={Ml:r,xl:l},l}Rn(){var t,e,n,s;const r=(n=(e=(t=this.Vl).priceAxisViews)===null||e===void 0?void 0:e.call(t))!==null&&n!==void 0?n:[];if(((s=this.Pl)===null||s===void 0?void 0:s.Ml)===r)return this.Pl.xl;const o=this.jr.Dt(),l=r.map(a=>new vM(a,o));return this.Pl={Ml:r,xl:l},l}Bl(){var t,e,n,s;const r=(n=(e=(t=this.Vl).priceAxisPaneViews)===null||e===void 0?void 0:e.call(t))!==null&&n!==void 0?n:[];if(((s=this.Rl)===null||s===void 0?void 0:s.Ml)===r)return this.Rl.xl;const o=r.map(l=>new Gu(l));return this.Rl={Ml:r,xl:o},o}Al(){var t,e,n,s;const r=(n=(e=(t=this.Vl).timeAxisPaneViews)===null||e===void 0?void 0:e.call(t))!==null&&n!==void 0?n:[];if(((s=this.Dl)===null||s===void 0?void 0:s.Ml)===r)return this.Dl.xl;const o=r.map(l=>new Gu(l));return this.Dl={Ml:r,xl:o},o}Il(t,e){var n,s,r;return(r=(s=(n=this.Vl).autoscaleInfo)===null||s===void 0?void 0:s.call(n,t,e))!==null&&r!==void 0?r:null}wr(t,e){var n,s,r;return(r=(s=(n=this.Vl).hitTest)===null||s===void 0?void 0:s.call(n,t,e))!==null&&r!==void 0?r:null}}function qu(i,t,e,n){i.forEach(s=>{t(s).forEach(r=>{r.Sl()===e&&n.push(r)})})}function Zu(i){return i.Pn()}function wM(i){return i.Bl()}function bM(i){return i.Al()}class ad extends cM{constructor(t,e,n,s,r){super(t),this.zt=new pM,this.jh=new oM(this),this.zl=[],this.Ll=new J2(this),this.El=null,this.Nl=null,this.Fl=[],this.Wl=[],this.jl=null,this.Hl=[],this.cn=e,this.$l=n;const o=new lM(this);this.rn=[o],this.Hh=new dw(o,this,t),n!=="Area"&&n!=="Line"&&n!=="Baseline"||(this.El=new Z2(this)),this.Ul(),this.ql(r)}S(){this.jl!==null&&clearTimeout(this.jl)}mh(t){return this.cn.priceLineColor||t}Zr(t){const e={Xr:!0},n=this.Dt();if(this.$t().St().Ni()||n.Ni()||this.zt.Ni())return e;const s=this.$t().St().Xs(),r=this.Ct();if(s===null||r===null)return e;let o,l;if(t){const c=this.zt.sl();if(c===null)return e;o=c,l=c.ee}else{const c=this.zt.ll(s.ui(),-1);if(c===null||(o=this.zt.Gh(c.ee),o===null))return e;l=c.ee}const a=o.Vt[3],u=this.Us().$s(l,{Vt:o}),h=n.Rt(a,r.Vt);return{Xr:!1,_t:a,Kt:n.Fi(a,r.Vt),xh:n.Yl(a),Sh:n.Zl(a,r.Vt),V:u.ce,ki:h,ee:l}}Us(){return this.Nl!==null||(this.Nl=new dM(this)),this.Nl}W(){return this.cn}$h(t){const e=t.priceScaleId;e!==void 0&&e!==this.cn.priceScaleId&&this.$t().Xl(this,e),ei(this.cn,t),t.priceFormat!==void 0&&(this.Ul(),this.$t().Kl()),this.$t().Gl(this),this.$t().Jl(),this.wn.bt("options")}J(t,e){this.zt.J(t),this.Ql(),this.wn.bt("data"),this.dn.bt("data"),this.El!==null&&(e&&e.ta?this.El.$r():t.length===0&&this.El.Hr());const n=this.$t().dr(this);this.$t().ia(n),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}na(t){this.Fl=t,this.Ql();const e=this.$t().dr(this);this.dn.bt("data"),this.$t().ia(e),this.$t().Gl(this),this.$t().Jl(),this.$t().Uh()}sa(){return this.Fl}dh(){return this.Wl}ea(t){const e=new hM(this,t);return this.zl.push(e),this.$t().Gl(this),e}ra(t){const e=this.zl.indexOf(t);e!==-1&&this.zl.splice(e,1),this.$t().Gl(this)}Qh(){return this.$l}Ct(){const t=this.ha();return t===null?null:{Vt:t.Vt[3],la:t.ot}}ha(){const t=this.$t().St().Xs();if(t===null)return null;const e=t.Os();return this.zt.ll(e,1)}In(){return this.zt}ph(t){const e=this.zt.Gh(t);return e===null?null:this.$l==="Bar"||this.$l==="Candlestick"||this.$l==="Custom"?{ge:e.Vt[0],Me:e.Vt[1],xe:e.Vt[2],Se:e.Vt[3]}:e.Vt[3]}aa(t){const e=[];qu(this.Hl,Zu,"top",e);const n=this.El;return n!==null&&n.yt()&&(this.jl===null&&n.qr()&&(this.jl=setTimeout(()=>{this.jl=null,this.$t().oa()},0)),n.Ur(),e.unshift(n)),e}Pn(){const t=[];this._a()||t.push(this.Ll),t.push(this.wn,this.jh,this.dn);const e=this.zl.map(n=>n.qh());return t.push(...e),qu(this.Hl,Zu,"normal",t),t}ua(){return this.ca(Zu,"bottom")}da(t){return this.ca(wM,t)}fa(t){return this.ca(bM,t)}va(t,e){return this.Hl.map(n=>n.wr(t,e)).filter(n=>n!==null)}Ji(t){return[this.Hh,...this.zl.map(e=>e.Yh())]}Rn(t,e){if(e!==this.Yi&&!this._a())return[];const n=[...this.rn];for(const s of this.zl)n.push(s.Zh());return this.Hl.forEach(s=>{n.push(...s.Rn())}),n}Qi(){const t=[];return this.Hl.forEach(e=>{t.push(...e.Qi())}),t}Il(t,e){if(this.cn.autoscaleInfoProvider!==void 0){const n=this.cn.autoscaleInfoProvider(()=>{const s=this.pa(t,e);return s===null?null:s.Bh()});return Oa.Ah(n)}return this.pa(t,e)}ma(){return this.cn.priceFormat.minMove}ba(){return this.wa}Vn(){var t;this.wn.bt(),this.dn.bt();for(const e of this.rn)e.bt();for(const e of this.zl)e.bt();this.jh.bt(),this.Ll.bt(),(t=this.El)===null||t===void 0||t.bt(),this.Hl.forEach(e=>e.Vn())}Dt(){return E(super.Dt())}kt(t){if(!((this.$l==="Line"||this.$l==="Area"||this.$l==="Baseline")&&this.cn.crosshairMarkerVisible))return null;const e=this.zt.Gh(t);return e===null?null:{_t:e.Vt[3],ht:this.ga(),Ot:this.Ma(),Pt:this.xa(),Tt:this.Sa(t)}}bh(){return this.cn.title}yt(){return this.cn.visible}ka(t){this.Hl.push(new gM(t,this))}ya(t){this.Hl=this.Hl.filter(e=>e.Ol()!==t)}Ca(){if(this.wn instanceof Ju)return t=>this.wn.We(t)}Ta(){if(this.wn instanceof Ju)return t=>this.wn.je(t)}_a(){return!du(this.Dt().Pa())}pa(t,e){if(!wo(t)||!wo(e)||this.zt.Ni())return null;const n=this.$l==="Line"||this.$l==="Area"||this.$l==="Baseline"||this.$l==="Histogram"?[3]:[2,1],s=this.zt.ol(t,e,n);let r=s!==null?new ve(s.ml,s.bl):null;if(this.Qh()==="Histogram"){const l=this.cn.base,a=new ve(l,l);r=r!==null?r.ts(a):a}let o=this.dn.uh();return this.Hl.forEach(l=>{const a=l.Il(t,e);if(a!=null&&a.priceRange){const d=new ve(a.priceRange.minValue,a.priceRange.maxValue);r=r!==null?r.ts(d):d}var u,h,c,f;a!=null&&a.margins&&(u=o,h=a.margins,o={above:Math.max((c=u==null?void 0:u.above)!==null&&c!==void 0?c:0,h.above),below:Math.max((f=u==null?void 0:u.below)!==null&&f!==void 0?f:0,h.below)})}),new Oa(r,o)}ga(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerRadius}return 0}Ma(){switch(this.$l){case"Line":case"Area":case"Baseline":{const t=this.cn.crosshairMarkerBorderColor;if(t.length!==0)return t}}return null}xa(){switch(this.$l){case"Line":case"Area":case"Baseline":return this.cn.crosshairMarkerBorderWidth}return 0}Sa(t){switch(this.$l){case"Line":case"Area":case"Baseline":{const e=this.cn.crosshairMarkerBackgroundColor;if(e.length!==0)return e}}return this.Us().$s(t).ce}Ul(){switch(this.cn.priceFormat.type){case"custom":this.wa={format:this.cn.priceFormat.formatter};break;case"volume":this.wa=new C2(this.cn.priceFormat.precision);break;case"percent":this.wa=new nw(this.cn.priceFormat.precision);break;default:{const t=Math.pow(10,this.cn.priceFormat.precision);this.wa=new pu(t,this.cn.priceFormat.minMove*t)}}this.Yi!==null&&this.Yi.Ra()}Ql(){const t=this.$t().St();if(!t.Da()||this.zt.Ni())return void(this.Wl=[]);const e=E(this.zt.el());this.Wl=this.Fl.map((n,s)=>{const r=E(t.Va(n.time,!0)),o=r<e?1:-1;return{time:E(this.zt.ll(r,o)).ee,position:n.position,shape:n.shape,color:n.color,id:n.id,th:s,text:n.text,size:n.size,originalTime:n.originalTime}})}ql(t){switch(this.dn=new rM(this,this.$t()),this.$l){case"Bar":this.wn=new F2(this,this.$t());break;case"Candlestick":this.wn=new V2(this,this.$t());break;case"Line":this.wn=new K2(this,this.$t());break;case"Custom":this.wn=new Ju(this,this.$t(),ne(t));break;case"Area":this.wn=new D2(this,this.$t());break;case"Baseline":this.wn=new P2(this,this.$t());break;case"Histogram":this.wn=new H2(this,this.$t());break;default:throw Error("Unknown chart style assigned: "+this.$l)}}ca(t,e){const n=[];return qu(this.Hl,t,e,n),n}}class _M{constructor(t){this.cn=t}Oa(t,e,n){let s=t;if(this.cn.mode===0)return s;const r=n.vn(),o=r.Ct();if(o===null)return s;const l=r.Rt(t,o),a=n.Ba().filter(h=>h instanceof ad).reduce((h,c)=>{if(n.vr(c)||!c.yt())return h;const f=c.Dt(),d=c.In();if(f.Ni()||!d.Kr(e))return h;const y=d.Gh(e);if(y===null)return h;const v=zs(c.Ct());return h.concat([f.Rt(y.Vt[3],v.Vt)])},[]);if(a.length===0)return s;a.sort((h,c)=>Math.abs(h-l)-Math.abs(c-l));const u=a[0];return s=r.pn(u,o),s}}class SM extends ni{constructor(){super(...arguments),this.zt=null}J(t){this.zt=t}K({context:t,bitmapSize:e,horizontalPixelRatio:n,verticalPixelRatio:s}){if(this.zt===null)return;const r=Math.max(1,Math.floor(n));t.lineWidth=r,function(o,l){o.save(),o.lineWidth%2&&o.translate(.5,.5),l(),o.restore()}(t,()=>{const o=E(this.zt);if(o.Aa){t.strokeStyle=o.Ia,os(t,o.za),t.beginPath();for(const l of o.La){const a=Math.round(l.Ea*n);t.moveTo(a,-r),t.lineTo(a,e.height+r)}t.stroke()}if(o.Na){t.strokeStyle=o.Fa,os(t,o.Wa),t.beginPath();for(const l of o.ja){const a=Math.round(l.Ea*s);t.moveTo(-r,a),t.lineTo(e.width+r,a)}t.stroke()}})}}class xM{constructor(t){this.Wt=new SM,this.ft=!0,this.tn=t}bt(){this.ft=!0}gt(){if(this.ft){const t=this.tn.$t().W().grid,e={Na:t.horzLines.visible,Aa:t.vertLines.visible,Fa:t.horzLines.color,Ia:t.vertLines.color,Wa:t.horzLines.style,za:t.vertLines.style,ja:this.tn.vn().Ha(),La:(this.tn.$t().St().Ha()||[]).map(n=>({Ea:n.coord}))};this.Wt.J(e),this.ft=!1}return this.Wt}}class MM{constructor(t){this.wn=new xM(t)}qh(){return this.wn}}const th={$a:4,Ua:1e-4};function Ds(i,t){const e=100*(i-t)/t;return t<0?-e:e}function IM(i,t){const e=Ds(i.Ph(),t),n=Ds(i.Rh(),t);return new ve(e,n)}function Wr(i,t){const e=100*(i-t)/t+100;return t<0?-e:e}function EM(i,t){const e=Wr(i.Ph(),t),n=Wr(i.Rh(),t);return new ve(e,n)}function za(i,t){const e=Math.abs(i);if(e<1e-15)return 0;const n=Math.log10(e+t.Ua)+t.$a;return i<0?-n:n}function Hr(i,t){const e=Math.abs(i);if(e<1e-15)return 0;const n=Math.pow(10,e-t.$a)-t.Ua;return i<0?-n:n}function Mr(i,t){if(i===null)return null;const e=za(i.Ph(),t),n=za(i.Rh(),t);return new ve(e,n)}function ol(i,t){if(i===null)return null;const e=Hr(i.Ph(),t),n=Hr(i.Rh(),t);return new ve(e,n)}function eh(i){if(i===null)return th;const t=Math.abs(i.Rh()-i.Ph());if(t>=1||t<1e-15)return th;const e=Math.ceil(Math.abs(Math.log10(t))),n=th.$a+e;return{$a:n,Ua:1/Math.pow(10,n)}}class ih{constructor(t,e){if(this.qa=t,this.Ya=e,function(n){if(n<0)return!1;for(let s=n;s>1;s/=10)if(s%10!=0)return!1;return!0}(this.qa))this.Za=[2,2.5,2];else{this.Za=[];for(let n=this.qa;n!==1;){if(n%2==0)this.Za.push(2),n/=2;else{if(n%5!=0)throw new Error("unexpected base");this.Za.push(2,2.5),n/=5}if(this.Za.length>100)throw new Error("something wrong with base")}}}Xa(t,e,n){const s=this.qa===0?0:1/this.qa;let r=Math.pow(10,Math.max(0,Math.ceil(Math.log10(t-e)))),o=0,l=this.Ya[0];for(;;){const c=sl(r,s,1e-14)&&r>s+1e-14,f=sl(r,n*l,1e-14),d=sl(r,1,1e-14);if(!(c&&f&&d))break;r/=l,l=this.Ya[++o%this.Ya.length]}if(r<=s+1e-14&&(r=s),r=Math.max(1,r),this.Za.length>0&&(a=r,u=1,h=1e-14,Math.abs(a-u)<h))for(o=0,l=this.Za[0];sl(r,n*l,1e-14)&&r>s+1e-14;)r/=l,l=this.Za[++o%this.Za.length];var a,u,h;return r}}class fm{constructor(t,e,n,s){this.Ka=[],this.Li=t,this.qa=e,this.Ga=n,this.Ja=s}Xa(t,e){if(t<e)throw new Error("high < low");const n=this.Li.At(),s=(t-e)*this.Qa()/n,r=new ih(this.qa,[2,2.5,2]),o=new ih(this.qa,[2,2,2.5]),l=new ih(this.qa,[2.5,2,2]),a=[];return a.push(r.Xa(t,e,s),o.Xa(t,e,s),l.Xa(t,e,s)),function(u){if(u.length<1)throw Error("array is empty");let h=u[0];for(let c=1;c<u.length;++c)u[c]<h&&(h=u[c]);return h}(a)}io(){const t=this.Li,e=t.Ct();if(e===null)return void(this.Ka=[]);const n=t.At(),s=this.Ga(n-1,e),r=this.Ga(0,e),o=this.Li.W().entireTextOnly?this.no()/2:0,l=o,a=n-1-o,u=Math.max(s,r),h=Math.min(s,r);if(u===h)return void(this.Ka=[]);let c=this.Xa(u,h),f=u%c;f+=f<0?c:0;const d=u>=h?1:-1;let y=null,v=0;for(let x=u-f;x>h;x-=c){const m=this.Ja(x,e,!0);y!==null&&Math.abs(m-y)<this.Qa()||m<l||m>a||(v<this.Ka.length?(this.Ka[v].Ea=m,this.Ka[v].so=t.eo(x)):this.Ka.push({Ea:m,so:t.eo(x)}),v++,y=m,t.ro()&&(c=this.Xa(x*d,h)))}this.Ka.length=v}Ha(){return this.Ka}no(){return this.Li.P()}Qa(){return Math.ceil(2.5*this.no())}}function vw(i){return i.slice().sort((t,e)=>E(t.Xi())-E(e.Xi()))}var dm;(function(i){i[i.Normal=0]="Normal",i[i.Logarithmic=1]="Logarithmic",i[i.Percentage=2]="Percentage",i[i.IndexedTo100=3]="IndexedTo100"})(dm||(dm={}));const pm=new nw,mm=new pu(100,1);class CM{constructor(t,e,n,s){this.ho=0,this.lo=null,this.Ih=null,this.ao=null,this.oo={_o:!1,uo:null},this.co=0,this.do=0,this.fo=new Ot,this.vo=new Ot,this.po=[],this.mo=null,this.bo=null,this.wo=null,this.Mo=null,this.wa=mm,this.xo=eh(null),this.So=t,this.cn=e,this.ko=n,this.yo=s,this.Co=new fm(this,100,this.To.bind(this),this.Po.bind(this))}Pa(){return this.So}W(){return this.cn}$h(t){if(ei(this.cn,t),this.Ra(),t.mode!==void 0&&this.Ro({Cr:t.mode}),t.scaleMargins!==void 0){const e=ne(t.scaleMargins.top),n=ne(t.scaleMargins.bottom);if(e<0||e>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${e}`);if(n<0||n>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${n}`);if(e+n>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${e+n}`);this.Do(),this.bo=null}}Vo(){return this.cn.autoScale}ro(){return this.cn.mode===1}Mh(){return this.cn.mode===2}Oo(){return this.cn.mode===3}Cr(){return{Wn:this.cn.autoScale,Bo:this.cn.invertScale,Cr:this.cn.mode}}Ro(t){const e=this.Cr();let n=null;t.Wn!==void 0&&(this.cn.autoScale=t.Wn),t.Cr!==void 0&&(this.cn.mode=t.Cr,t.Cr!==2&&t.Cr!==3||(this.cn.autoScale=!0),this.oo._o=!1),e.Cr===1&&t.Cr!==e.Cr&&(function(r,o){if(r===null)return!1;const l=Hr(r.Ph(),o),a=Hr(r.Rh(),o);return isFinite(l)&&isFinite(a)}(this.Ih,this.xo)?(n=ol(this.Ih,this.xo),n!==null&&this.Ao(n)):this.cn.autoScale=!0),t.Cr===1&&t.Cr!==e.Cr&&(n=Mr(this.Ih,this.xo),n!==null&&this.Ao(n));const s=e.Cr!==this.cn.mode;s&&(e.Cr===2||this.Mh())&&this.Ra(),s&&(e.Cr===3||this.Oo())&&this.Ra(),t.Bo!==void 0&&e.Bo!==t.Bo&&(this.cn.invertScale=t.Bo,this.Io()),this.vo.m(e,this.Cr())}zo(){return this.vo}P(){return this.ko.fontSize}At(){return this.ho}Lo(t){this.ho!==t&&(this.ho=t,this.Do(),this.bo=null)}Eo(){if(this.lo)return this.lo;const t=this.At()-this.No()-this.Fo();return this.lo=t,t}Lh(){return this.Wo(),this.Ih}Ao(t,e){const n=this.Ih;(e||n===null&&t!==null||n!==null&&!n.Ch(t))&&(this.bo=null,this.Ih=t)}Ni(){return this.Wo(),this.ho===0||!this.Ih||this.Ih.Ni()}jo(t){return this.Bo()?t:this.At()-1-t}Rt(t,e){return this.Mh()?t=Ds(t,e):this.Oo()&&(t=Wr(t,e)),this.Po(t,e)}te(t,e,n){this.Wo();const s=this.Fo(),r=E(this.Lh()),o=r.Ph(),l=r.Rh(),a=this.Eo()-1,u=this.Bo(),h=a/(l-o),c=n===void 0?0:n.from,f=n===void 0?t.length:n.to,d=this.Ho();for(let y=c;y<f;y++){const v=t[y],x=v._t;if(isNaN(x))continue;let m=x;d!==null&&(m=d(v._t,e));const p=s+h*(m-o),g=u?p:this.ho-1-p;v.st=g}}be(t,e,n){this.Wo();const s=this.Fo(),r=E(this.Lh()),o=r.Ph(),l=r.Rh(),a=this.Eo()-1,u=this.Bo(),h=a/(l-o),c=n===void 0?0:n.from,f=n===void 0?t.length:n.to,d=this.Ho();for(let y=c;y<f;y++){const v=t[y];let x=v.ge,m=v.Me,p=v.xe,g=v.Se;d!==null&&(x=d(v.ge,e),m=d(v.Me,e),p=d(v.xe,e),g=d(v.Se,e));let _=s+h*(x-o),k=u?_:this.ho-1-_;v.pe=k,_=s+h*(m-o),k=u?_:this.ho-1-_,v.de=k,_=s+h*(p-o),k=u?_:this.ho-1-_,v.fe=k,_=s+h*(g-o),k=u?_:this.ho-1-_,v.me=k}}pn(t,e){const n=this.To(t,e);return this.$o(n,e)}$o(t,e){let n=t;return this.Mh()?n=function(s,r){return r<0&&(s=-s),s/100*r+r}(n,e):this.Oo()&&(n=function(s,r){return s-=100,r<0&&(s=-s),s/100*r+r}(n,e)),n}Ba(){return this.po}Uo(){if(this.mo)return this.mo;let t=[];for(let e=0;e<this.po.length;e++){const n=this.po[e];n.Xi()===null&&n.Ki(e+1),t.push(n)}return t=vw(t),this.mo=t,this.mo}qo(t){this.po.indexOf(t)===-1&&(this.po.push(t),this.Ra(),this.Yo())}Zo(t){const e=this.po.indexOf(t);if(e===-1)throw new Error("source is not attached to scale");this.po.splice(e,1),this.po.length===0&&(this.Ro({Wn:!0}),this.Ao(null)),this.Ra(),this.Yo()}Ct(){let t=null;for(const e of this.po){const n=e.Ct();n!==null&&(t===null||n.la<t.la)&&(t=n)}return t===null?null:t.Vt}Bo(){return this.cn.invertScale}Ha(){const t=this.Ct()===null;if(this.bo!==null&&(t||this.bo.Xo===t))return this.bo.Ha;this.Co.io();const e=this.Co.Ha();return this.bo={Ha:e,Xo:t},this.fo.m(),e}Ko(){return this.fo}Go(t){this.Mh()||this.Oo()||this.wo===null&&this.ao===null&&(this.Ni()||(this.wo=this.ho-t,this.ao=E(this.Lh()).Th()))}Jo(t){if(this.Mh()||this.Oo()||this.wo===null)return;this.Ro({Wn:!1}),(t=this.ho-t)<0&&(t=0);let e=(this.wo+.2*(this.ho-1))/(t+.2*(this.ho-1));const n=E(this.ao).Th();e=Math.max(e,.1),n.Vh(e),this.Ao(n)}Qo(){this.Mh()||this.Oo()||(this.wo=null,this.ao=null)}t_(t){this.Vo()||this.Mo===null&&this.ao===null&&(this.Ni()||(this.Mo=t,this.ao=E(this.Lh()).Th()))}i_(t){if(this.Vo()||this.Mo===null)return;const e=E(this.Lh()).Dh()/(this.Eo()-1);let n=t-this.Mo;this.Bo()&&(n*=-1);const s=n*e,r=E(this.ao).Th();r.Oh(s),this.Ao(r,!0),this.bo=null}n_(){this.Vo()||this.Mo!==null&&(this.Mo=null,this.ao=null)}ba(){return this.wa||this.Ra(),this.wa}Fi(t,e){switch(this.cn.mode){case 2:return this.s_(Ds(t,e));case 3:return this.ba().format(Wr(t,e));default:return this.Wh(t)}}eo(t){switch(this.cn.mode){case 2:return this.s_(t);case 3:return this.ba().format(t);default:return this.Wh(t)}}Yl(t){return this.Wh(t,E(this.e_()).ba())}Zl(t,e){return t=Ds(t,e),this.s_(t,pm)}r_(){return this.po}h_(t){this.oo={uo:t,_o:!1}}Vn(){this.po.forEach(t=>t.Vn())}Ra(){this.bo=null;const t=this.e_();let e=100;t!==null&&(e=Math.round(1/t.ma())),this.wa=mm,this.Mh()?(this.wa=pm,e=100):this.Oo()?(this.wa=new pu(100,1),e=100):t!==null&&(this.wa=t.ba()),this.Co=new fm(this,e,this.To.bind(this),this.Po.bind(this)),this.Co.io()}Yo(){this.mo=null}e_(){return this.po[0]||null}No(){return this.Bo()?this.cn.scaleMargins.bottom*this.At()+this.do:this.cn.scaleMargins.top*this.At()+this.co}Fo(){return this.Bo()?this.cn.scaleMargins.top*this.At()+this.co:this.cn.scaleMargins.bottom*this.At()+this.do}Wo(){this.oo._o||(this.oo._o=!0,this.l_())}Do(){this.lo=null}Po(t,e){if(this.Wo(),this.Ni())return 0;t=this.ro()&&t?za(t,this.xo):t;const n=E(this.Lh()),s=this.Fo()+(this.Eo()-1)*(t-n.Ph())/n.Dh();return this.jo(s)}To(t,e){if(this.Wo(),this.Ni())return 0;const n=this.jo(t),s=E(this.Lh()),r=s.Ph()+s.Dh()*((n-this.Fo())/(this.Eo()-1));return this.ro()?Hr(r,this.xo):r}Io(){this.bo=null,this.Co.io()}l_(){const t=this.oo.uo;if(t===null)return;let e=null;const n=this.r_();let s=0,r=0;for(const a of n){if(!a.yt())continue;const u=a.Ct();if(u===null)continue;const h=a.Il(t.Os(),t.ui());let c=h&&h.Lh();if(c!==null){switch(this.cn.mode){case 1:c=Mr(c,this.xo);break;case 2:c=IM(c,u.Vt);break;case 3:c=EM(c,u.Vt)}if(e=e===null?c:e.ts(E(c)),h!==null){const f=h.Eh();f!==null&&(s=Math.max(s,f.above),r=Math.max(r,f.below))}}}if(s===this.co&&r===this.do||(this.co=s,this.do=r,this.bo=null,this.Do()),e!==null){if(e.Ph()===e.Rh()){const a=this.e_(),u=5*(a===null||this.Mh()||this.Oo()?1:a.ma());this.ro()&&(e=ol(e,this.xo)),e=new ve(e.Ph()-u,e.Rh()+u),this.ro()&&(e=Mr(e,this.xo))}if(this.ro()){const a=ol(e,this.xo),u=eh(a);if(o=u,l=this.xo,o.$a!==l.$a||o.Ua!==l.Ua){const h=this.ao!==null?ol(this.ao,this.xo):null;this.xo=u,e=Mr(a,u),h!==null&&(this.ao=Mr(h,u))}}this.Ao(e)}else this.Ih===null&&(this.Ao(new ve(-.5,.5)),this.xo=eh(null));var o,l;this.oo._o=!0}Ho(){return this.Mh()?Ds:this.Oo()?Wr:this.ro()?t=>za(t,this.xo):null}a_(t,e,n){return e===void 0?(n===void 0&&(n=this.ba()),n.format(t)):e(t)}Wh(t,e){return this.a_(t,this.yo.priceFormatter,e)}s_(t,e){return this.a_(t,this.yo.percentageFormatter,e)}}class kM{constructor(t,e){this.po=[],this.o_=new Map,this.ho=0,this.__=0,this.u_=1e3,this.mo=null,this.c_=new Ot,this.yl=t,this.$i=e,this.d_=new MM(this);const n=e.W();this.f_=this.v_("left",n.leftPriceScale),this.p_=this.v_("right",n.rightPriceScale),this.f_.zo().l(this.m_.bind(this,this.f_),this),this.p_.zo().l(this.m_.bind(this,this.p_),this),this.b_(n)}b_(t){if(t.leftPriceScale&&this.f_.$h(t.leftPriceScale),t.rightPriceScale&&this.p_.$h(t.rightPriceScale),t.localization&&(this.f_.Ra(),this.p_.Ra()),t.overlayPriceScales){const e=Array.from(this.o_.values());for(const n of e){const s=E(n[0].Dt());s.$h(t.overlayPriceScales),t.localization&&s.Ra()}}}w_(t){switch(t){case"left":return this.f_;case"right":return this.p_}return this.o_.has(t)?ne(this.o_.get(t))[0].Dt():null}S(){this.$t().g_().p(this),this.f_.zo().p(this),this.p_.zo().p(this),this.po.forEach(t=>{t.S&&t.S()}),this.c_.m()}M_(){return this.u_}x_(t){this.u_=t}$t(){return this.$i}Hi(){return this.__}At(){return this.ho}S_(t){this.__=t,this.k_()}Lo(t){this.ho=t,this.f_.Lo(t),this.p_.Lo(t),this.po.forEach(e=>{if(this.vr(e)){const n=e.Dt();n!==null&&n.Lo(t)}}),this.k_()}Ba(){return this.po}vr(t){const e=t.Dt();return e===null||this.f_!==e&&this.p_!==e}qo(t,e,n){const s=n!==void 0?n:this.C_().y_+1;this.T_(t,e,s)}Zo(t){const e=this.po.indexOf(t);Cn(e!==-1,"removeDataSource: invalid data source"),this.po.splice(e,1);const n=E(t.Dt()).Pa();if(this.o_.has(n)){const r=ne(this.o_.get(n)),o=r.indexOf(t);o!==-1&&(r.splice(o,1),r.length===0&&this.o_.delete(n))}const s=t.Dt();s&&s.Ba().indexOf(t)>=0&&s.Zo(t),s!==null&&(s.Yo(),this.P_(s)),this.mo=null}mr(t){return t===this.f_?"left":t===this.p_?"right":"overlay"}R_(){return this.f_}D_(){return this.p_}V_(t,e){t.Go(e)}O_(t,e){t.Jo(e),this.k_()}B_(t){t.Qo()}A_(t,e){t.t_(e)}I_(t,e){t.i_(e),this.k_()}z_(t){t.n_()}k_(){this.po.forEach(t=>{t.Vn()})}vn(){let t=null;return this.$i.W().rightPriceScale.visible&&this.p_.Ba().length!==0?t=this.p_:this.$i.W().leftPriceScale.visible&&this.f_.Ba().length!==0?t=this.f_:this.po.length!==0&&(t=this.po[0].Dt()),t===null&&(t=this.p_),t}pr(){let t=null;return this.$i.W().rightPriceScale.visible?t=this.p_:this.$i.W().leftPriceScale.visible&&(t=this.f_),t}P_(t){t!==null&&t.Vo()&&this.L_(t)}E_(t){const e=this.yl.Xs();t.Ro({Wn:!0}),e!==null&&t.h_(e),this.k_()}N_(){this.L_(this.f_),this.L_(this.p_)}F_(){this.P_(this.f_),this.P_(this.p_),this.po.forEach(t=>{this.vr(t)&&this.P_(t.Dt())}),this.k_(),this.$i.Uh()}Uo(){return this.mo===null&&(this.mo=vw(this.po)),this.mo}W_(){return this.c_}j_(){return this.d_}L_(t){const e=t.r_();if(e&&e.length>0&&!this.yl.Ni()){const n=this.yl.Xs();n!==null&&t.h_(n)}t.Vn()}C_(){const t=this.Uo();if(t.length===0)return{H_:0,y_:0};let e=0,n=0;for(let s=0;s<t.length;s++){const r=t[s].Xi();r!==null&&(r<e&&(e=r),r>n&&(n=r))}return{H_:e,y_:n}}T_(t,e,n){let s=this.w_(e);if(s===null&&(s=this.v_(e,this.$i.W().overlayPriceScales)),this.po.push(t),!du(e)){const r=this.o_.get(e)||[];r.push(t),this.o_.set(e,r)}s.qo(t),t.Gi(s),t.Ki(n),this.P_(s),this.mo=null}m_(t,e,n){e.Cr!==n.Cr&&this.L_(t)}v_(t,e){const n=Object.assign({visible:!0,autoScale:!0},Ai(e)),s=new CM(t,n,this.$i.W().layout,this.$i.W().localization);return s.Lo(this.At()),s}}class NM{constructor(t,e,n=50){this.Ke=0,this.Ge=1,this.Je=1,this.tr=new Map,this.Qe=new Map,this.U_=t,this.q_=e,this.ir=n}Y_(t){const e=t.time,n=this.q_.cacheKey(e),s=this.tr.get(n);if(s!==void 0)return s.Z_;if(this.Ke===this.ir){const o=this.Qe.get(this.Je);this.Qe.delete(this.Je),this.tr.delete(ne(o)),this.Je++,this.Ke--}const r=this.U_(t);return this.tr.set(n,{Z_:r,rr:this.Ge}),this.Qe.set(this.Ge,n),this.Ke++,this.Ge++,r}}class Kr{constructor(t,e){Cn(t<=e,"right should be >= left"),this.X_=t,this.K_=e}Os(){return this.X_}ui(){return this.K_}G_(){return this.K_-this.X_+1}Kr(t){return this.X_<=t&&t<=this.K_}Ch(t){return this.X_===t.Os()&&this.K_===t.ui()}}function ym(i,t){return i===null||t===null?i===t:i.Ch(t)}class TM{constructor(){this.J_=new Map,this.tr=null,this.Q_=!1}tu(t){this.Q_=t,this.tr=null}iu(t,e){this.nu(e),this.tr=null;for(let n=e;n<t.length;++n){const s=t[n];let r=this.J_.get(s.timeWeight);r===void 0&&(r=[],this.J_.set(s.timeWeight,r)),r.push({index:n,time:s.time,weight:s.timeWeight,originalTime:s.originalTime})}}su(t,e){const n=Math.ceil(e/t);return this.tr!==null&&this.tr.eu===n||(this.tr={Ha:this.ru(n),eu:n}),this.tr.Ha}nu(t){if(t===0)return void this.J_.clear();const e=[];this.J_.forEach((n,s)=>{t<=n[0].index?e.push(s):n.splice(Fo(n,t,r=>r.index<t),1/0)});for(const n of e)this.J_.delete(n)}ru(t){let e=[];for(const n of Array.from(this.J_.keys()).sort((s,r)=>r-s)){if(!this.J_.get(n))continue;const s=e;e=[];const r=s.length;let o=0;const l=ne(this.J_.get(n)),a=l.length;let u=1/0,h=-1/0;for(let c=0;c<a;c++){const f=l[c],d=f.index;for(;o<r;){const y=s[o],v=y.index;if(!(v<d)){u=v;break}o++,e.push(y),h=v,u=1/0}if(u-d>=t&&d-h>=t)e.push(f),h=d;else if(this.Q_)return s}for(;o<r;o++)e.push(s[o])}return e}}class Ks{constructor(t){this.hu=t}lu(){return this.hu===null?null:new Kr(Math.floor(this.hu.Os()),Math.ceil(this.hu.ui()))}au(){return this.hu}static ou(){return new Ks(null)}}function BM(i,t){return i.weight>t.weight?i:t}class OM{constructor(t,e,n,s){this.__=0,this._u=null,this.uu=[],this.Mo=null,this.wo=null,this.cu=new TM,this.du=new Map,this.fu=Ks.ou(),this.vu=!0,this.pu=new Ot,this.mu=new Ot,this.bu=new Ot,this.wu=null,this.gu=null,this.Mu=[],this.cn=e,this.yo=n,this.xu=e.rightOffset,this.Su=e.barSpacing,this.$i=t,this.q_=s,this.ku(),this.cu.tu(e.uniformDistribution)}W(){return this.cn}yu(t){ei(this.yo,t),this.Cu(),this.ku()}$h(t,e){var n;ei(this.cn,t),this.cn.fixLeftEdge&&this.Tu(),this.cn.fixRightEdge&&this.Pu(),t.barSpacing!==void 0&&this.$i.Gn(t.barSpacing),t.rightOffset!==void 0&&this.$i.Jn(t.rightOffset),t.minBarSpacing!==void 0&&this.$i.Gn((n=t.barSpacing)!==null&&n!==void 0?n:this.Su),this.Cu(),this.ku(),this.bu.m()}mn(t){var e,n;return(n=(e=this.uu[t])===null||e===void 0?void 0:e.time)!==null&&n!==void 0?n:null}Ui(t){var e;return(e=this.uu[t])!==null&&e!==void 0?e:null}Va(t,e){if(this.uu.length<1)return null;if(this.q_.key(t)>this.q_.key(this.uu[this.uu.length-1].time))return e?this.uu.length-1:null;const n=Fo(this.uu,this.q_.key(t),(s,r)=>this.q_.key(s.time)<r);return this.q_.key(t)<this.q_.key(this.uu[n].time)?e?n:null:n}Ni(){return this.__===0||this.uu.length===0||this._u===null}Da(){return this.uu.length>0}Xs(){return this.Ru(),this.fu.lu()}Du(){return this.Ru(),this.fu.au()}Vu(){const t=this.Xs();if(t===null)return null;const e={from:t.Os(),to:t.ui()};return this.Ou(e)}Ou(t){const e=Math.round(t.from),n=Math.round(t.to),s=E(this.Bu()),r=E(this.Au());return{from:E(this.Ui(Math.max(s,e))),to:E(this.Ui(Math.min(r,n)))}}Iu(t){return{from:E(this.Va(t.from,!0)),to:E(this.Va(t.to,!0))}}Hi(){return this.__}S_(t){if(!isFinite(t)||t<=0||this.__===t)return;const e=this.Du(),n=this.__;if(this.__=t,this.vu=!0,this.cn.lockVisibleTimeRangeOnResize&&n!==0){const s=this.Su*t/n;this.Su=s}if(this.cn.fixLeftEdge&&e!==null&&e.Os()<=0){const s=n-t;this.xu-=Math.round(s/this.Su)+1,this.vu=!0}this.zu(),this.Lu()}It(t){if(this.Ni()||!wo(t))return 0;const e=this.Eu()+this.xu-t;return this.__-(e+.5)*this.Su-1}Qs(t,e){const n=this.Eu(),s=e===void 0?0:e.from,r=e===void 0?t.length:e.to;for(let o=s;o<r;o++){const l=t[o].ot,a=n+this.xu-l,u=this.__-(a+.5)*this.Su-1;t[o].nt=u}}Nu(t){return Math.ceil(this.Fu(t))}Jn(t){this.vu=!0,this.xu=t,this.Lu(),this.$i.Wu(),this.$i.Uh()}le(){return this.Su}Gn(t){this.ju(t),this.Lu(),this.$i.Wu(),this.$i.Uh()}Hu(){return this.xu}Ha(){if(this.Ni())return null;if(this.gu!==null)return this.gu;const t=this.Su,e=5*(this.$i.W().layout.fontSize+4)/8*(this.cn.tickMarkMaxCharacterLength||8),n=Math.round(e/t),s=E(this.Xs()),r=Math.max(s.Os(),s.Os()-n),o=Math.max(s.ui(),s.ui()-n),l=this.cu.su(t,e),a=this.Bu()+n,u=this.Au()-n,h=this.$u(),c=this.cn.fixLeftEdge||h,f=this.cn.fixRightEdge||h;let d=0;for(const y of l){if(!(r<=y.index&&y.index<=o))continue;let v;d<this.Mu.length?(v=this.Mu[d],v.coord=this.It(y.index),v.label=this.Uu(y),v.weight=y.weight):(v={needAlignCoordinate:!1,coord:this.It(y.index),label:this.Uu(y),weight:y.weight},this.Mu.push(v)),this.Su>e/2&&!h?v.needAlignCoordinate=!1:v.needAlignCoordinate=c&&y.index<=a||f&&y.index>=u,d++}return this.Mu.length=d,this.gu=this.Mu,this.Mu}qu(){this.vu=!0,this.Gn(this.cn.barSpacing),this.Jn(this.cn.rightOffset)}Yu(t){this.vu=!0,this._u=t,this.Lu(),this.Tu()}Zu(t,e){const n=this.Fu(t),s=this.le(),r=s+e*(s/10);this.Gn(r),this.cn.rightBarStaysOnScroll||this.Jn(this.Hu()+(n-this.Fu(t)))}Go(t){this.Mo&&this.n_(),this.wo===null&&this.wu===null&&(this.Ni()||(this.wo=t,this.Xu()))}Jo(t){if(this.wu===null)return;const e=_c(this.__-t,0,this.__),n=_c(this.__-E(this.wo),0,this.__);e!==0&&n!==0&&this.Gn(this.wu.le*e/n)}Qo(){this.wo!==null&&(this.wo=null,this.Ku())}t_(t){this.Mo===null&&this.wu===null&&(this.Ni()||(this.Mo=t,this.Xu()))}i_(t){if(this.Mo===null)return;const e=(this.Mo-t)/this.le();this.xu=E(this.wu).Hu+e,this.vu=!0,this.Lu()}n_(){this.Mo!==null&&(this.Mo=null,this.Ku())}Gu(){this.Ju(this.cn.rightOffset)}Ju(t,e=400){if(!isFinite(t))throw new RangeError("offset is required and must be finite number");if(!isFinite(e)||e<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const n=this.xu,s=performance.now();this.$i.Zn({Qu:r=>(r-s)/e>=1,tc:r=>{const o=(r-s)/e;return o>=1?t:n+(t-n)*o}})}bt(t,e){this.vu=!0,this.uu=t,this.cu.iu(t,e),this.Lu()}nc(){return this.pu}sc(){return this.mu}ec(){return this.bu}Eu(){return this._u||0}rc(t){const e=t.G_();this.ju(this.__/e),this.xu=t.ui()-this.Eu(),this.Lu(),this.vu=!0,this.$i.Wu(),this.$i.Uh()}hc(){const t=this.Bu(),e=this.Au();t!==null&&e!==null&&this.rc(new Kr(t,e+this.cn.rightOffset))}lc(t){const e=new Kr(t.from,t.to);this.rc(e)}qi(t){return this.yo.timeFormatter!==void 0?this.yo.timeFormatter(t.originalTime):this.q_.formatHorzItem(t.time)}$u(){const{handleScroll:t,handleScale:e}=this.$i.W();return!(t.horzTouchDrag||t.mouseWheel||t.pressedMouseMove||t.vertTouchDrag||e.axisDoubleClickReset.time||e.axisPressedMouseMove.time||e.mouseWheel||e.pinch)}Bu(){return this.uu.length===0?null:0}Au(){return this.uu.length===0?null:this.uu.length-1}ac(t){return(this.__-1-t)/this.Su}Fu(t){const e=this.ac(t),n=this.Eu()+this.xu-e;return Math.round(1e6*n)/1e6}ju(t){const e=this.Su;this.Su=t,this.zu(),e!==this.Su&&(this.vu=!0,this.oc())}Ru(){if(!this.vu)return;if(this.vu=!1,this.Ni())return void this._c(Ks.ou());const t=this.Eu(),e=this.__/this.Su,n=this.xu+t,s=new Kr(n-e+1,n);this._c(new Ks(s))}zu(){const t=this.uc();if(this.Su<t&&(this.Su=t,this.vu=!0),this.__!==0){const e=.5*this.__;this.Su>e&&(this.Su=e,this.vu=!0)}}uc(){return this.cn.fixLeftEdge&&this.cn.fixRightEdge&&this.uu.length!==0?this.__/this.uu.length:this.cn.minBarSpacing}Lu(){const t=this.cc();t!==null&&this.xu<t&&(this.xu=t,this.vu=!0);const e=this.dc();this.xu>e&&(this.xu=e,this.vu=!0)}cc(){const t=this.Bu(),e=this._u;return t===null||e===null?null:t-e-1+(this.cn.fixLeftEdge?this.__/this.Su:Math.min(2,this.uu.length))}dc(){return this.cn.fixRightEdge?0:this.__/this.Su-Math.min(2,this.uu.length)}Xu(){this.wu={le:this.le(),Hu:this.Hu()}}Ku(){this.wu=null}Uu(t){let e=this.du.get(t.weight);return e===void 0&&(e=new NM(n=>this.fc(n),this.q_),this.du.set(t.weight,e)),e.Y_(t)}fc(t){return this.q_.formatTickmark(t,this.yo)}_c(t){const e=this.fu;this.fu=t,ym(e.lu(),this.fu.lu())||this.pu.m(),ym(e.au(),this.fu.au())||this.mu.m(),this.oc()}oc(){this.gu=null}Cu(){this.oc(),this.du.clear()}ku(){this.q_.updateFormatter(this.yo)}Tu(){if(!this.cn.fixLeftEdge)return;const t=this.Bu();if(t===null)return;const e=this.Xs();if(e===null)return;const n=e.Os()-t;if(n<0){const s=this.xu-n-1;this.Jn(s)}this.zu()}Pu(){this.Lu(),this.zu()}}class zM{X(t,e,n){t.useMediaCoordinateSpace(s=>this.K(s,e,n))}gl(t,e,n){t.useMediaCoordinateSpace(s=>this.vc(s,e,n))}vc(t,e,n){}}class DM extends zM{constructor(t){super(),this.mc=new Map,this.zt=t}K(t){}vc(t){if(!this.zt.yt)return;const{context:e,mediaSize:n}=t;let s=0;for(const o of this.zt.bc){if(o.Kt.length===0)continue;e.font=o.R;const l=this.wc(e,o.Kt);l>n.width?o.Zu=n.width/l:o.Zu=1,s+=o.gc*o.Zu}let r=0;switch(this.zt.Mc){case"top":r=0;break;case"center":r=Math.max((n.height-s)/2,0);break;case"bottom":r=Math.max(n.height-s,0)}e.fillStyle=this.zt.V;for(const o of this.zt.bc){e.save();let l=0;switch(this.zt.xc){case"left":e.textAlign="left",l=o.gc/2;break;case"center":e.textAlign="center",l=n.width/2;break;case"right":e.textAlign="right",l=n.width-1-o.gc/2}e.translate(l,r),e.textBaseline="top",e.font=o.R,e.scale(o.Zu,o.Zu),e.fillText(o.Kt,0,o.Sc),e.restore(),r+=o.gc*o.Zu}}wc(t,e){const n=this.kc(t.font);let s=n.get(e);return s===void 0&&(s=t.measureText(e).width,n.set(e,s)),s}kc(t){let e=this.mc.get(t);return e===void 0&&(e=new Map,this.mc.set(t,e)),e}}class LM{constructor(t){this.ft=!0,this.Ft={yt:!1,V:"",bc:[],Mc:"center",xc:"center"},this.Wt=new DM(this.Ft),this.jt=t}bt(){this.ft=!0}gt(){return this.ft&&(this.Mt(),this.ft=!1),this.Wt}Mt(){const t=this.jt.W(),e=this.Ft;e.yt=t.visible,e.yt&&(e.V=t.color,e.xc=t.horzAlign,e.Mc=t.vertAlign,e.bc=[{Kt:t.text,R:lr(t.fontSize,t.fontFamily,t.fontStyle),gc:1.2*t.fontSize,Sc:0,Zu:0}])}}class FM extends sd{constructor(t,e){super(),this.cn=e,this.wn=new LM(this)}Rn(){return[]}Pn(){return[this.wn]}W(){return this.cn}Vn(){this.wn.bt()}}var vm,gm,wm,bm,_m;(function(i){i[i.OnTouchEnd=0]="OnTouchEnd",i[i.OnNextTap=1]="OnNextTap"})(vm||(vm={}));class RM{constructor(t,e,n){this.yc=[],this.Cc=[],this.__=0,this.Tc=null,this.Pc=new Ot,this.Rc=new Ot,this.Dc=null,this.Vc=t,this.cn=e,this.q_=n,this.Oc=new m2(this),this.yl=new OM(this,e.timeScale,this.cn.localization,n),this.vt=new E2(this,e.crosshair),this.Bc=new _M(e.crosshair),this.Ac=new FM(this,e.watermark),this.Ic(),this.yc[0].x_(2e3),this.zc=this.Lc(0),this.Ec=this.Lc(1)}Kl(){this.Nc(Wt.es())}Uh(){this.Nc(Wt.ss())}oa(){this.Nc(new Wt(1))}Gl(t){const e=this.Fc(t);this.Nc(e)}Wc(){return this.Tc}jc(t){const e=this.Tc;this.Tc=t,e!==null&&this.Gl(e.Hc),t!==null&&this.Gl(t.Hc)}W(){return this.cn}$h(t){ei(this.cn,t),this.yc.forEach(e=>e.b_(t)),t.timeScale!==void 0&&this.yl.$h(t.timeScale),t.localization!==void 0&&this.yl.yu(t.localization),(t.leftPriceScale||t.rightPriceScale)&&this.Pc.m(),this.zc=this.Lc(0),this.Ec=this.Lc(1),this.Kl()}$c(t,e){if(t==="left")return void this.$h({leftPriceScale:e});if(t==="right")return void this.$h({rightPriceScale:e});const n=this.Uc(t);n!==null&&(n.Dt.$h(e),this.Pc.m())}Uc(t){for(const e of this.yc){const n=e.w_(t);if(n!==null)return{Ht:e,Dt:n}}return null}St(){return this.yl}qc(){return this.yc}Yc(){return this.Ac}Zc(){return this.vt}Xc(){return this.Rc}Kc(t,e){t.Lo(e),this.Wu()}S_(t){this.__=t,this.yl.S_(this.__),this.yc.forEach(e=>e.S_(t)),this.Wu()}Ic(t){const e=new kM(this.yl,this);t!==void 0?this.yc.splice(t,0,e):this.yc.push(e);const n=t===void 0?this.yc.length-1:t,s=Wt.es();return s.Nn(n,{Fn:0,Wn:!0}),this.Nc(s),e}V_(t,e,n){t.V_(e,n)}O_(t,e,n){t.O_(e,n),this.Jl(),this.Nc(this.Gc(t,2))}B_(t,e){t.B_(e),this.Nc(this.Gc(t,2))}A_(t,e,n){e.Vo()||t.A_(e,n)}I_(t,e,n){e.Vo()||(t.I_(e,n),this.Jl(),this.Nc(this.Gc(t,2)))}z_(t,e){e.Vo()||(t.z_(e),this.Nc(this.Gc(t,2)))}E_(t,e){t.E_(e),this.Nc(this.Gc(t,2))}Jc(t){this.yl.Go(t)}Qc(t,e){const n=this.St();if(n.Ni()||e===0)return;const s=n.Hi();t=Math.max(1,Math.min(t,s)),n.Zu(t,e),this.Wu()}td(t){this.nd(0),this.sd(t),this.ed()}rd(t){this.yl.Jo(t),this.Wu()}hd(){this.yl.Qo(),this.Uh()}nd(t){this.yl.t_(t)}sd(t){this.yl.i_(t),this.Wu()}ed(){this.yl.n_(),this.Uh()}wt(){return this.Cc}ld(t,e,n,s,r){this.vt.gn(t,e);let o=NaN,l=this.yl.Nu(t);const a=this.yl.Xs();a!==null&&(l=Math.min(Math.max(a.Os(),l),a.ui()));const u=s.vn(),h=u.Ct();h!==null&&(o=u.pn(e,h)),o=this.Bc.Oa(o,l,s),this.vt.kn(l,o,s),this.oa(),r||this.Rc.m(this.vt.xt(),{x:t,y:e},n)}ad(t,e,n){const s=n.vn(),r=s.Ct(),o=s.Rt(t,E(r)),l=this.yl.Va(e,!0),a=this.yl.It(E(l));this.ld(a,o,null,n,!0)}od(t){this.Zc().Cn(),this.oa(),t||this.Rc.m(null,null,null)}Jl(){const t=this.vt.Ht();if(t!==null){const e=this.vt.xn(),n=this.vt.Sn();this.ld(e,n,null,t)}this.vt.Vn()}_d(t,e,n){const s=this.yl.mn(0);e!==void 0&&n!==void 0&&this.yl.bt(e,n);const r=this.yl.mn(0),o=this.yl.Eu(),l=this.yl.Xs();if(l!==null&&s!==null&&r!==null){const a=l.Kr(o),u=this.q_.key(s)>this.q_.key(r),h=t!==null&&t>o&&!u,c=this.yl.W().allowShiftVisibleRangeOnWhitespaceReplacement,f=a&&(n!==void 0||c)&&this.yl.W().shiftVisibleRangeOnNewBar;if(h&&!f){const d=t-o;this.yl.Jn(this.yl.Hu()-d)}}this.yl.Yu(t)}ia(t){t!==null&&t.F_()}dr(t){const e=this.yc.find(n=>n.Uo().includes(t));return e===void 0?null:e}Wu(){this.Ac.Vn(),this.yc.forEach(t=>t.F_()),this.Jl()}S(){this.yc.forEach(t=>t.S()),this.yc.length=0,this.cn.localization.priceFormatter=void 0,this.cn.localization.percentageFormatter=void 0,this.cn.localization.timeFormatter=void 0}ud(){return this.Oc}br(){return this.Oc.W()}g_(){return this.Pc}dd(t,e,n){const s=this.yc[0],r=this.fd(e,t,s,n);return this.Cc.push(r),this.Cc.length===1?this.Kl():this.Uh(),r}vd(t){const e=this.dr(t),n=this.Cc.indexOf(t);Cn(n!==-1,"Series not found"),this.Cc.splice(n,1),E(e).Zo(t),t.S&&t.S()}Xl(t,e){const n=E(this.dr(t));n.Zo(t);const s=this.Uc(e);if(s===null){const r=t.Xi();n.qo(t,e,r)}else{const r=s.Ht===n?t.Xi():void 0;s.Ht.qo(t,e,r)}}hc(){const t=Wt.ss();t.$n(),this.Nc(t)}pd(t){const e=Wt.ss();e.Yn(t),this.Nc(e)}Kn(){const t=Wt.ss();t.Kn(),this.Nc(t)}Gn(t){const e=Wt.ss();e.Gn(t),this.Nc(e)}Jn(t){const e=Wt.ss();e.Jn(t),this.Nc(e)}Zn(t){const e=Wt.ss();e.Zn(t),this.Nc(e)}Un(){const t=Wt.ss();t.Un(),this.Nc(t)}md(){return this.cn.rightPriceScale.visible?"right":"left"}bd(){return this.Ec}q(){return this.zc}Bt(t){const e=this.Ec,n=this.zc;if(e===n)return e;if(t=Math.max(0,Math.min(100,Math.round(100*t))),this.Dc===null||this.Dc.Ps!==n||this.Dc.Rs!==e)this.Dc={Ps:n,Rs:e,wd:new Map};else{const r=this.Dc.wd.get(t);if(r!==void 0)return r}const s=function(r,o,l){const[a,u,h,c]=go(r),[f,d,y,v]=go(o),x=[Le(a+l*(f-a)),Le(u+l*(d-u)),Le(h+l*(y-h)),Zg(c+l*(v-c))];return`rgba(${x[0]}, ${x[1]}, ${x[2]}, ${x[3]})`}(n,e,t/100);return this.Dc.wd.set(t,s),s}Gc(t,e){const n=new Wt(e);if(t!==null){const s=this.yc.indexOf(t);n.Nn(s,{Fn:e})}return n}Fc(t,e){return e===void 0&&(e=2),this.Gc(this.dr(t),e)}Nc(t){this.Vc&&this.Vc(t),this.yc.forEach(e=>e.j_().qh().bt())}fd(t,e,n,s){const r=new ad(this,t,e,n,s),o=t.priceScaleId!==void 0?t.priceScaleId:this.md();return n.qo(r,o),du(o)||r.$h(t),r}Lc(t){const e=this.cn.layout;return e.background.type==="gradient"?t===0?e.background.topColor:e.background.bottomColor:e.background.color}}function Sc(i){return!_i(i)&&!Lo(i)}function gw(i){return _i(i)}(function(i){i[i.Disabled=0]="Disabled",i[i.Continuous=1]="Continuous",i[i.OnDataUpdate=2]="OnDataUpdate"})(gm||(gm={})),function(i){i[i.LastBar=0]="LastBar",i[i.LastVisible=1]="LastVisible"}(wm||(wm={})),function(i){i.Solid="solid",i.VerticalGradient="gradient"}(bm||(bm={})),function(i){i[i.Year=0]="Year",i[i.Month=1]="Month",i[i.DayOfMonth=2]="DayOfMonth",i[i.Time=3]="Time",i[i.TimeWithSeconds=4]="TimeWithSeconds"}(_m||(_m={}));const Sm=i=>i.getUTCFullYear();function AM(i,t,e){return t.replace(/yyyy/g,(n=>Pi(Sm(n),4))(i)).replace(/yy/g,(n=>Pi(Sm(n)%100,2))(i)).replace(/MMMM/g,((n,s)=>new Date(n.getUTCFullYear(),n.getUTCMonth(),1).toLocaleString(s,{month:"long"}))(i,e)).replace(/MMM/g,((n,s)=>new Date(n.getUTCFullYear(),n.getUTCMonth(),1).toLocaleString(s,{month:"short"}))(i,e)).replace(/MM/g,(n=>Pi((s=>s.getUTCMonth()+1)(n),2))(i)).replace(/dd/g,(n=>Pi((s=>s.getUTCDate())(n),2))(i))}class ww{constructor(t="yyyy-MM-dd",e="default"){this.gd=t,this.Md=e}Y_(t){return AM(t,this.gd,this.Md)}}class PM{constructor(t){this.xd=t||"%h:%m:%s"}Y_(t){return this.xd.replace("%h",Pi(t.getUTCHours(),2)).replace("%m",Pi(t.getUTCMinutes(),2)).replace("%s",Pi(t.getUTCSeconds(),2))}}const $M={Sd:"yyyy-MM-dd",kd:"%h:%m:%s",yd:" ",Cd:"default"};class VM{constructor(t={}){const e=Object.assign(Object.assign({},$M),t);this.Td=new ww(e.Sd,e.Cd),this.Pd=new PM(e.kd),this.Rd=e.yd}Y_(t){return`${this.Td.Y_(t)}${this.Rd}${this.Pd.Y_(t)}`}}function ll(i){return 60*i*60*1e3}function nh(i){return 60*i*1e3}const al=[{Dd:(xm=1,1e3*xm),Vd:10},{Dd:nh(1),Vd:20},{Dd:nh(5),Vd:21},{Dd:nh(30),Vd:22},{Dd:ll(1),Vd:30},{Dd:ll(3),Vd:31},{Dd:ll(6),Vd:32},{Dd:ll(12),Vd:33}];var xm;function Mm(i,t){if(i.getUTCFullYear()!==t.getUTCFullYear())return 70;if(i.getUTCMonth()!==t.getUTCMonth())return 60;if(i.getUTCDate()!==t.getUTCDate())return 50;for(let e=al.length-1;e>=0;--e)if(Math.floor(t.getTime()/al[e].Dd)!==Math.floor(i.getTime()/al[e].Dd))return al[e].Vd;return 0}function sh(i){let t=i;if(Lo(i)&&(t=ud(i)),!Sc(t))throw new Error("time must be of type BusinessDay");const e=new Date(Date.UTC(t.year,t.month-1,t.day,0,0,0,0));return{Od:Math.round(e.getTime()/1e3),Bd:t}}function Im(i){if(!gw(i))throw new Error("time must be of type isUTCTimestamp");return{Od:i}}function ud(i){const t=new Date(i);if(isNaN(t.getTime()))throw new Error(`Invalid date string=${i}, expected format=yyyy-mm-dd`);return{day:t.getUTCDate(),month:t.getUTCMonth()+1,year:t.getUTCFullYear()}}function Em(i){Lo(i.time)&&(i.time=ud(i.time))}class Cm{options(){return this.cn}setOptions(t){this.cn=t,this.updateFormatter(t.localization)}preprocessData(t){Array.isArray(t)?function(e){e.forEach(Em)}(t):Em(t)}createConverterToInternalObj(t){return E(function(e){return e.length===0?null:Sc(e[0].time)||Lo(e[0].time)?sh:Im}(t))}key(t){return typeof t=="object"&&"Od"in t?t.Od:this.key(this.convertHorzItemToInternal(t))}cacheKey(t){const e=t;return e.Bd===void 0?new Date(1e3*e.Od).getTime():new Date(Date.UTC(e.Bd.year,e.Bd.month-1,e.Bd.day)).getTime()}convertHorzItemToInternal(t){return gw(e=t)?Im(e):Sc(e)?sh(e):sh(ud(e));var e}updateFormatter(t){if(!this.cn)return;const e=t.dateFormat;this.cn.timeScale.timeVisible?this.Ad=new VM({Sd:e,kd:this.cn.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",yd:"   ",Cd:t.locale}):this.Ad=new ww(e,t.locale)}formatHorzItem(t){const e=t;return this.Ad.Y_(new Date(1e3*e.Od))}formatTickmark(t,e){const n=function(r,o,l){switch(r){case 0:case 10:return o?l?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return o?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(t.weight,this.cn.timeScale.timeVisible,this.cn.timeScale.secondsVisible),s=this.cn.timeScale;if(s.tickMarkFormatter!==void 0){const r=s.tickMarkFormatter(t.originalTime,n,e.locale);if(r!==null)return r}return function(r,o,l){const a={};switch(o){case 0:a.year="numeric";break;case 1:a.month="short";break;case 2:a.day="numeric";break;case 3:a.hour12=!1,a.hour="2-digit",a.minute="2-digit";break;case 4:a.hour12=!1,a.hour="2-digit",a.minute="2-digit",a.second="2-digit"}const u=r.Bd===void 0?new Date(1e3*r.Od):new Date(Date.UTC(r.Bd.year,r.Bd.month-1,r.Bd.day));return new Date(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate(),u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()).toLocaleString(l,a)}(t.time,n,e.locale)}maxTickMarkWeight(t){let e=t.reduce(BM,t[0]).weight;return e>30&&e<50&&(e=30),e}fillWeightsForPoints(t,e){(function(n,s=0){if(n.length===0)return;let r=s===0?null:n[s-1].time.Od,o=r!==null?new Date(1e3*r):null,l=0;for(let a=s;a<n.length;++a){const u=n[a],h=new Date(1e3*u.time.Od);o!==null&&(u.timeWeight=Mm(h,o)),l+=u.time.Od-(r||u.time.Od),r=u.time.Od,o=h}if(s===0&&n.length>1){const a=Math.ceil(l/(n.length-1)),u=new Date(1e3*(n[0].time.Od-a));n[0].timeWeight=Mm(new Date(1e3*n[0].time.Od),u)}})(t,e)}static Id(t){return ei({localization:{dateFormat:"dd MMM 'yy"}},t??{})}}const ar=typeof window<"u";function km(){return!!ar&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function rh(){return!!ar&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function xc(i){return i+i%2}function oh(i,t){return i.zd-t.zd}function lh(i,t,e){const n=(i.zd-t.zd)/(i.ot-t.ot);return Math.sign(n)*Math.min(Math.abs(n),e)}class UM{constructor(t,e,n,s){this.Ld=null,this.Ed=null,this.Nd=null,this.Fd=null,this.Wd=null,this.jd=0,this.Hd=0,this.$d=t,this.Ud=e,this.qd=n,this.rs=s}Yd(t,e){if(this.Ld!==null){if(this.Ld.ot===e)return void(this.Ld.zd=t);if(Math.abs(this.Ld.zd-t)<this.rs)return}this.Fd=this.Nd,this.Nd=this.Ed,this.Ed=this.Ld,this.Ld={ot:e,zd:t}}Vr(t,e){if(this.Ld===null||this.Ed===null||e-this.Ld.ot>50)return;let n=0;const s=lh(this.Ld,this.Ed,this.Ud),r=oh(this.Ld,this.Ed),o=[s],l=[r];if(n+=r,this.Nd!==null){const u=lh(this.Ed,this.Nd,this.Ud);if(Math.sign(u)===Math.sign(s)){const h=oh(this.Ed,this.Nd);if(o.push(u),l.push(h),n+=h,this.Fd!==null){const c=lh(this.Nd,this.Fd,this.Ud);if(Math.sign(c)===Math.sign(s)){const f=oh(this.Nd,this.Fd);o.push(c),l.push(f),n+=f}}}}let a=0;for(let u=0;u<o.length;++u)a+=l[u]/n*o[u];Math.abs(a)<this.$d||(this.Wd={zd:t,ot:e},this.Hd=a,this.jd=function(u,h){const c=Math.log(h);return Math.log(1*c/-u)/c}(Math.abs(a),this.qd))}tc(t){const e=E(this.Wd),n=t-e.ot;return e.zd+this.Hd*(Math.pow(this.qd,n)-1)/Math.log(this.qd)}Qu(t){return this.Wd===null||this.Zd(t)===this.jd}Zd(t){const e=t-E(this.Wd).ot;return Math.min(e,this.jd)}}class jM{constructor(t,e){this.Xd=void 0,this.Kd=void 0,this.Gd=void 0,this.en=!1,this.Jd=t,this.Qd=e,this.tf()}bt(){this.tf()}if(){this.Xd&&this.Jd.removeChild(this.Xd),this.Kd&&this.Jd.removeChild(this.Kd),this.Xd=void 0,this.Kd=void 0}nf(){return this.en!==this.sf()||this.Gd!==this.ef()}ef(){return tw(go(this.Qd.W().layout.textColor))>160?"dark":"light"}sf(){return this.Qd.W().layout.attributionLogo}rf(){const t=new URL(location.href);return t.hostname?"&utm_source="+t.hostname+t.pathname:""}tf(){this.nf()&&(this.if(),this.en=this.sf(),this.en&&(this.Gd=this.ef(),this.Kd=document.createElement("style"),this.Kd.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Xd=document.createElement("a"),this.Xd.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.rf()}`,this.Xd.title="Charting by TradingView",this.Xd.id="tv-attr-logo",this.Xd.target="_blank",this.Xd.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 35 19" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Xd.toggleAttribute("data-dark",this.Gd==="dark"),this.Jd.appendChild(this.Kd),this.Jd.appendChild(this.Xd)))}}function ls(i,t){const e=E(i.ownerDocument).createElement("canvas");i.appendChild(e);const n=t2(e,{options:{allowResizeObserver:!1},transform:(s,r)=>({width:Math.max(s.width,r.width),height:Math.max(s.height,r.height)})});return n.resizeCanvasElement(t),n}function as(i){var t;i.width=1,i.height=1,(t=i.getContext("2d"))===null||t===void 0||t.clearRect(0,0,1,1)}function Mc(i,t,e,n){i.gl&&i.gl(t,e,n)}function Ol(i,t,e,n){i.X(t,e,n)}function Ic(i,t,e,n){const s=i(e,n);for(const r of s){const o=r.gt();o!==null&&t(o)}}function WM(i){ar&&window.chrome!==void 0&&i.addEventListener("mousedown",t=>{if(t.button===1)return t.preventDefault(),!1})}class hd{constructor(t,e,n){this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY},this.df=null,this.ff=!1,this.vf=null,this.pf=null,this.mf=!1,this.bf=!1,this.wf=!1,this.gf=null,this.Mf=null,this.xf=null,this.Sf=null,this.kf=null,this.yf=null,this.Cf=null,this.Tf=0,this.Pf=!1,this.Rf=!1,this.Df=!1,this.Vf=0,this.Of=null,this.Bf=!rh(),this.Af=s=>{this.If(s)},this.zf=s=>{if(this.Lf(s)){const r=this.Ef(s);if(++this._f,this.uf&&this._f>1){const{Nf:o}=this.Ff(li(s),this.cf);o<30&&!this.wf&&this.Wf(r,this.Hf.jf),this.$f()}}else{const r=this.Ef(s);if(++this.hf,this.lf&&this.hf>1){const{Nf:o}=this.Ff(li(s),this.af);o<5&&!this.bf&&this.Uf(r,this.Hf.qf),this.Yf()}}},this.Zf=t,this.Hf=e,this.cn=n,this.Xf()}S(){this.gf!==null&&(this.gf(),this.gf=null),this.Mf!==null&&(this.Mf(),this.Mf=null),this.Sf!==null&&(this.Sf(),this.Sf=null),this.kf!==null&&(this.kf(),this.kf=null),this.yf!==null&&(this.yf(),this.yf=null),this.xf!==null&&(this.xf(),this.xf=null),this.Kf(),this.Yf()}Gf(t){this.Sf&&this.Sf();const e=this.Jf.bind(this);if(this.Sf=()=>{this.Zf.removeEventListener("mousemove",e)},this.Zf.addEventListener("mousemove",e),this.Lf(t))return;const n=this.Ef(t);this.Uf(n,this.Hf.Qf),this.Bf=!0}Yf(){this.lf!==null&&clearTimeout(this.lf),this.hf=0,this.lf=null,this.af={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}$f(){this.uf!==null&&clearTimeout(this.uf),this._f=0,this.uf=null,this.cf={nt:Number.NEGATIVE_INFINITY,st:Number.POSITIVE_INFINITY}}Jf(t){if(this.Df||this.pf!==null||this.Lf(t))return;const e=this.Ef(t);this.Uf(e,this.Hf.tv),this.Bf=!0}iv(t){const e=ah(t.changedTouches,E(this.Of));if(e===null||(this.Vf=ul(t),this.Cf!==null)||this.Rf)return;this.Pf=!0;const n=this.Ff(li(e),E(this.pf)),{nv:s,sv:r,Nf:o}=n;if(this.mf||!(o<5)){if(!this.mf){const l=.5*s,a=r>=l&&!this.cn.ev(),u=l>r&&!this.cn.rv();a||u||(this.Rf=!0),this.mf=!0,this.wf=!0,this.Kf(),this.$f()}if(!this.Rf){const l=this.Ef(t,e);this.Wf(l,this.Hf.hv),ms(t)}}}lv(t){if(t.button!==0)return;const e=this.Ff(li(t),E(this.vf)),{Nf:n}=e;if(n>=5&&(this.bf=!0,this.Yf()),this.bf){const s=this.Ef(t);this.Uf(s,this.Hf.av)}}Ff(t,e){const n=Math.abs(e.nt-t.nt),s=Math.abs(e.st-t.st);return{nv:n,sv:s,Nf:n+s}}ov(t){let e=ah(t.changedTouches,E(this.Of));if(e===null&&t.touches.length===0&&(e=t.changedTouches[0]),e===null)return;this.Of=null,this.Vf=ul(t),this.Kf(),this.pf=null,this.yf&&(this.yf(),this.yf=null);const n=this.Ef(t,e);if(this.Wf(n,this.Hf._v),++this._f,this.uf&&this._f>1){const{Nf:s}=this.Ff(li(e),this.cf);s<30&&!this.wf&&this.Wf(n,this.Hf.jf),this.$f()}else this.wf||(this.Wf(n,this.Hf.uv),this.Hf.uv&&ms(t));this._f===0&&ms(t),t.touches.length===0&&this.ff&&(this.ff=!1,ms(t))}If(t){if(t.button!==0)return;const e=this.Ef(t);if(this.vf=null,this.Df=!1,this.kf&&(this.kf(),this.kf=null),km()&&this.Zf.ownerDocument.documentElement.removeEventListener("mouseleave",this.Af),!this.Lf(t))if(this.Uf(e,this.Hf.cv),++this.hf,this.lf&&this.hf>1){const{Nf:n}=this.Ff(li(t),this.af);n<5&&!this.bf&&this.Uf(e,this.Hf.qf),this.Yf()}else this.bf||this.Uf(e,this.Hf.dv)}Kf(){this.df!==null&&(clearTimeout(this.df),this.df=null)}fv(t){if(this.Of!==null)return;const e=t.changedTouches[0];this.Of=e.identifier,this.Vf=ul(t);const n=this.Zf.ownerDocument.documentElement;this.wf=!1,this.mf=!1,this.Rf=!1,this.pf=li(e),this.yf&&(this.yf(),this.yf=null);{const r=this.iv.bind(this),o=this.ov.bind(this);this.yf=()=>{n.removeEventListener("touchmove",r),n.removeEventListener("touchend",o)},n.addEventListener("touchmove",r,{passive:!1}),n.addEventListener("touchend",o,{passive:!1}),this.Kf(),this.df=setTimeout(this.vv.bind(this,t),240)}const s=this.Ef(t,e);this.Wf(s,this.Hf.pv),this.uf||(this._f=0,this.uf=setTimeout(this.$f.bind(this),500),this.cf=li(e))}mv(t){if(t.button!==0)return;const e=this.Zf.ownerDocument.documentElement;km()&&e.addEventListener("mouseleave",this.Af),this.bf=!1,this.vf=li(t),this.kf&&(this.kf(),this.kf=null);{const s=this.lv.bind(this),r=this.If.bind(this);this.kf=()=>{e.removeEventListener("mousemove",s),e.removeEventListener("mouseup",r)},e.addEventListener("mousemove",s),e.addEventListener("mouseup",r)}if(this.Df=!0,this.Lf(t))return;const n=this.Ef(t);this.Uf(n,this.Hf.bv),this.lf||(this.hf=0,this.lf=setTimeout(this.Yf.bind(this),500),this.af=li(t))}Xf(){this.Zf.addEventListener("mouseenter",this.Gf.bind(this)),this.Zf.addEventListener("touchcancel",this.Kf.bind(this));{const t=this.Zf.ownerDocument,e=n=>{this.Hf.wv&&(n.composed&&this.Zf.contains(n.composedPath()[0])||n.target&&this.Zf.contains(n.target)||this.Hf.wv())};this.Mf=()=>{t.removeEventListener("touchstart",e)},this.gf=()=>{t.removeEventListener("mousedown",e)},t.addEventListener("mousedown",e),t.addEventListener("touchstart",e,{passive:!0})}rh()&&(this.xf=()=>{this.Zf.removeEventListener("dblclick",this.zf)},this.Zf.addEventListener("dblclick",this.zf)),this.Zf.addEventListener("mouseleave",this.gv.bind(this)),this.Zf.addEventListener("touchstart",this.fv.bind(this),{passive:!0}),WM(this.Zf),this.Zf.addEventListener("mousedown",this.mv.bind(this)),this.Mv(),this.Zf.addEventListener("touchmove",()=>{},{passive:!1})}Mv(){this.Hf.xv===void 0&&this.Hf.Sv===void 0&&this.Hf.kv===void 0||(this.Zf.addEventListener("touchstart",t=>this.yv(t.touches),{passive:!0}),this.Zf.addEventListener("touchmove",t=>{if(t.touches.length===2&&this.Cf!==null&&this.Hf.Sv!==void 0){const e=Nm(t.touches[0],t.touches[1])/this.Tf;this.Hf.Sv(this.Cf,e),ms(t)}},{passive:!1}),this.Zf.addEventListener("touchend",t=>{this.yv(t.touches)}))}yv(t){t.length===1&&(this.Pf=!1),t.length!==2||this.Pf||this.ff?this.Cv():this.Tv(t)}Tv(t){const e=this.Zf.getBoundingClientRect()||{left:0,top:0};this.Cf={nt:(t[0].clientX-e.left+(t[1].clientX-e.left))/2,st:(t[0].clientY-e.top+(t[1].clientY-e.top))/2},this.Tf=Nm(t[0],t[1]),this.Hf.xv!==void 0&&this.Hf.xv(),this.Kf()}Cv(){this.Cf!==null&&(this.Cf=null,this.Hf.kv!==void 0&&this.Hf.kv())}gv(t){if(this.Sf&&this.Sf(),this.Lf(t)||!this.Bf)return;const e=this.Ef(t);this.Uf(e,this.Hf.Pv),this.Bf=!rh()}vv(t){const e=ah(t.touches,E(this.Of));if(e===null)return;const n=this.Ef(t,e);this.Wf(n,this.Hf.Rv),this.wf=!0,this.ff=!0}Lf(t){return t.sourceCapabilities&&t.sourceCapabilities.firesTouchEvents!==void 0?t.sourceCapabilities.firesTouchEvents:ul(t)<this.Vf+500}Wf(t,e){e&&e.call(this.Hf,t)}Uf(t,e){e&&e.call(this.Hf,t)}Ef(t,e){const n=e||t,s=this.Zf.getBoundingClientRect()||{left:0,top:0};return{clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY,screenX:n.screenX,screenY:n.screenY,localX:n.clientX-s.left,localY:n.clientY-s.top,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,metaKey:t.metaKey,Dv:!t.type.startsWith("mouse")&&t.type!=="contextmenu"&&t.type!=="click",Vv:t.type,Ov:n.target,Bv:t.view,Av:()=>{t.type!=="touchstart"&&ms(t)}}}}function Nm(i,t){const e=i.clientX-t.clientX,n=i.clientY-t.clientY;return Math.sqrt(e*e+n*n)}function ms(i){i.cancelable&&i.preventDefault()}function li(i){return{nt:i.pageX,st:i.pageY}}function ul(i){return i.timeStamp||performance.now()}function ah(i,t){for(let e=0;e<i.length;++e)if(i[e].identifier===t)return i[e];return null}function hl(i){return{Hc:i.Hc,Iv:{gr:i.zv.externalId},Lv:i.zv.cursorStyle}}function HM(i,t,e){for(const n of i){const s=n.gt();if(s!==null&&s.wr){const r=s.wr(t,e);if(r!==null)return{Bv:n,Iv:r}}}return null}function uh(i,t){return e=>{var n,s,r,o;return((s=(n=e.Dt())===null||n===void 0?void 0:n.Pa())!==null&&s!==void 0?s:"")!==t?[]:(o=(r=e.da)===null||r===void 0?void 0:r.call(e,i))!==null&&o!==void 0?o:[]}}function Tm(i,t,e,n){if(!i.length)return;let s=0;const r=e/2,o=i[0].At(n,!0);let l=t===1?r-(i[0].Vi()-o/2):i[0].Vi()-o/2-r;l=Math.max(0,l);for(let a=1;a<i.length;a++){const u=i[a],h=i[a-1],c=h.At(n,!1),f=u.Vi(),d=h.Vi();if(t===1?f>d-c:f<d+c){const y=d-c*t;u.Oi(y);const v=y-t*c/2;if((t===1?v<0:v>e)&&l>0){const x=t===1?-1-v:v-e,m=Math.min(x,l);for(let p=s;p<i.length;p++)i[p].Oi(i[p].Vi()+t*m);l-=m}}else s=a,l=t===1?d-c-f:f-(d+c)}}class Bm{constructor(t,e,n,s){this.Li=null,this.Ev=null,this.Nv=!1,this.Fv=new _o(200),this.Qr=null,this.Wv=0,this.jv=!1,this.Hv=()=>{this.jv||this.tn.$v().$t().Uh()},this.Uv=()=>{this.jv||this.tn.$v().$t().Uh()},this.tn=t,this.cn=e,this.ko=e.layout,this.Oc=n,this.qv=s==="left",this.Yv=uh("normal",s),this.Zv=uh("top",s),this.Xv=uh("bottom",s),this.Kv=document.createElement("div"),this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Kv.style.width="25px",this.Kv.style.left="0",this.Kv.style.position="relative",this.Gv=ls(this.Kv,wt({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const r=this.Gv.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.Jv=ls(this.Kv,wt({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const o=this.Jv.canvasElement;o.style.position="absolute",o.style.zIndex="2",o.style.left="0",o.style.top="0";const l={bv:this.Qv.bind(this),pv:this.Qv.bind(this),av:this.tp.bind(this),hv:this.tp.bind(this),wv:this.ip.bind(this),cv:this.np.bind(this),_v:this.np.bind(this),qf:this.sp.bind(this),jf:this.sp.bind(this),Qf:this.ep.bind(this),Pv:this.rp.bind(this)};this.hp=new hd(this.Jv.canvasElement,l,{ev:()=>!this.cn.handleScroll.vertTouchDrag,rv:()=>!0})}S(){this.hp.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),as(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),as(this.Gv.canvasElement),this.Gv.dispose(),this.Li!==null&&this.Li.Ko().p(this),this.Li=null}lp(){return this.Kv}P(){return this.ko.fontSize}ap(){const t=this.Oc.W();return this.Qr!==t.R&&(this.Fv.nr(),this.Qr=t.R),t}op(){if(this.Li===null)return 0;let t=0;const e=this.ap(),n=E(this.Gv.canvasElement.getContext("2d"));n.save();const s=this.Li.Ha();n.font=this._p(),s.length>0&&(t=Math.max(this.Fv.xi(n,s[0].so),this.Fv.xi(n,s[s.length-1].so)));const r=this.up();for(let u=r.length;u--;){const h=this.Fv.xi(n,r[u].Kt());h>t&&(t=h)}const o=this.Li.Ct();if(o!==null&&this.Ev!==null&&(l=this.cn.crosshair).mode!==2&&l.horzLine.visible&&l.horzLine.labelVisible){const u=this.Li.pn(1,o),h=this.Li.pn(this.Ev.height-2,o);t=Math.max(t,this.Fv.xi(n,this.Li.Fi(Math.floor(Math.min(u,h))+.11111111111111,o)),this.Fv.xi(n,this.Li.Fi(Math.ceil(Math.max(u,h))-.11111111111111,o)))}var l;n.restore();const a=t||34;return xc(Math.ceil(e.C+e.T+e.A+e.I+5+a))}cp(t){this.Ev!==null&&qn(this.Ev,t)||(this.Ev=t,this.jv=!0,this.Gv.resizeCanvasElement(t),this.Jv.resizeCanvasElement(t),this.jv=!1,this.Kv.style.width=`${t.width}px`,this.Kv.style.height=`${t.height}px`)}dp(){return E(this.Ev).width}Gi(t){this.Li!==t&&(this.Li!==null&&this.Li.Ko().p(this),this.Li=t,t.Ko().l(this.fo.bind(this),this))}Dt(){return this.Li}nr(){const t=this.tn.fp();this.tn.$v().$t().E_(t,E(this.Dt()))}vp(t){if(this.Ev===null)return;if(t!==1){this.pp(),this.Gv.applySuggestedBitmapSize();const n=rs(this.Gv);n!==null&&(n.useBitmapCoordinateSpace(s=>{this.mp(s),this.Ie(s)}),this.tn.bp(n,this.Xv),this.wp(n),this.tn.bp(n,this.Yv),this.gp(n))}this.Jv.applySuggestedBitmapSize();const e=rs(this.Jv);e!==null&&(e.useBitmapCoordinateSpace(({context:n,bitmapSize:s})=>{n.clearRect(0,0,s.width,s.height)}),this.Mp(e),this.tn.bp(e,this.Zv))}xp(){return this.Gv.bitmapSize}Sp(t,e,n){const s=this.xp();s.width>0&&s.height>0&&t.drawImage(this.Gv.canvasElement,e,n)}bt(){var t;(t=this.Li)===null||t===void 0||t.Ha()}Qv(t){if(this.Li===null||this.Li.Ni()||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.tn.$v().$t(),n=this.tn.fp();this.Nv=!0,e.V_(n,this.Li,t.localY)}tp(t){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.tn.$v().$t(),n=this.tn.fp(),s=this.Li;e.O_(n,s,t.localY)}ip(){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const t=this.tn.$v().$t(),e=this.tn.fp(),n=this.Li;this.Nv&&(this.Nv=!1,t.B_(e,n))}np(t){if(this.Li===null||!this.cn.handleScale.axisPressedMouseMove.price)return;const e=this.tn.$v().$t(),n=this.tn.fp();this.Nv=!1,e.B_(n,this.Li)}sp(t){this.cn.handleScale.axisDoubleClickReset.price&&this.nr()}ep(t){this.Li!==null&&(!this.tn.$v().$t().W().handleScale.axisPressedMouseMove.price||this.Li.Mh()||this.Li.Oo()||this.kp(1))}rp(t){this.kp(0)}up(){const t=[],e=this.Li===null?void 0:this.Li;return(n=>{for(let s=0;s<n.length;++s){const r=n[s].Rn(this.tn.fp(),e);for(let o=0;o<r.length;o++)t.push(r[o])}})(this.tn.fp().Uo()),t}mp({context:t,bitmapSize:e}){const{width:n,height:s}=e,r=this.tn.fp().$t(),o=r.q(),l=r.bd();o===l?cu(t,0,0,n,s,o):ew(t,0,0,n,s,o,l)}Ie({context:t,bitmapSize:e,horizontalPixelRatio:n}){if(this.Ev===null||this.Li===null||!this.Li.W().borderVisible)return;t.fillStyle=this.Li.W().borderColor;const s=Math.max(1,Math.floor(this.ap().C*n));let r;r=this.qv?e.width-s:0,t.fillRect(r,0,s,e.height)}wp(t){if(this.Ev===null||this.Li===null)return;const e=this.Li.Ha(),n=this.Li.W(),s=this.ap(),r=this.qv?this.Ev.width-s.T:0;n.borderVisible&&n.ticksVisible&&t.useBitmapCoordinateSpace(({context:o,horizontalPixelRatio:l,verticalPixelRatio:a})=>{o.fillStyle=n.borderColor;const u=Math.max(1,Math.floor(a)),h=Math.floor(.5*a),c=Math.round(s.T*l);o.beginPath();for(const f of e)o.rect(Math.floor(r*l),Math.round(f.Ea*a)-h,c,u);o.fill()}),t.useMediaCoordinateSpace(({context:o})=>{var l;o.font=this._p(),o.fillStyle=(l=n.textColor)!==null&&l!==void 0?l:this.ko.textColor,o.textAlign=this.qv?"right":"left",o.textBaseline="middle";const a=this.qv?Math.round(r-s.A):Math.round(r+s.T+s.A),u=e.map(h=>this.Fv.Mi(o,h.so));for(let h=e.length;h--;){const c=e[h];o.fillText(c.so,a,c.Ea+u[h])}})}pp(){if(this.Ev===null||this.Li===null)return;const t=[],e=this.Li.Uo().slice(),n=this.tn.fp(),s=this.ap();this.Li===n.pr()&&this.tn.fp().Uo().forEach(o=>{n.vr(o)&&e.push(o)});const r=this.Li;e.forEach(o=>{o.Rn(n,r).forEach(l=>{l.Oi(null),l.Bi()&&t.push(l)})}),t.forEach(o=>o.Oi(o.ki())),this.Li.W().alignLabels&&this.yp(t,s)}yp(t,e){if(this.Ev===null)return;const n=this.Ev.height/2,s=t.filter(o=>o.ki()<=n),r=t.filter(o=>o.ki()>n);s.sort((o,l)=>l.ki()-o.ki()),r.sort((o,l)=>o.ki()-l.ki());for(const o of t){const l=Math.floor(o.At(e)/2),a=o.ki();a>-l&&a<l&&o.Oi(l),a>this.Ev.height-l&&a<this.Ev.height+l&&o.Oi(this.Ev.height-l)}Tm(s,1,this.Ev.height,e),Tm(r,-1,this.Ev.height,e)}gp(t){if(this.Ev===null)return;const e=this.up(),n=this.ap(),s=this.qv?"right":"left";e.forEach(r=>{r.Ai()&&r.gt(E(this.Li)).X(t,n,this.Fv,s)})}Mp(t){if(this.Ev===null||this.Li===null)return;const e=this.tn.$v().$t(),n=[],s=this.tn.fp(),r=e.Zc().Rn(s,this.Li);r.length&&n.push(r);const o=this.ap(),l=this.qv?"right":"left";n.forEach(a=>{a.forEach(u=>{u.gt(E(this.Li)).X(t,o,this.Fv,l)})})}kp(t){this.Kv.style.cursor=t===1?"ns-resize":"default"}fo(){const t=this.op();this.Wv<t&&this.tn.$v().$t().Kl(),this.Wv=t}_p(){return lr(this.ko.fontSize,this.ko.fontFamily)}}function KM(i,t){var e,n;return(n=(e=i.ua)===null||e===void 0?void 0:e.call(i,t))!==null&&n!==void 0?n:[]}function cl(i,t){var e,n;return(n=(e=i.Pn)===null||e===void 0?void 0:e.call(i,t))!==null&&n!==void 0?n:[]}function YM(i,t){var e,n;return(n=(e=i.Ji)===null||e===void 0?void 0:e.call(i,t))!==null&&n!==void 0?n:[]}function XM(i,t){var e,n;return(n=(e=i.aa)===null||e===void 0?void 0:e.call(i,t))!==null&&n!==void 0?n:[]}class cd{constructor(t,e){this.Ev=wt({width:0,height:0}),this.Cp=null,this.Tp=null,this.Pp=null,this.Rp=null,this.Dp=!1,this.Vp=new Ot,this.Op=new Ot,this.Bp=0,this.Ap=!1,this.Ip=null,this.zp=!1,this.Lp=null,this.Ep=null,this.jv=!1,this.Hv=()=>{this.jv||this.Np===null||this.$i().Uh()},this.Uv=()=>{this.jv||this.Np===null||this.$i().Uh()},this.Qd=t,this.Np=e,this.Np.W_().l(this.Fp.bind(this),this,!0),this.Wp=document.createElement("td"),this.Wp.style.padding="0",this.Wp.style.position="relative";const n=document.createElement("div");n.style.width="100%",n.style.height="100%",n.style.position="relative",n.style.overflow="hidden",this.jp=document.createElement("td"),this.jp.style.padding="0",this.Hp=document.createElement("td"),this.Hp.style.padding="0",this.Wp.appendChild(n),this.Gv=ls(n,wt({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const s=this.Gv.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.Jv=ls(n,wt({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const r=this.Jv.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.$p=document.createElement("tr"),this.$p.appendChild(this.jp),this.$p.appendChild(this.Wp),this.$p.appendChild(this.Hp),this.Up(),this.hp=new hd(this.Jv.canvasElement,this,{ev:()=>this.Ip===null&&!this.Qd.W().handleScroll.vertTouchDrag,rv:()=>this.Ip===null&&!this.Qd.W().handleScroll.horzTouchDrag})}S(){this.Cp!==null&&this.Cp.S(),this.Tp!==null&&this.Tp.S(),this.Pp=null,this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),as(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),as(this.Gv.canvasElement),this.Gv.dispose(),this.Np!==null&&this.Np.W_().p(this),this.hp.S()}fp(){return E(this.Np)}qp(t){var e,n;this.Np!==null&&this.Np.W_().p(this),this.Np=t,this.Np!==null&&this.Np.W_().l(cd.prototype.Fp.bind(this),this,!0),this.Up(),this.Qd.Yp().indexOf(this)===this.Qd.Yp().length-1?(this.Pp=(e=this.Pp)!==null&&e!==void 0?e:new jM(this.Wp,this.Qd),this.Pp.bt()):((n=this.Pp)===null||n===void 0||n.if(),this.Pp=null)}$v(){return this.Qd}lp(){return this.$p}Up(){if(this.Np!==null&&(this.Zp(),this.$i().wt().length!==0)){if(this.Cp!==null){const t=this.Np.R_();this.Cp.Gi(E(t))}if(this.Tp!==null){const t=this.Np.D_();this.Tp.Gi(E(t))}}}Xp(){this.Cp!==null&&this.Cp.bt(),this.Tp!==null&&this.Tp.bt()}M_(){return this.Np!==null?this.Np.M_():0}x_(t){this.Np&&this.Np.x_(t)}Qf(t){if(!this.Np)return;this.Kp();const e=t.localX,n=t.localY;this.Gp(e,n,t)}bv(t){this.Kp(),this.Jp(),this.Gp(t.localX,t.localY,t)}tv(t){var e;if(!this.Np)return;this.Kp();const n=t.localX,s=t.localY;this.Gp(n,s,t);const r=this.wr(n,s);this.Qd.Qp((e=r==null?void 0:r.Lv)!==null&&e!==void 0?e:null),this.$i().jc(r&&{Hc:r.Hc,Iv:r.Iv})}dv(t){this.Np!==null&&(this.Kp(),this.tm(t))}qf(t){this.Np!==null&&this.im(this.Op,t)}jf(t){this.qf(t)}av(t){this.Kp(),this.nm(t),this.Gp(t.localX,t.localY,t)}cv(t){this.Np!==null&&(this.Kp(),this.Ap=!1,this.sm(t))}uv(t){this.Np!==null&&this.tm(t)}Rv(t){if(this.Ap=!0,this.Ip===null){const e={x:t.localX,y:t.localY};this.rm(e,e,t)}}Pv(t){this.Np!==null&&(this.Kp(),this.Np.$t().jc(null),this.hm())}lm(){return this.Vp}am(){return this.Op}xv(){this.Bp=1,this.$i().Un()}Sv(t,e){if(!this.Qd.W().handleScale.pinch)return;const n=5*(e-this.Bp);this.Bp=e,this.$i().Qc(t.nt,n)}pv(t){this.Ap=!1,this.zp=this.Ip!==null,this.Jp();const e=this.$i().Zc();this.Ip!==null&&e.yt()&&(this.Lp={x:e.Yt(),y:e.Zt()},this.Ip={x:t.localX,y:t.localY})}hv(t){if(this.Np===null)return;const e=t.localX,n=t.localY;if(this.Ip===null)this.nm(t);else{this.zp=!1;const s=E(this.Lp),r=s.x+(e-this.Ip.x),o=s.y+(n-this.Ip.y);this.Gp(r,o,t)}}_v(t){this.$v().W().trackingMode.exitMode===0&&(this.zp=!0),this.om(),this.sm(t)}wr(t,e){const n=this.Np;return n===null?null:function(s,r,o){const l=s.Uo(),a=function(u,h,c){var f,d;let y,v;for(const p of u){const g=(d=(f=p.va)===null||f===void 0?void 0:f.call(p,h,c))!==null&&d!==void 0?d:[];for(const _ of g)x=_.zOrder,(!(m=y==null?void 0:y.zOrder)||x==="top"&&m!=="top"||x==="normal"&&m==="bottom")&&(y=_,v=p)}var x,m;return y&&v?{zv:y,Hc:v}:null}(l,r,o);if((a==null?void 0:a.zv.zOrder)==="top")return hl(a);for(const u of l){if(a&&a.Hc===u&&a.zv.zOrder!=="bottom"&&!a.zv.isBackground)return hl(a);const h=HM(u.Pn(s),r,o);if(h!==null)return{Hc:u,Bv:h.Bv,Iv:h.Iv};if(a&&a.Hc===u&&a.zv.zOrder!=="bottom"&&a.zv.isBackground)return hl(a)}return a!=null&&a.zv?hl(a):null}(n,t,e)}_m(t,e){E(e==="left"?this.Cp:this.Tp).cp(wt({width:t,height:this.Ev.height}))}um(){return this.Ev}cp(t){qn(this.Ev,t)||(this.Ev=t,this.jv=!0,this.Gv.resizeCanvasElement(t),this.Jv.resizeCanvasElement(t),this.jv=!1,this.Wp.style.width=t.width+"px",this.Wp.style.height=t.height+"px")}dm(){const t=E(this.Np);t.P_(t.R_()),t.P_(t.D_());for(const e of t.Ba())if(t.vr(e)){const n=e.Dt();n!==null&&t.P_(n),e.Vn()}}xp(){return this.Gv.bitmapSize}Sp(t,e,n){const s=this.xp();s.width>0&&s.height>0&&t.drawImage(this.Gv.canvasElement,e,n)}vp(t){if(t===0||this.Np===null)return;if(t>1&&this.dm(),this.Cp!==null&&this.Cp.vp(t),this.Tp!==null&&this.Tp.vp(t),t!==1){this.Gv.applySuggestedBitmapSize();const n=rs(this.Gv);n!==null&&(n.useBitmapCoordinateSpace(s=>{this.mp(s)}),this.Np&&(this.fm(n,KM),this.vm(n),this.pm(n),this.fm(n,cl),this.fm(n,YM)))}this.Jv.applySuggestedBitmapSize();const e=rs(this.Jv);e!==null&&(e.useBitmapCoordinateSpace(({context:n,bitmapSize:s})=>{n.clearRect(0,0,s.width,s.height)}),this.bm(e),this.fm(e,XM))}wm(){return this.Cp}gm(){return this.Tp}bp(t,e){this.fm(t,e)}Fp(){this.Np!==null&&this.Np.W_().p(this),this.Np=null}tm(t){this.im(this.Vp,t)}im(t,e){const n=e.localX,s=e.localY;t.M()&&t.m(this.$i().St().Nu(n),{x:n,y:s},e)}mp({context:t,bitmapSize:e}){const{width:n,height:s}=e,r=this.$i(),o=r.q(),l=r.bd();o===l?cu(t,0,0,n,s,l):ew(t,0,0,n,s,o,l)}vm(t){const e=E(this.Np).j_().qh().gt();e!==null&&e.X(t,!1)}pm(t){const e=this.$i().Yc();this.Mm(t,cl,Mc,e),this.Mm(t,cl,Ol,e)}bm(t){this.Mm(t,cl,Ol,this.$i().Zc())}fm(t,e){const n=E(this.Np).Uo();for(const s of n)this.Mm(t,e,Mc,s);for(const s of n)this.Mm(t,e,Ol,s)}Mm(t,e,n,s){const r=E(this.Np),o=r.$t().Wc(),l=o!==null&&o.Hc===s,a=o!==null&&l&&o.Iv!==void 0?o.Iv.Mr:void 0;Ic(e,u=>n(u,t,l,a),s,r)}Zp(){if(this.Np===null)return;const t=this.Qd,e=this.Np.R_().W().visible,n=this.Np.D_().W().visible;e||this.Cp===null||(this.jp.removeChild(this.Cp.lp()),this.Cp.S(),this.Cp=null),n||this.Tp===null||(this.Hp.removeChild(this.Tp.lp()),this.Tp.S(),this.Tp=null);const s=t.$t().ud();e&&this.Cp===null&&(this.Cp=new Bm(this,t.W(),s,"left"),this.jp.appendChild(this.Cp.lp())),n&&this.Tp===null&&(this.Tp=new Bm(this,t.W(),s,"right"),this.Hp.appendChild(this.Tp.lp()))}xm(t){return t.Dv&&this.Ap||this.Ip!==null}Sm(t){return Math.max(0,Math.min(t,this.Ev.width-1))}km(t){return Math.max(0,Math.min(t,this.Ev.height-1))}Gp(t,e,n){this.$i().ld(this.Sm(t),this.km(e),n,E(this.Np))}hm(){this.$i().od()}om(){this.zp&&(this.Ip=null,this.hm())}rm(t,e,n){this.Ip=t,this.zp=!1,this.Gp(e.x,e.y,n);const s=this.$i().Zc();this.Lp={x:s.Yt(),y:s.Zt()}}$i(){return this.Qd.$t()}sm(t){if(!this.Dp)return;const e=this.$i(),n=this.fp();if(e.z_(n,n.vn()),this.Rp=null,this.Dp=!1,e.ed(),this.Ep!==null){const s=performance.now(),r=e.St();this.Ep.Vr(r.Hu(),s),this.Ep.Qu(s)||e.Zn(this.Ep)}}Kp(){this.Ip=null}Jp(){if(this.Np){if(this.$i().Un(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)E(document.activeElement).blur();else{const t=document.getSelection();t!==null&&t.removeAllRanges()}!this.Np.vn().Ni()&&this.$i().St().Ni()}}nm(t){if(this.Np===null)return;const e=this.$i(),n=e.St();if(n.Ni())return;const s=this.Qd.W(),r=s.handleScroll,o=s.kineticScroll;if((!r.pressedMouseMove||t.Dv)&&(!r.horzTouchDrag&&!r.vertTouchDrag||!t.Dv))return;const l=this.Np.vn(),a=performance.now();if(this.Rp!==null||this.xm(t)||(this.Rp={x:t.clientX,y:t.clientY,Od:a,ym:t.localX,Cm:t.localY}),this.Rp!==null&&!this.Dp&&(this.Rp.x!==t.clientX||this.Rp.y!==t.clientY)){if(t.Dv&&o.touch||!t.Dv&&o.mouse){const u=n.le();this.Ep=new UM(.2/u,7/u,.997,15/u),this.Ep.Yd(n.Hu(),this.Rp.Od)}else this.Ep=null;l.Ni()||e.A_(this.Np,l,t.localY),e.nd(t.localX),this.Dp=!0}this.Dp&&(l.Ni()||e.I_(this.Np,l,t.localY),e.sd(t.localX),this.Ep!==null&&this.Ep.Yd(n.Hu(),a))}}class Om{constructor(t,e,n,s,r){this.ft=!0,this.Ev=wt({width:0,height:0}),this.Hv=()=>this.vp(3),this.qv=t==="left",this.Oc=n.ud,this.cn=e,this.Tm=s,this.Pm=r,this.Kv=document.createElement("div"),this.Kv.style.width="25px",this.Kv.style.height="100%",this.Kv.style.overflow="hidden",this.Gv=ls(this.Kv,wt({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv)}S(){this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),as(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Kv}um(){return this.Ev}cp(t){qn(this.Ev,t)||(this.Ev=t,this.Gv.resizeCanvasElement(t),this.Kv.style.width=`${t.width}px`,this.Kv.style.height=`${t.height}px`,this.ft=!0)}vp(t){if(t<3&&!this.ft||this.Ev.width===0||this.Ev.height===0)return;this.ft=!1,this.Gv.applySuggestedBitmapSize();const e=rs(this.Gv);e!==null&&e.useBitmapCoordinateSpace(n=>{this.mp(n),this.Ie(n)})}xp(){return this.Gv.bitmapSize}Sp(t,e,n){const s=this.xp();s.width>0&&s.height>0&&t.drawImage(this.Gv.canvasElement,e,n)}Ie({context:t,bitmapSize:e,horizontalPixelRatio:n,verticalPixelRatio:s}){if(!this.Tm())return;t.fillStyle=this.cn.timeScale.borderColor;const r=Math.floor(this.Oc.W().C*n),o=Math.floor(this.Oc.W().C*s),l=this.qv?e.width-r:0;t.fillRect(l,0,r,o)}mp({context:t,bitmapSize:e}){cu(t,0,0,e.width,e.height,this.Pm())}}function fd(i){return t=>{var e,n;return(n=(e=t.fa)===null||e===void 0?void 0:e.call(t,i))!==null&&n!==void 0?n:[]}}const QM=fd("normal"),JM=fd("top"),GM=fd("bottom");class qM{constructor(t,e){this.Rm=null,this.Dm=null,this.k=null,this.Vm=!1,this.Ev=wt({width:0,height:0}),this.Om=new Ot,this.Fv=new _o(5),this.jv=!1,this.Hv=()=>{this.jv||this.Qd.$t().Uh()},this.Uv=()=>{this.jv||this.Qd.$t().Uh()},this.Qd=t,this.q_=e,this.cn=t.W().layout,this.Xd=document.createElement("tr"),this.Bm=document.createElement("td"),this.Bm.style.padding="0",this.Am=document.createElement("td"),this.Am.style.padding="0",this.Kv=document.createElement("td"),this.Kv.style.height="25px",this.Kv.style.padding="0",this.Im=document.createElement("div"),this.Im.style.width="100%",this.Im.style.height="100%",this.Im.style.position="relative",this.Im.style.overflow="hidden",this.Kv.appendChild(this.Im),this.Gv=ls(this.Im,wt({width:16,height:16})),this.Gv.subscribeSuggestedBitmapSizeChanged(this.Hv);const n=this.Gv.canvasElement;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.Jv=ls(this.Im,wt({width:16,height:16})),this.Jv.subscribeSuggestedBitmapSizeChanged(this.Uv);const s=this.Jv.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this.Xd.appendChild(this.Bm),this.Xd.appendChild(this.Kv),this.Xd.appendChild(this.Am),this.zm(),this.Qd.$t().g_().l(this.zm.bind(this),this),this.hp=new hd(this.Jv.canvasElement,this,{ev:()=>!0,rv:()=>!this.Qd.W().handleScroll.horzTouchDrag})}S(){this.hp.S(),this.Rm!==null&&this.Rm.S(),this.Dm!==null&&this.Dm.S(),this.Jv.unsubscribeSuggestedBitmapSizeChanged(this.Uv),as(this.Jv.canvasElement),this.Jv.dispose(),this.Gv.unsubscribeSuggestedBitmapSizeChanged(this.Hv),as(this.Gv.canvasElement),this.Gv.dispose()}lp(){return this.Xd}Lm(){return this.Rm}Em(){return this.Dm}bv(t){if(this.Vm)return;this.Vm=!0;const e=this.Qd.$t();!e.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&e.Jc(t.localX)}pv(t){this.bv(t)}wv(){const t=this.Qd.$t();!t.St().Ni()&&this.Vm&&(this.Vm=!1,this.Qd.W().handleScale.axisPressedMouseMove.time&&t.hd())}av(t){const e=this.Qd.$t();!e.St().Ni()&&this.Qd.W().handleScale.axisPressedMouseMove.time&&e.rd(t.localX)}hv(t){this.av(t)}cv(){this.Vm=!1;const t=this.Qd.$t();t.St().Ni()&&!this.Qd.W().handleScale.axisPressedMouseMove.time||t.hd()}_v(){this.cv()}qf(){this.Qd.W().handleScale.axisDoubleClickReset.time&&this.Qd.$t().Kn()}jf(){this.qf()}Qf(){this.Qd.$t().W().handleScale.axisPressedMouseMove.time&&this.kp(1)}Pv(){this.kp(0)}um(){return this.Ev}Nm(){return this.Om}Fm(t,e,n){qn(this.Ev,t)||(this.Ev=t,this.jv=!0,this.Gv.resizeCanvasElement(t),this.Jv.resizeCanvasElement(t),this.jv=!1,this.Kv.style.width=`${t.width}px`,this.Kv.style.height=`${t.height}px`,this.Om.m(t)),this.Rm!==null&&this.Rm.cp(wt({width:e,height:t.height})),this.Dm!==null&&this.Dm.cp(wt({width:n,height:t.height}))}Wm(){const t=this.jm();return Math.ceil(t.C+t.T+t.P+t.L+t.B+t.Hm)}bt(){this.Qd.$t().St().Ha()}xp(){return this.Gv.bitmapSize}Sp(t,e,n){const s=this.xp();s.width>0&&s.height>0&&t.drawImage(this.Gv.canvasElement,e,n)}vp(t){if(t===0)return;if(t!==1){this.Gv.applySuggestedBitmapSize();const n=rs(this.Gv);n!==null&&(n.useBitmapCoordinateSpace(s=>{this.mp(s),this.Ie(s),this.$m(n,GM)}),this.wp(n),this.$m(n,QM)),this.Rm!==null&&this.Rm.vp(t),this.Dm!==null&&this.Dm.vp(t)}this.Jv.applySuggestedBitmapSize();const e=rs(this.Jv);e!==null&&(e.useBitmapCoordinateSpace(({context:n,bitmapSize:s})=>{n.clearRect(0,0,s.width,s.height)}),this.Um([...this.Qd.$t().wt(),this.Qd.$t().Zc()],e),this.$m(e,JM))}$m(t,e){const n=this.Qd.$t().wt();for(const s of n)Ic(e,r=>Mc(r,t,!1,void 0),s,void 0);for(const s of n)Ic(e,r=>Ol(r,t,!1,void 0),s,void 0)}mp({context:t,bitmapSize:e}){cu(t,0,0,e.width,e.height,this.Qd.$t().bd())}Ie({context:t,bitmapSize:e,verticalPixelRatio:n}){if(this.Qd.W().timeScale.borderVisible){t.fillStyle=this.qm();const s=Math.max(1,Math.floor(this.jm().C*n));t.fillRect(0,0,e.width,s)}}wp(t){const e=this.Qd.$t().St(),n=e.Ha();if(!n||n.length===0)return;const s=this.q_.maxTickMarkWeight(n),r=this.jm(),o=e.W();o.borderVisible&&o.ticksVisible&&t.useBitmapCoordinateSpace(({context:l,horizontalPixelRatio:a,verticalPixelRatio:u})=>{l.strokeStyle=this.qm(),l.fillStyle=this.qm();const h=Math.max(1,Math.floor(a)),c=Math.floor(.5*a);l.beginPath();const f=Math.round(r.T*u);for(let d=n.length;d--;){const y=Math.round(n[d].coord*a);l.rect(y-c,0,h,f)}l.fill()}),t.useMediaCoordinateSpace(({context:l})=>{const a=r.C+r.T+r.L+r.P/2;l.textAlign="center",l.textBaseline="middle",l.fillStyle=this.$(),l.font=this._p();for(const u of n)if(u.weight<s){const h=u.needAlignCoordinate?this.Ym(l,u.coord,u.label):u.coord;l.fillText(u.label,h,a)}this.Qd.W().timeScale.allowBoldLabels&&(l.font=this.Zm());for(const u of n)if(u.weight>=s){const h=u.needAlignCoordinate?this.Ym(l,u.coord,u.label):u.coord;l.fillText(u.label,h,a)}})}Ym(t,e,n){const s=this.Fv.xi(t,n),r=s/2,o=Math.floor(e-r)+.5;return o<0?e+=Math.abs(0-o):o+s>this.Ev.width&&(e-=Math.abs(this.Ev.width-(o+s))),e}Um(t,e){const n=this.jm();for(const s of t)for(const r of s.Qi())r.gt().X(e,n)}qm(){return this.Qd.W().timeScale.borderColor}$(){return this.cn.textColor}j(){return this.cn.fontSize}_p(){return lr(this.j(),this.cn.fontFamily)}Zm(){return lr(this.j(),this.cn.fontFamily,"bold")}jm(){this.k===null&&(this.k={C:1,N:NaN,L:NaN,B:NaN,ji:NaN,T:5,P:NaN,R:"",Wi:new _o,Hm:0});const t=this.k,e=this._p();if(t.R!==e){const n=this.j();t.P=n,t.R=e,t.L=3*n/12,t.B=3*n/12,t.ji=9*n/12,t.N=0,t.Hm=4*n/12,t.Wi.nr()}return this.k}kp(t){this.Kv.style.cursor=t===1?"ew-resize":"default"}zm(){const t=this.Qd.$t(),e=t.W();e.leftPriceScale.visible||this.Rm===null||(this.Bm.removeChild(this.Rm.lp()),this.Rm.S(),this.Rm=null),e.rightPriceScale.visible||this.Dm===null||(this.Am.removeChild(this.Dm.lp()),this.Dm.S(),this.Dm=null);const n={ud:this.Qd.$t().ud()},s=()=>e.leftPriceScale.borderVisible&&t.St().W().borderVisible,r=()=>t.bd();e.leftPriceScale.visible&&this.Rm===null&&(this.Rm=new Om("left",e,n,s,r),this.Bm.appendChild(this.Rm.lp())),e.rightPriceScale.visible&&this.Dm===null&&(this.Dm=new Om("right",e,n,s,r),this.Am.appendChild(this.Dm.lp()))}}const ZM=!!ar&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(i=>i.brand.includes("Chromium"))&&!!ar&&(!((hh=navigator==null?void 0:navigator.userAgentData)===null||hh===void 0)&&hh.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);var hh;class tI{constructor(t,e,n){var s;this.Xm=[],this.Km=0,this.ho=0,this.__=0,this.Gm=0,this.Jm=0,this.Qm=null,this.tb=!1,this.Vp=new Ot,this.Op=new Ot,this.Rc=new Ot,this.ib=null,this.nb=null,this.Jd=t,this.cn=e,this.q_=n,this.Xd=document.createElement("div"),this.Xd.classList.add("tv-lightweight-charts"),this.Xd.style.overflow="hidden",this.Xd.style.direction="ltr",this.Xd.style.width="100%",this.Xd.style.height="100%",(s=this.Xd).style.userSelect="none",s.style.webkitUserSelect="none",s.style.msUserSelect="none",s.style.MozUserSelect="none",s.style.webkitTapHighlightColor="transparent",this.sb=document.createElement("table"),this.sb.setAttribute("cellspacing","0"),this.Xd.appendChild(this.sb),this.eb=this.rb.bind(this),ch(this.cn)&&this.hb(!0),this.$i=new RM(this.Vc.bind(this),this.cn,n),this.$t().Xc().l(this.lb.bind(this),this),this.ab=new qM(this,this.q_),this.sb.appendChild(this.ab.lp());const r=e.autoSize&&this.ob();let o=this.cn.width,l=this.cn.height;if(r||o===0||l===0){const a=t.getBoundingClientRect();o=o||a.width,l=l||a.height}this._b(o,l),this.ub(),t.appendChild(this.Xd),this.cb(),this.$i.St().ec().l(this.$i.Kl.bind(this.$i),this),this.$i.g_().l(this.$i.Kl.bind(this.$i),this)}$t(){return this.$i}W(){return this.cn}Yp(){return this.Xm}fb(){return this.ab}S(){this.hb(!1),this.Km!==0&&window.cancelAnimationFrame(this.Km),this.$i.Xc().p(this),this.$i.St().ec().p(this),this.$i.g_().p(this),this.$i.S();for(const t of this.Xm)this.sb.removeChild(t.lp()),t.lm().p(this),t.am().p(this),t.S();this.Xm=[],E(this.ab).S(),this.Xd.parentElement!==null&&this.Xd.parentElement.removeChild(this.Xd),this.Rc.S(),this.Vp.S(),this.Op.S(),this.pb()}_b(t,e,n=!1){if(this.ho===e&&this.__===t)return;const s=function(l){const a=Math.floor(l.width),u=Math.floor(l.height);return wt({width:a-a%2,height:u-u%2})}(wt({width:t,height:e}));this.ho=s.height,this.__=s.width;const r=this.ho+"px",o=this.__+"px";E(this.Xd).style.height=r,E(this.Xd).style.width=o,this.sb.style.height=r,this.sb.style.width=o,n?this.mb(Wt.es(),performance.now()):this.$i.Kl()}vp(t){t===void 0&&(t=Wt.es());for(let e=0;e<this.Xm.length;e++)this.Xm[e].vp(t.Hn(e).Fn);this.cn.timeScale.visible&&this.ab.vp(t.jn())}$h(t){const e=ch(this.cn);this.$i.$h(t);const n=ch(this.cn);n!==e&&this.hb(n),this.cb(),this.bb(t)}lm(){return this.Vp}am(){return this.Op}Xc(){return this.Rc}wb(){this.Qm!==null&&(this.mb(this.Qm,performance.now()),this.Qm=null);const t=this.gb(null),e=document.createElement("canvas");e.width=t.width,e.height=t.height;const n=E(e.getContext("2d"));return this.gb(n),e}Mb(t){return t==="left"&&!this.xb()||t==="right"&&!this.Sb()||this.Xm.length===0?0:E(t==="left"?this.Xm[0].wm():this.Xm[0].gm()).dp()}kb(){return this.cn.autoSize&&this.ib!==null}yb(){return this.Xd}Qp(t){this.nb=t,this.nb?this.yb().style.setProperty("cursor",t):this.yb().style.removeProperty("cursor")}Cb(){return this.nb}Tb(){return ne(this.Xm[0]).um()}bb(t){(t.autoSize!==void 0||!this.ib||t.width===void 0&&t.height===void 0)&&(t.autoSize&&!this.ib&&this.ob(),t.autoSize===!1&&this.ib!==null&&this.pb(),t.autoSize||t.width===void 0&&t.height===void 0||this._b(t.width||this.__,t.height||this.ho))}gb(t){let e=0,n=0;const s=this.Xm[0],r=(l,a)=>{let u=0;for(let h=0;h<this.Xm.length;h++){const c=this.Xm[h],f=E(l==="left"?c.wm():c.gm()),d=f.xp();t!==null&&f.Sp(t,a,u),u+=d.height}};this.xb()&&(r("left",0),e+=E(s.wm()).xp().width);for(let l=0;l<this.Xm.length;l++){const a=this.Xm[l],u=a.xp();t!==null&&a.Sp(t,e,n),n+=u.height}e+=s.xp().width,this.Sb()&&(r("right",e),e+=E(s.gm()).xp().width);const o=(l,a,u)=>{E(l==="left"?this.ab.Lm():this.ab.Em()).Sp(E(t),a,u)};if(this.cn.timeScale.visible){const l=this.ab.xp();if(t!==null){let a=0;this.xb()&&(o("left",a,n),a=E(s.wm()).xp().width),this.ab.Sp(t,a,n),a+=l.width,this.Sb()&&o("right",a,n)}n+=l.height}return wt({width:e,height:n})}Pb(){let t=0,e=0,n=0;for(const y of this.Xm)this.xb()&&(e=Math.max(e,E(y.wm()).op(),this.cn.leftPriceScale.minimumWidth)),this.Sb()&&(n=Math.max(n,E(y.gm()).op(),this.cn.rightPriceScale.minimumWidth)),t+=y.M_();e=xc(e),n=xc(n);const s=this.__,r=this.ho,o=Math.max(s-e-n,0),l=this.cn.timeScale.visible;let a=l?Math.max(this.ab.Wm(),this.cn.timeScale.minimumHeight):0;var u;a=(u=a)+u%2;const h=0+a,c=r<h?0:r-h,f=c/t;let d=0;for(let y=0;y<this.Xm.length;++y){const v=this.Xm[y];v.qp(this.$i.qc()[y]);let x=0,m=0;m=y===this.Xm.length-1?c-d:Math.round(v.M_()*f),x=Math.max(m,2),d+=x,v.cp(wt({width:o,height:x})),this.xb()&&v._m(e,"left"),this.Sb()&&v._m(n,"right"),v.fp()&&this.$i.Kc(v.fp(),x)}this.ab.Fm(wt({width:l?o:0,height:a}),l?e:0,l?n:0),this.$i.S_(o),this.Gm!==e&&(this.Gm=e),this.Jm!==n&&(this.Jm=n)}hb(t){t?this.Xd.addEventListener("wheel",this.eb,{passive:!1}):this.Xd.removeEventListener("wheel",this.eb)}Rb(t){switch(t.deltaMode){case t.DOM_DELTA_PAGE:return 120;case t.DOM_DELTA_LINE:return 32}return ZM?1/window.devicePixelRatio:1}rb(t){if(!(t.deltaX!==0&&this.cn.handleScroll.mouseWheel||t.deltaY!==0&&this.cn.handleScale.mouseWheel))return;const e=this.Rb(t),n=e*t.deltaX/100,s=-e*t.deltaY/100;if(t.cancelable&&t.preventDefault(),s!==0&&this.cn.handleScale.mouseWheel){const r=Math.sign(s)*Math.min(1,Math.abs(s)),o=t.clientX-this.Xd.getBoundingClientRect().left;this.$t().Qc(o,r)}n!==0&&this.cn.handleScroll.mouseWheel&&this.$t().td(-80*n)}mb(t,e){var n;const s=t.jn();s===3&&this.Db(),s!==3&&s!==2||(this.Vb(t),this.Ob(t,e),this.ab.bt(),this.Xm.forEach(r=>{r.Xp()}),((n=this.Qm)===null||n===void 0?void 0:n.jn())===3&&(this.Qm.ts(t),this.Db(),this.Vb(this.Qm),this.Ob(this.Qm,e),t=this.Qm,this.Qm=null)),this.vp(t)}Ob(t,e){for(const n of t.Qn())this.ns(n,e)}Vb(t){const e=this.$i.qc();for(let n=0;n<e.length;n++)t.Hn(n).Wn&&e[n].N_()}ns(t,e){const n=this.$i.St();switch(t.qn){case 0:n.hc();break;case 1:n.lc(t.Vt);break;case 2:n.Gn(t.Vt);break;case 3:n.Jn(t.Vt);break;case 4:n.qu();break;case 5:t.Vt.Qu(e)||n.Jn(t.Vt.tc(e))}}Vc(t){this.Qm!==null?this.Qm.ts(t):this.Qm=t,this.tb||(this.tb=!0,this.Km=window.requestAnimationFrame(e=>{if(this.tb=!1,this.Km=0,this.Qm!==null){const n=this.Qm;this.Qm=null,this.mb(n,e);for(const s of n.Qn())if(s.qn===5&&!s.Vt.Qu(e)){this.$t().Zn(s.Vt);break}}}))}Db(){this.ub()}ub(){const t=this.$i.qc(),e=t.length,n=this.Xm.length;for(let s=e;s<n;s++){const r=ne(this.Xm.pop());this.sb.removeChild(r.lp()),r.lm().p(this),r.am().p(this),r.S()}for(let s=n;s<e;s++){const r=new cd(this,t[s]);r.lm().l(this.Bb.bind(this),this),r.am().l(this.Ab.bind(this),this),this.Xm.push(r),this.sb.insertBefore(r.lp(),this.ab.lp())}for(let s=0;s<e;s++){const r=t[s],o=this.Xm[s];o.fp()!==r?o.qp(r):o.Up()}this.cb(),this.Pb()}Ib(t,e,n){var s;const r=new Map;t!==null&&this.$i.wt().forEach(h=>{const c=h.In().ll(t);c!==null&&r.set(h,c)});let o;if(t!==null){const h=(s=this.$i.St().Ui(t))===null||s===void 0?void 0:s.originalTime;h!==void 0&&(o=h)}const l=this.$t().Wc(),a=l!==null&&l.Hc instanceof ad?l.Hc:void 0,u=l!==null&&l.Iv!==void 0?l.Iv.gr:void 0;return{zb:o,ee:t??void 0,Lb:e??void 0,Eb:a,Nb:r,Fb:u,Wb:n??void 0}}Bb(t,e,n){this.Vp.m(()=>this.Ib(t,e,n))}Ab(t,e,n){this.Op.m(()=>this.Ib(t,e,n))}lb(t,e,n){this.Rc.m(()=>this.Ib(t,e,n))}cb(){const t=this.cn.timeScale.visible?"":"none";this.ab.lp().style.display=t}xb(){return this.Xm[0].fp().R_().W().visible}Sb(){return this.Xm[0].fp().D_().W().visible}ob(){return"ResizeObserver"in window&&(this.ib=new ResizeObserver(t=>{const e=t.find(n=>n.target===this.Jd);e&&this._b(e.contentRect.width,e.contentRect.height)}),this.ib.observe(this.Jd,{box:"border-box"}),!0)}pb(){this.ib!==null&&this.ib.disconnect(),this.ib=null}}function ch(i){return!!(i.handleScroll.mouseWheel||i.handleScale.mouseWheel)}function eI(i){return function(t){return t.open!==void 0}(i)||function(t){return t.value!==void 0}(i)}function bw(i,t){var e={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&t.indexOf(n)<0&&(e[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function"){var s=0;for(n=Object.getOwnPropertySymbols(i);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(i,n[s])&&(e[n[s]]=i[n[s]])}return e}function zm(i,t,e,n){const s=e.value,r={ee:t,ot:i,Vt:[s,s,s,s],zb:n};return e.color!==void 0&&(r.V=e.color),r}function iI(i,t,e,n){const s=e.value,r={ee:t,ot:i,Vt:[s,s,s,s],zb:n};return e.lineColor!==void 0&&(r.lt=e.lineColor),e.topColor!==void 0&&(r.Ps=e.topColor),e.bottomColor!==void 0&&(r.Rs=e.bottomColor),r}function nI(i,t,e,n){const s=e.value,r={ee:t,ot:i,Vt:[s,s,s,s],zb:n};return e.topLineColor!==void 0&&(r.Re=e.topLineColor),e.bottomLineColor!==void 0&&(r.De=e.bottomLineColor),e.topFillColor1!==void 0&&(r.ke=e.topFillColor1),e.topFillColor2!==void 0&&(r.ye=e.topFillColor2),e.bottomFillColor1!==void 0&&(r.Ce=e.bottomFillColor1),e.bottomFillColor2!==void 0&&(r.Te=e.bottomFillColor2),r}function sI(i,t,e,n){const s={ee:t,ot:i,Vt:[e.open,e.high,e.low,e.close],zb:n};return e.color!==void 0&&(s.V=e.color),s}function rI(i,t,e,n){const s={ee:t,ot:i,Vt:[e.open,e.high,e.low,e.close],zb:n};return e.color!==void 0&&(s.V=e.color),e.borderColor!==void 0&&(s.Ot=e.borderColor),e.wickColor!==void 0&&(s.Xh=e.wickColor),s}function oI(i,t,e,n,s){const r=ne(s)(e),o=Math.max(...r),l=Math.min(...r),a=r[r.length-1],u=[a,o,l,a],h=e,{time:c,color:f}=h;return{ee:t,ot:i,Vt:u,zb:n,$e:bw(h,["time","color"]),V:f}}function fl(i){return i.Vt!==void 0}function Dm(i,t){return t.customValues!==void 0&&(i.jb=t.customValues),i}function Ln(i){return(t,e,n,s,r,o)=>function(l,a){return a?a(l):(u=l).open===void 0&&u.value===void 0;var u}(n,o)?Dm({ot:t,ee:e,zb:s},n):Dm(i(t,e,n,s,r),n)}function Lm(i){return{Candlestick:Ln(rI),Bar:Ln(sI),Area:Ln(iI),Baseline:Ln(nI),Histogram:Ln(zm),Line:Ln(zm),Custom:Ln(oI)}[i]}function Fm(i){return{ee:0,Hb:new Map,la:i}}function Rm(i,t){if(i!==void 0&&i.length!==0)return{$b:t.key(i[0].ot),Ub:t.key(i[i.length-1].ot)}}function Am(i){let t;return i.forEach(e=>{t===void 0&&(t=e.zb)}),ne(t)}class lI{constructor(t){this.qb=new Map,this.Yb=new Map,this.Zb=new Map,this.Xb=[],this.q_=t}S(){this.qb.clear(),this.Yb.clear(),this.Zb.clear(),this.Xb=[]}Kb(t,e){let n=this.qb.size!==0,s=!1;const r=this.Yb.get(t);if(r!==void 0)if(this.Yb.size===1)n=!1,s=!0,this.qb.clear();else for(const a of this.Xb)a.pointData.Hb.delete(t)&&(s=!0);let o=[];if(e.length!==0){const a=e.map(d=>d.time),u=this.q_.createConverterToInternalObj(e),h=Lm(t.Qh()),c=t.Ca(),f=t.Ta();o=e.map((d,y)=>{const v=u(d.time),x=this.q_.key(v);let m=this.qb.get(x);m===void 0&&(m=Fm(v),this.qb.set(x,m),s=!0);const p=h(v,m.ee,d,a[y],c,f);return m.Hb.set(t,p),p})}n&&this.Gb(),this.Jb(t,o);let l=-1;if(s){const a=[];this.qb.forEach(u=>{a.push({timeWeight:0,time:u.la,pointData:u,originalTime:Am(u.Hb)})}),a.sort((u,h)=>this.q_.key(u.time)-this.q_.key(h.time)),l=this.Qb(a)}return this.tw(t,l,function(a,u,h){const c=Rm(a,h),f=Rm(u,h);if(c!==void 0&&f!==void 0)return{ta:c.Ub>=f.Ub&&c.$b>=f.$b}}(this.Yb.get(t),r,this.q_))}vd(t){return this.Kb(t,[])}iw(t,e){const n=e;(function(v){v.zb===void 0&&(v.zb=v.time)})(n),this.q_.preprocessData(e);const s=this.q_.createConverterToInternalObj([e])(e.time),r=this.Zb.get(t);if(r!==void 0&&this.q_.key(s)<this.q_.key(r))throw new Error(`Cannot update oldest data, last time=${r}, new time=${s}`);let o=this.qb.get(this.q_.key(s));const l=o===void 0;o===void 0&&(o=Fm(s),this.qb.set(this.q_.key(s),o));const a=Lm(t.Qh()),u=t.Ca(),h=t.Ta(),c=a(s,o.ee,e,n.zb,u,h);o.Hb.set(t,c),this.nw(t,c);const f={ta:fl(c)};if(!l)return this.tw(t,-1,f);const d={timeWeight:0,time:o.la,pointData:o,originalTime:Am(o.Hb)},y=Fo(this.Xb,this.q_.key(d.time),(v,x)=>this.q_.key(v.time)<x);this.Xb.splice(y,0,d);for(let v=y;v<this.Xb.length;++v)fh(this.Xb[v].pointData,v);return this.q_.fillWeightsForPoints(this.Xb,y),this.tw(t,y,f)}nw(t,e){let n=this.Yb.get(t);n===void 0&&(n=[],this.Yb.set(t,n));const s=n.length!==0?n[n.length-1]:null;s===null||this.q_.key(e.ot)>this.q_.key(s.ot)?fl(e)&&n.push(e):fl(e)?n[n.length-1]=e:n.splice(-1,1),this.Zb.set(t,e.ot)}Jb(t,e){e.length!==0?(this.Yb.set(t,e.filter(fl)),this.Zb.set(t,e[e.length-1].ot)):(this.Yb.delete(t),this.Zb.delete(t))}Gb(){for(const t of this.Xb)t.pointData.Hb.size===0&&this.qb.delete(this.q_.key(t.time))}Qb(t){let e=-1;for(let n=0;n<this.Xb.length&&n<t.length;++n){const s=this.Xb[n],r=t[n];if(this.q_.key(s.time)!==this.q_.key(r.time)){e=n;break}r.timeWeight=s.timeWeight,fh(r.pointData,n)}if(e===-1&&this.Xb.length!==t.length&&(e=Math.min(this.Xb.length,t.length)),e===-1)return-1;for(let n=e;n<t.length;++n)fh(t[n].pointData,n);return this.q_.fillWeightsForPoints(t,e),this.Xb=t,e}sw(){if(this.Yb.size===0)return null;let t=0;return this.Yb.forEach(e=>{e.length!==0&&(t=Math.max(t,e[e.length-1].ee))}),t}tw(t,e,n){const s={ew:new Map,St:{Eu:this.sw()}};if(e!==-1)this.Yb.forEach((r,o)=>{s.ew.set(o,{$e:r,rw:o===t?n:void 0})}),this.Yb.has(t)||s.ew.set(t,{$e:[],rw:n}),s.St.hw=this.Xb,s.St.lw=e;else{const r=this.Yb.get(t);s.ew.set(t,{$e:r||[],rw:n})}return s}}function fh(i,t){i.ee=t,i.Hb.forEach(e=>{e.ee=t})}function dd(i){const t={value:i.Vt[3],time:i.zb};return i.jb!==void 0&&(t.customValues=i.jb),t}function Pm(i){const t=dd(i);return i.V!==void 0&&(t.color=i.V),t}function aI(i){const t=dd(i);return i.lt!==void 0&&(t.lineColor=i.lt),i.Ps!==void 0&&(t.topColor=i.Ps),i.Rs!==void 0&&(t.bottomColor=i.Rs),t}function uI(i){const t=dd(i);return i.Re!==void 0&&(t.topLineColor=i.Re),i.De!==void 0&&(t.bottomLineColor=i.De),i.ke!==void 0&&(t.topFillColor1=i.ke),i.ye!==void 0&&(t.topFillColor2=i.ye),i.Ce!==void 0&&(t.bottomFillColor1=i.Ce),i.Te!==void 0&&(t.bottomFillColor2=i.Te),t}function _w(i){const t={open:i.Vt[0],high:i.Vt[1],low:i.Vt[2],close:i.Vt[3],time:i.zb};return i.jb!==void 0&&(t.customValues=i.jb),t}function hI(i){const t=_w(i);return i.V!==void 0&&(t.color=i.V),t}function cI(i){const t=_w(i),{V:e,Ot:n,Xh:s}=i;return e!==void 0&&(t.color=e),n!==void 0&&(t.borderColor=n),s!==void 0&&(t.wickColor=s),t}function Ec(i){return{Area:aI,Line:Pm,Baseline:uI,Histogram:Pm,Bar:hI,Candlestick:cI,Custom:fI}[i]}function fI(i){const t=i.zb;return Object.assign(Object.assign({},i.$e),{time:t})}const dI={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1},pI={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},mI={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:id,attributionLogo:!0},dh={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0},yI={rightOffset:0,barSpacing:6,minBarSpacing:.5,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0},vI={color:"rgba(0, 0, 0, 0)",visible:!1,fontSize:48,fontFamily:id,fontStyle:"",text:"",horzAlign:"center",vertAlign:"center"};function $m(){return{width:0,height:0,autoSize:!1,layout:mI,crosshair:dI,grid:pI,overlayPriceScales:Object.assign({},dh),leftPriceScale:Object.assign(Object.assign({},dh),{visible:!1}),rightPriceScale:Object.assign(Object.assign({},dh),{visible:!0}),timeScale:yI,watermark:vI,localization:{locale:ar?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class gI{constructor(t,e){this.aw=t,this.ow=e}applyOptions(t){this.aw.$t().$c(this.ow,t)}options(){return this.Li().W()}width(){return du(this.ow)?this.aw.Mb(this.ow):0}Li(){return E(this.aw.$t().Uc(this.ow)).Dt}}function Vm(i,t,e){const n=bw(i,["time","originalTime"]),s=Object.assign({time:t},n);return e!==void 0&&(s.originalTime=e),s}const wI={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class bI{constructor(t){this.Nh=t}applyOptions(t){this.Nh.$h(t)}options(){return this.Nh.W()}_w(){return this.Nh}}class _I{constructor(t,e,n,s,r){this.uw=new Ot,this.Es=t,this.cw=e,this.dw=n,this.q_=r,this.fw=s}S(){this.uw.S()}priceFormatter(){return this.Es.ba()}priceToCoordinate(t){const e=this.Es.Ct();return e===null?null:this.Es.Dt().Rt(t,e.Vt)}coordinateToPrice(t){const e=this.Es.Ct();return e===null?null:this.Es.Dt().pn(t,e.Vt)}barsInLogicalRange(t){if(t===null)return null;const e=new Ks(new Kr(t.from,t.to)).lu(),n=this.Es.In();if(n.Ni())return null;const s=n.ll(e.Os(),1),r=n.ll(e.ui(),-1),o=E(n.el()),l=E(n.An());if(s!==null&&r!==null&&s.ee>r.ee)return{barsBefore:t.from-o,barsAfter:l-t.to};const a={barsBefore:s===null||s.ee===o?t.from-o:s.ee-o,barsAfter:r===null||r.ee===l?l-t.to:l-r.ee};return s!==null&&r!==null&&(a.from=s.zb,a.to=r.zb),a}setData(t){this.q_,this.Es.Qh(),this.cw.pw(this.Es,t),this.mw("full")}update(t){this.Es.Qh(),this.cw.bw(this.Es,t),this.mw("update")}dataByIndex(t,e){const n=this.Es.In().ll(t,e);return n===null?null:Ec(this.seriesType())(n)}data(){const t=Ec(this.seriesType());return this.Es.In().ne().map(e=>t(e))}subscribeDataChanged(t){this.uw.l(t)}unsubscribeDataChanged(t){this.uw.v(t)}setMarkers(t){this.q_;const e=t.map(n=>Vm(n,this.q_.convertHorzItemToInternal(n.time),n.time));this.Es.na(e)}markers(){return this.Es.sa().map(t=>Vm(t,t.originalTime,void 0))}applyOptions(t){this.Es.$h(t)}options(){return Ai(this.Es.W())}priceScale(){return this.dw.priceScale(this.Es.Dt().Pa())}createPriceLine(t){const e=ei(Ai(wI),t),n=this.Es.ea(e);return new bI(n)}removePriceLine(t){this.Es.ra(t._w())}seriesType(){return this.Es.Qh()}attachPrimitive(t){this.Es.ka(t),t.attached&&t.attached({chart:this.fw,series:this,requestUpdate:()=>this.Es.$t().Kl()})}detachPrimitive(t){this.Es.ya(t),t.detached&&t.detached()}mw(t){this.uw.M()&&this.uw.m(t)}}class SI{constructor(t,e,n){this.ww=new Ot,this.mu=new Ot,this.Om=new Ot,this.$i=t,this.yl=t.St(),this.ab=e,this.yl.nc().l(this.gw.bind(this)),this.yl.sc().l(this.Mw.bind(this)),this.ab.Nm().l(this.xw.bind(this)),this.q_=n}S(){this.yl.nc().p(this),this.yl.sc().p(this),this.ab.Nm().p(this),this.ww.S(),this.mu.S(),this.Om.S()}scrollPosition(){return this.yl.Hu()}scrollToPosition(t,e){e?this.yl.Ju(t,1e3):this.$i.Jn(t)}scrollToRealTime(){this.yl.Gu()}getVisibleRange(){const t=this.yl.Vu();return t===null?null:{from:t.from.originalTime,to:t.to.originalTime}}setVisibleRange(t){const e={from:this.q_.convertHorzItemToInternal(t.from),to:this.q_.convertHorzItemToInternal(t.to)},n=this.yl.Iu(e);this.$i.pd(n)}getVisibleLogicalRange(){const t=this.yl.Du();return t===null?null:{from:t.Os(),to:t.ui()}}setVisibleLogicalRange(t){Cn(t.from<=t.to,"The from index cannot be after the to index."),this.$i.pd(t)}resetTimeScale(){this.$i.Kn()}fitContent(){this.$i.hc()}logicalToCoordinate(t){const e=this.$i.St();return e.Ni()?null:e.It(t)}coordinateToLogical(t){return this.yl.Ni()?null:this.yl.Nu(t)}timeToCoordinate(t){const e=this.q_.convertHorzItemToInternal(t),n=this.yl.Va(e,!1);return n===null?null:this.yl.It(n)}coordinateToTime(t){const e=this.$i.St(),n=e.Nu(t),s=e.Ui(n);return s===null?null:s.originalTime}width(){return this.ab.um().width}height(){return this.ab.um().height}subscribeVisibleTimeRangeChange(t){this.ww.l(t)}unsubscribeVisibleTimeRangeChange(t){this.ww.v(t)}subscribeVisibleLogicalRangeChange(t){this.mu.l(t)}unsubscribeVisibleLogicalRangeChange(t){this.mu.v(t)}subscribeSizeChange(t){this.Om.l(t)}unsubscribeSizeChange(t){this.Om.v(t)}applyOptions(t){this.yl.$h(t)}options(){return Object.assign(Object.assign({},Ai(this.yl.W())),{barSpacing:this.yl.le()})}gw(){this.ww.M()&&this.ww.m(this.getVisibleRange())}Mw(){this.mu.M()&&this.mu.m(this.getVisibleLogicalRange())}xw(t){this.Om.m(t.width,t.height)}}function xI(i){if(i===void 0||i.type==="custom")return;const t=i;t.minMove!==void 0&&t.precision===void 0&&(t.precision=function(e){if(e>=1)return 0;let n=0;for(;n<8;n++){const s=Math.round(e);if(Math.abs(s-e)<1e-8)return n;e*=10}return n}(t.minMove))}function Um(i){return function(t){if(nl(t.handleScale)){const n=t.handleScale;t.handleScale={axisDoubleClickReset:{time:n,price:n},axisPressedMouseMove:{time:n,price:n},mouseWheel:n,pinch:n}}else if(t.handleScale!==void 0){const{axisPressedMouseMove:n,axisDoubleClickReset:s}=t.handleScale;nl(n)&&(t.handleScale.axisPressedMouseMove={time:n,price:n}),nl(s)&&(t.handleScale.axisDoubleClickReset={time:s,price:s})}const e=t.handleScroll;nl(e)&&(t.handleScroll={horzTouchDrag:e,vertTouchDrag:e,mouseWheel:e,pressedMouseMove:e})}(i),i}class MI{constructor(t,e,n){this.Sw=new Map,this.kw=new Map,this.yw=new Ot,this.Cw=new Ot,this.Tw=new Ot,this.Pw=new lI(e);const s=n===void 0?Ai($m()):ei(Ai($m()),Um(n));this.q_=e,this.aw=new tI(t,s,e),this.aw.lm().l(o=>{this.yw.M()&&this.yw.m(this.Rw(o()))},this),this.aw.am().l(o=>{this.Cw.M()&&this.Cw.m(this.Rw(o()))},this),this.aw.Xc().l(o=>{this.Tw.M()&&this.Tw.m(this.Rw(o()))},this);const r=this.aw.$t();this.Dw=new SI(r,this.aw.fb(),this.q_)}remove(){this.aw.lm().p(this),this.aw.am().p(this),this.aw.Xc().p(this),this.Dw.S(),this.aw.S(),this.Sw.clear(),this.kw.clear(),this.yw.S(),this.Cw.S(),this.Tw.S(),this.Pw.S()}resize(t,e,n){this.autoSizeActive()||this.aw._b(t,e,n)}addCustomSeries(t,e){const n=zs(t),s=Object.assign(Object.assign({},Jg),n.defaultOptions());return this.Vw("Custom",s,e,n)}addAreaSeries(t){return this.Vw("Area",l2,t)}addBaselineSeries(t){return this.Vw("Baseline",a2,t)}addBarSeries(t){return this.Vw("Bar",r2,t)}addCandlestickSeries(t={}){return function(e){e.borderColor!==void 0&&(e.borderUpColor=e.borderColor,e.borderDownColor=e.borderColor),e.wickColor!==void 0&&(e.wickUpColor=e.wickColor,e.wickDownColor=e.wickColor)}(t),this.Vw("Candlestick",s2,t)}addHistogramSeries(t){return this.Vw("Histogram",u2,t)}addLineSeries(t){return this.Vw("Line",o2,t)}removeSeries(t){const e=ne(this.Sw.get(t)),n=this.Pw.vd(e);this.aw.$t().vd(e),this.Ow(n),this.Sw.delete(t),this.kw.delete(e)}pw(t,e){this.Ow(this.Pw.Kb(t,e))}bw(t,e){this.Ow(this.Pw.iw(t,e))}subscribeClick(t){this.yw.l(t)}unsubscribeClick(t){this.yw.v(t)}subscribeCrosshairMove(t){this.Tw.l(t)}unsubscribeCrosshairMove(t){this.Tw.v(t)}subscribeDblClick(t){this.Cw.l(t)}unsubscribeDblClick(t){this.Cw.v(t)}priceScale(t){return new gI(this.aw,t)}timeScale(){return this.Dw}applyOptions(t){this.aw.$h(Um(t))}options(){return this.aw.W()}takeScreenshot(){return this.aw.wb()}autoSizeActive(){return this.aw.kb()}chartElement(){return this.aw.yb()}paneSize(){const t=this.aw.Tb();return{height:t.height,width:t.width}}setCrosshairPosition(t,e,n){const s=this.Sw.get(n);if(s===void 0)return;const r=this.aw.$t().dr(s);r!==null&&this.aw.$t().ad(t,e,r)}clearCrosshairPosition(){this.aw.$t().od(!0)}Vw(t,e,n={},s){xI(n.priceFormat);const r=ei(Ai(Gg),Ai(e),n),o=this.aw.$t().dd(t,r,s),l=new _I(o,this,this,this,this.q_);return this.Sw.set(l,o),this.kw.set(o,l),l}Ow(t){const e=this.aw.$t();e._d(t.St.Eu,t.St.hw,t.St.lw),t.ew.forEach((n,s)=>s.J(n.$e,n.rw)),e.Wu()}Bw(t){return ne(this.kw.get(t))}Rw(t){const e=new Map;t.Nb.forEach((s,r)=>{const o=r.Qh(),l=Ec(o)(s);if(o!=="Custom")Cn(eI(l));else{const a=r.Ta();Cn(!a||a(l)===!1)}e.set(this.Bw(r),l)});const n=t.Eb!==void 0&&this.kw.has(t.Eb)?this.Bw(t.Eb):void 0;return{time:t.zb,logical:t.ee,point:t.Lb,hoveredSeries:n,hoveredObjectId:t.Fb,seriesData:e,sourceEvent:t.Wb}}}function II(i,t,e){let n;if(Lo(i)){const r=document.getElementById(i);Cn(r!==null,`Cannot find element in DOM with id=${i}`),n=r}else n=i;const s=new MI(n,t,e);return t.setOptions(s.options()),s}function EI(i,t){return II(i,new Cm,Cm.Id(t))}Object.assign(Object.assign({},Gg),Jg);const CI=[0,.236,.382,.5,.618,.786,1,1.272,1.618],kI=[1,1.272,1.414,1.618,2];function NI(i,t){if(i.length<2)return[];const[e,n]=i,s=n.price-e.price;return(t?kI:CI).map(o=>({level:o,price:e.price+s*o}))}function TI(i){const[t,e]=i;if(!t||!e)return null;const n=Math.min(t.time,e.time),s=Math.max(t.time,e.time),r=Math.min(t.price,e.price),o=Math.max(t.price,e.price);return{t1:n,t2:s,y1:r,y2:o}}function BI(i,t){const e=Math.abs(t.time-i.time),n=t.price-i.price,s=i.price!==0?n/i.price*100:0;return{dt:e,dp:n,pct:s}}function OI({data:i,drawings:t,setDrawings:e,activeTool:n,magnet:s,toolbarKey:r,overlays:o=[],markers:l=[],onReady:a}){const u=Mt.useRef(null),h=Mt.useRef(null),c=Mt.useRef(null),f=Mt.useRef(null),d=Mt.useRef([]),y=Mt.useRef(new Map),[v,x]=Mt.useState([]),[m,p]=Mt.useState(null);function g(b){if(typeof b=="number")return b>1e12?Math.floor(b/1e3):Math.floor(b);const I=Date.parse(b);return Math.floor(I/1e3)}function _(b){if(!Array.isArray(b))return[];const I=b.filter(M=>M&&M.time!=null&&Number.isFinite(M.open)&&Number.isFinite(M.high)&&Number.isFinite(M.low)&&Number.isFinite(M.close)).map(M=>({time:g(M.time),open:+M.open,high:+M.high,low:+M.low,close:+M.close}));return I.sort((M,S)=>M.time-S.time),I}function k(b){const I=d.current;if(!I.length)return 0;let M=0,S=I.length-1;for(;M<S;){const B=M+S>>1;I[B].time<b?M=B+1:S=B}const F=M;if(F===0)return 0;const Z=I[F-1].time,nt=I[F].time;return Math.abs(b-Z)<=Math.abs(nt-b)?F-1:F}function O(b,I){const M=d.current;if(!M.length)return{time:b,price:I};const S=k(b),F=M[S],Z=[F.open,F.high,F.low,F.close];let nt=Z[0],B=Math.abs(I-Z[0]);for(let z=1;z<Z.length;z++){const A=Math.abs(I-Z[z]);A<B&&(B=A,nt=Z[z])}return{time:F.time,price:nt}}function T(b,I){const M=c.current,S=f.current,F=d.current;if(!M||!S||!F.length)return null;const Z=k(b),nt=M.timeScale(),B=typeof nt.logicalToCoordinate=="function"?nt.logicalToCoordinate(Z):nt.timeToCoordinate(F[Z].time);if(B==null)return null;const z=S.priceToCoordinate(I)??null;return z==null?null:{x:B,y:z,i:Z}}function N(b){return T(b.time,b.price)}let it=null;function R(){it==null&&(it=requestAnimationFrame(()=>{it=null,si()}))}Mt.useEffect(()=>{const b=u.current;if(!b)return;b.style.minHeight||(b.style.minHeight="420px"),b.style.position="relative";const I=EI(b,{width:b.clientWidth,height:b.clientHeight||520,layout:{background:{color:"#0e1117"},textColor:"#e5e7eb"},timeScale:{rightOffset:2,borderColor:"#333"},grid:{vertLines:{color:"#1f2937"},horzLines:{color:"#1f2937"}},handleScroll:{mouseWheel:!0,pressedMouseMove:!0},handleScale:{mouseWheel:!0,pinch:!0,axisPressedMouseMove:{time:!0,price:!0}}}),M=I.addCandlestickSeries({upColor:"#26a69a",downColor:"#ef5350",wickUpColor:"#26a69a",wickDownColor:"#ef5350",borderVisible:!1});c.current=I,f.current=M,a==null||a(I);const S=h.current,F=()=>{if(!S||!b)return;const L=b.getBoundingClientRect(),G=window.devicePixelRatio||1;S.width=Math.floor(L.width*G),S.height=Math.floor(L.height*G),S.style.width=L.width+"px",S.style.height=L.height+"px";const Nt=S.getContext("2d");Nt&&Nt.setTransform(G,0,0,G,0,0)};F();const Z=new ResizeObserver(()=>{I.applyOptions({width:b.clientWidth,height:b.clientHeight||520}),F(),R()});Z.observe(b);const nt=()=>{F(),R()};I.timeScale().subscribeVisibleTimeRangeChange(nt);const B=I.timeScale(),z=typeof B.subscribeVisibleLogicalRangeChange=="function"&&typeof B.unsubscribeVisibleLogicalRangeChange=="function";z&&B.subscribeVisibleLogicalRangeChange(nt);const A=L=>{L.key==="Escape"&&(x([]),p(null),R())};return window.addEventListener("keydown",A),()=>{window.removeEventListener("keydown",A),Z.disconnect(),I.timeScale().unsubscribeVisibleTimeRangeChange(nt),z&&B.unsubscribeVisibleLogicalRangeChange(nt);for(const L of y.current.values())I.removeSeries(L);y.current.clear(),I.remove(),c.current=null,f.current=null,d.current=[]}},[]),Mt.useEffect(()=>{const b=f.current;if(!b)return;const I=_(i);I.length&&(d.current=I,b.setData(I),R())},[i]),Mt.useEffect(()=>{const b=c.current;if(!b)return;const I=new Set(o.map(M=>M.id));for(const[M,S]of y.current)I.has(M)||(b.removeSeries(S),y.current.delete(M));for(const M of o){const S=Math.max(1,Math.round(M.width??2)),F=M.dash==="dash"?1:M.dash==="dot"?2:0;let Z=y.current.get(M.id);Z?Z.applyOptions({color:M.color||"#33cccc",lineWidth:S,lineStyle:F}):(Z=b.addLineSeries({color:M.color||"#33cccc",lineWidth:S,lineStyle:F,priceLineVisible:!1}),y.current.set(M.id,Z));const nt=(M.data||[]).filter(B=>B&&B.time!=null&&Number.isFinite(B.value)).map(B=>({time:g(B.time),value:+B.value})).sort((B,z)=>B.time-z.time);nt.length&&Z.setData(nt)}R()},[o]),Mt.useEffect(()=>{R()},[l]),Mt.useEffect(()=>{const b=h.current,I=c.current,M=!!(n&&n!=="select");b&&(b.style.pointerEvents=M?"auto":"none",b.style.cursor=M?"crosshair":"default"),I!=null&&I.applyOptions&&I.applyOptions({handleScroll:M?{mouseWheel:!1,pressedMouseMove:!1,horzTouchDrag:!1,vertTouchDrag:!1}:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:M?{mouseWheel:!1,pinch:!1,axisPressedMouseMove:{time:!1,price:!1}}:{mouseWheel:!0,pinch:!0,axisPressedMouseMove:{time:!0,price:!0}}})},[n]);function Pt(b){const I={...t,[b.id]:b};e(I);try{localStorage.setItem(`drawings:${r}`,JSON.stringify(I))}catch{}}function Ci(b){const I=typeof b.time=="string"?g(b.time):b.time,M=d.current;if(!M.length)return null;const S=k(I),F=M[S];if(!F)return null;if(typeof b.price=="number"&&Number.isFinite(b.price))return b.price;const Z=b.side??(b.position==="aboveBar"?"above":b.position==="belowBar"?"below":"inBar");return Z==="above"?F.high:Z==="below"?F.low:F.close}function si(){var nt;const b=h.current,I=c.current,M=f.current;if(!b||!I||!M)return;const S=b.getContext("2d"),F=b.getBoundingClientRect();S.clearRect(0,0,F.width,F.height);const Z=Object.values(t).filter(B=>B.props.visible!==!1);for(const B of Z){if(S.lineWidth=B.props.width??1.5,S.strokeStyle=B.props.color??"#eab308",S.setLineDash(B.props.style==="dash"?[6,4]:B.props.style==="dot"?[2,4]:[]),B.type==="trendline"||B.type==="ray"){const[z,A]=B.anchors;if(!z||!A)continue;const L=N(z),G=N(A);if(!L||!G)continue;if(S.beginPath(),S.moveTo(L.x,L.y),B.type==="ray"){const Nt=G.x-L.x,Gt=G.y-L.y,ze=(F.width-L.x)/(Nt||1e-6);S.lineTo(L.x+Nt*ze,L.y+Gt*ze)}else S.lineTo(G.x,G.y);S.stroke()}else if(B.type==="hline"){const z=(nt=N(B.anchors[0]))==null?void 0:nt.y;if(z==null)continue;S.beginPath(),S.moveTo(0,z),S.lineTo(F.width,z),S.stroke()}else if(B.type==="rect"){const z=TI(B.anchors);if(!z)continue;const A=N({time:z.t1,price:z.y1}),L=N({time:z.t2,price:z.y2});if(!A||!L)continue;const G=A.x,Nt=L.y,Gt=L.x-A.x,ze=A.y-L.y;S.save(),S.globalAlpha=.12,S.fillStyle=B.props.color||"#eab308",S.fillRect(G,Nt,Gt,ze),S.restore(),S.strokeRect(G,Nt,Gt,ze)}else if(B.type==="path"){const z=B.anchors.map(A=>N(A)).filter(Boolean);if(z.length<2)continue;S.beginPath(),S.moveTo(z[0].x,z[0].y);for(let A=1;A<z.length;A++)S.lineTo(z[A].x,z[A].y);S.stroke()}else if(B.type==="text"){const z=N(B.anchors[0]);if(!z)continue;S.fillStyle=B.props.color||"#e5e7eb",S.font="12px Inter, system-ui, sans-serif",S.fillText(B.props.label||"Text",z.x+4,z.y-4)}else if(B.type==="measure"){const[z,A]=B.anchors;if(!z||!A)continue;const L=N(z),G=N(A);if(!L||!G)continue;S.beginPath(),S.moveTo(L.x,L.y),S.lineTo(G.x,G.y),S.stroke();const Nt=BI(z,A),Gt=`Δp: ${Nt.dp.toFixed(4)} (${Nt.pct.toFixed(2)}%)  Δt: ${Nt.dt}s`;S.fillStyle="#e5e7eb",S.fillText(Gt,(L.x+G.x)/2+6,(L.y+G.y)/2-6)}else if(B.type==="fib_retracement"||B.type==="fib_extension"){const z=NI(B.anchors,B.type==="fib_extension");if(z.length===0)continue;const[A,L]=B.anchors,G=Math.min(A.time,L.time),Nt=Math.max(A.time,L.time);for(const Gt of z){const ze=N({time:G,price:Gt.price}),pr=N({time:Nt,price:Gt.price});!ze||!pr||(S.beginPath(),S.moveTo(ze.x,ze.y),S.lineTo(pr.x,pr.y),S.stroke(),S.fillStyle=B.props.color||"#e5e7eb",S.fillText(`${(Gt.level*100).toFixed(1)}%  ${Gt.price.toFixed(4)}`,pr.x+6,pr.y-2))}}for(const z of B.anchors){const A=N(z);A&&(S.beginPath(),S.arc(A.x,A.y,3,0,Math.PI*2),S.fillStyle="#e5e7eb",S.fill())}}if(n&&n!=="select"&&v.length){const B="#a3e635",z=N(v[0]);if(z&&(S.beginPath(),S.arc(z.x,z.y,3,0,Math.PI*2),S.fillStyle=B,S.fill()),m){const A=N(v[0]),L=N(m);if(A&&L){S.beginPath(),S.moveTo(A.x,A.y);const G=F.width;if(n==="ray"){const Nt=L.x-A.x,Gt=L.y-A.y,ze=(G-A.x)/(Nt||1e-6);S.lineTo(A.x+Nt*ze,A.y+Gt*ze)}else S.lineTo(L.x,L.y);S.setLineDash([4,4]),S.strokeStyle=B,S.stroke(),S.setLineDash([])}}}for(const B of l||[]){const z=typeof B.time=="string"?g(B.time):B.time,A=Ci(B);if(A==null)continue;const L=T(z,A);if(!L)continue;const G=6,Nt=B.side??(B.position==="aboveBar"?"above":B.position==="belowBar"?"below":"inBar"),Gt=B.color||(Nt==="above"?"#ef5350":Nt==="below"?"#26a69a":"#60a5fa");S.beginPath(),Nt==="above"?(S.moveTo(L.x,L.y-G),S.lineTo(L.x-G,L.y+G),S.lineTo(L.x+G,L.y+G)):Nt==="below"?(S.moveTo(L.x,L.y+G),S.lineTo(L.x-G,L.y-G),S.lineTo(L.x+G,L.y-G)):(S.moveTo(L.x,L.y-G),S.lineTo(L.x+G,L.y),S.lineTo(L.x,L.y+G),S.lineTo(L.x-G,L.y)),S.closePath(),S.fillStyle=Gt,S.fill()}}function Gi(b){if(b.preventDefault(),b.stopPropagation(),!n||n==="select")return;const I=b.target.getBoundingClientRect(),M=b.clientX-I.left,S=b.clientY-I.top,F=c.current,Z=f.current;if(!F||!Z)return;const nt=F.timeScale().coordinateToTime(M),B=Z.coordinateToPrice(S);if(nt==null||B==null)return;let z={time:Number(nt),price:B};s&&(z=O(z.time,z.price));const A=[...v,z];if(["trendline","ray","measure","fib_retracement","fib_extension","rect"].includes(n))if(A.length===2){const L=crypto.randomUUID();Pt({id:L,type:n,anchors:A,props:{color:"#eab308",width:1.6,style:"solid",visible:!0,locked:!1},meta:{createdAt:Date.now(),updatedAt:Date.now(),z:0}}),x([]),p(null)}else x(A);else if(n==="hline"||n==="text"){const L=crypto.randomUUID();Pt({id:L,type:n,anchors:[z],props:{color:"#60a5fa",width:1.6,style:"solid",visible:!0,locked:!1,label:n==="text"?"Label":void 0},meta:{createdAt:Date.now(),updatedAt:Date.now(),z:0}}),x([]),p(null)}else n==="path"&&x(A);R()}function fs(b){if(!n||n==="select")return;const I=b.target.getBoundingClientRect(),M=b.clientX-I.left,S=b.clientY-I.top,F=c.current,Z=f.current;if(!F||!Z)return;const nt=F.timeScale().coordinateToTime(M),B=Z.coordinateToPrice(S);if(nt==null||B==null)return;let z={time:Number(nt),price:B};s&&(z=O(z.time,z.price)),p(z),R()}function ri(){if(n==="path"&&v.length>1){const b=crypto.randomUUID();Pt({id:b,type:"path",anchors:m?[...v,m]:v,props:{color:"#34d399",width:1.6,style:"solid",visible:!0,locked:!1},meta:{createdAt:Date.now(),updatedAt:Date.now(),z:0}}),x([]),p(null),R()}}function qi(b){b.preventDefault(),v.length&&(x([]),p(null),R())}return dt.jsx("div",{ref:u,style:{position:"relative",width:"100%",height:540},children:dt.jsx("canvas",{ref:h,onMouseDown:Gi,onMouseMove:fs,onDoubleClick:ri,onContextMenu:qi,style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",zIndex:5}})})}class zI extends An.Component{constructor(t){super(t),this.state={err:void 0}}componentDidCatch(t){this.setState({err:t}),ce.setFrameHeight()}render(){var t;return this.state.err?dt.jsxs("div",{style:{padding:12,fontFamily:"system-ui, sans-serif",color:"#fca5a5"},children:[dt.jsx("b",{children:"Component error:"}),dt.jsx("pre",{style:{whiteSpace:"pre-wrap"},children:String(((t=this.state.err)==null?void 0:t.message)||this.state.err)})]}):this.props.children}}function DI(i,t){const[e,n]=Mt.useState(()=>{try{const r=localStorage.getItem(i);return r?JSON.parse(r):t}catch{return t}});return[e,r=>{n(r);try{localStorage.setItem(i,JSON.stringify(r))}catch{}}]}const LI=({args:i})=>{const{ohlcv:t=[],symbol:e="",timeframe:n="",initial_drawings:s={},magnet:r=!1,toolbar_default:o="docked-right",overlay_indicators:l=[],pane_indicators:a=[],markers:u=[]}=i||{},[h,c]=Mt.useState(s||{}),[f,d]=Mt.useState(null),[y,v]=DI("toolbar:collapsed",!1);Mt.useEffect(()=>{ce.setComponentReady(),ce.setFrameHeight();const m=window.setInterval(()=>ce.setFrameHeight(),400);return()=>window.clearInterval(m)},[]),Mt.useEffect(()=>{const m=p=>p.key==="Escape"&&d(null);return window.addEventListener("keydown",m),()=>window.removeEventListener("keydown",m)},[]),Mt.useEffect(()=>{ce.setComponentValue({drawings:h})},[h]),Mt.useEffect(()=>{ce.setFrameHeight()},[t,l,a,u,y,f]);const x=m=>dt.jsx("button",{className:`tool-btn ${f===m.id?"active":""}`,onClick:()=>d(p=>p===m.id?null:m.id),title:m.label,children:m.label});return dt.jsx(zI,{children:dt.jsxs("div",{className:"root",children:[dt.jsxs("div",{className:`toolbar ${y?"collapsed":""}`,children:[dt.jsxs("div",{className:"toolbar-header",children:[dt.jsx("span",{className:"title",children:"Tools"}),dt.jsx("button",{className:"min-btn",onClick:()=>v(!y),children:y?"›":"–"})]}),!y&&dt.jsxs("div",{className:"toolbar-body",children:[dt.jsxs("div",{className:"group",children:[dt.jsx(x,{id:"select",label:"Select"}),dt.jsx(x,{id:"trendline",label:"Trend"}),dt.jsx(x,{id:"ray",label:"Ray"}),dt.jsx(x,{id:"rect",label:"Rect"}),dt.jsx(x,{id:"path",label:"Path"}),dt.jsx(x,{id:"hline",label:"HLine"}),dt.jsx(x,{id:"measure",label:"Measure"}),dt.jsx(x,{id:"fib_retracement",label:"Fib"}),dt.jsx(x,{id:"text",label:"Text"})]}),dt.jsx("div",{className:"hint",children:"ESC to cancel • Right-click to cancel a draft"})]})]}),!y&&dt.jsx("div",{className:"toolbar-spacer"}),dt.jsx(OI,{data:t,drawings:h,setDrawings:c,activeTool:f,magnet:r,toolbarKey:`${e}@${n}`,overlays:l,markers:u,onReady:()=>{}})]})})},FI=Jx(LI),Sw=document.getElementById("root");if(!Sw)throw new Error("No #root element found in index.html");ph.createRoot(Sw).render(dt.jsx(FI,{}));
